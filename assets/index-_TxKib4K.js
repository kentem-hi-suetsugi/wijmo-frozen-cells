const _g=Object.freeze(Object.defineProperty({__proto__:null,get Aggregate(){return xe},get ArrayBase(){return Mo},get Binding(){return st},get CancelEventArgs(){return we},get Clipboard(){return uu},get CollectionView(){return rn},get CollectionViewGroup(){return vn},get Color(){return mt},get Control(){return M},get ControlBase(){return Np},get DataType(){return ve},get DateTime(){return W},get Event(){return P},get EventArgs(){return Ci},get Globalize(){return ne},get GroupDescription(){return fc},get Key(){return x},get NotifyCollectionChangedAction(){return Oe},get NotifyCollectionChangedEventArgs(){return Jt},get ObservableArray(){return qt},get PageChangingEventArgs(){return Mp},get Point(){return bt},get PopupPosition(){return on},get PrintDocument(){return vv},get PropertyChangedEventArgs(){return rv},get PropertyGroupDescription(){return ou},get Rect(){return yt},get RequestErrorEventArgs(){return ov},get Size(){return $t},get SortDescription(){return Oi},get SortNulls(){return Tn},get Tooltip(){return tl},get TooltipEventArgs(){return Bp},get _ClickRepeater(){return Wi},get _Map(){return zp},get _MaskElement(){return no},get _MaskProvider(){return Br},get _addCultureInfo(){return Ei},get _deprecated(){return Cl},get _focusSrv(){return dc},get _getActiveElement(){return Hp},get _getCalculatedArray(){return Dp},get _getModule(){return Sl},get _getTargetObject(){return Tp},get _registerModule(){return Bo},get _startDrag(){return Rp},get _updateCulture(){return pv},get _updateWme(){return Vp},get addClass(){return ie},get animate(){return mc},get asArray(){return gt},get asBoolean(){return k},get asCollectionView(){return No},get asDate(){return zt},get asEnum(){return ye},get asFunction(){return ke},get asInt(){return Ee},get asNumber(){return j},get asString(){return L},get asType(){return Le},get assert(){return B},get changeType(){return bl},get clamp(){return ce},get closest(){return K},get closestClass(){return Ht},get contains(){return q},get controlBaseClass(){return vc},get copy(){return xi},get createElement(){return _e},get culture(){return oe},get disableAutoComplete(){return El},get enable(){return It},get escapeHtml(){return Cn},get escapeRegExp(){return _c},get evalTemplate(){return Lp},get format(){return Nr},get getActiveElement(){return Z},get getAggregate(){return Pl},get getElement(){return Un},get getElementRect(){return Zs},get getEventOptions(){return Qs},get getType(){return vi},get getTypes(){return Op},get getUniqueId(){return gc},get getVersion(){return pc},get glbz(){return jp},get hasClass(){return de},get hasItems(){return Ue},get hidePopup(){return Zt},get httpRequest(){return lu},get isArray(){return We},get isBoolean(){return Je},get isDate(){return Me},get isEdge(){return Xm},get isEmpty(){return uv},get isFirefox(){return Gi},get isFunction(){return ee},get isIE(){return ge},get isIE10(){return Sp},get isIE9(){return Qn},get isInt(){return Js},get isMobile(){return bp},get isNullOrWhiteSpace(){return av},get isNumber(){return ue},get isObject(){return rt},get isPrimitive(){return Tr},get isSafari(){return wr},get isString(){return Q},get isUndefined(){return Vn},get isiOS(){return Cp},get mouseToPage(){return dr},get moveFocus(){return fo},get removeChild(){return De},get removeClass(){return kt},get saveFile(){return hv},get setAriaLabel(){return Ve},get setAttribute(){return A},get setChecked(){return Mr},get setCss(){return H},get setLicenseKey(){return lv},get setSelectionRange(){return J},get setText(){return _n},get showPopup(){return Pn},get supportsFocusOptions(){return Ip},get toFixed(){return su},get toHeaderCase(){return xl},get toPlainText(){return Sn},get toggleClass(){return te},get tryCast(){return Gt}},Symbol.toStringTag,{value:"Module"})),mg=Object.freeze(Object.defineProperty({__proto__:null,get AutoComplete(){return Qp},get Calendar(){return $p},get ClickAction(){return oi},get CollectionViewNavigator(){return Xv},get ColorPicker(){return Yp},get ComboBox(){return Vo},get DateSelectionMode(){return Rt},get DropDown(){return Or},get FormatItemEventArgs(){return bc},get InputColor(){return Zv},get InputDate(){return Cc},get InputDateRange(){return Jv},get InputDateTime(){return ny},get InputMask(){return $v},get InputNumber(){return qv},get InputTime(){return Xp},get ListBox(){return Vr},get Menu(){return ty},get MultiAutoComplete(){return iy},get MultiSelect(){return ey},get MultiSelectListBox(){return qp},get Popup(){return Qv},get PopupBoundsChangingEventArgs(){return fu},get PopupTrigger(){return Be},get ShowMonthPicker(){return Cr}},Symbol.toStringTag,{value:"Module"})),ld=Object.freeze(Object.defineProperty({__proto__:null,get AllowDragging(){return Hn},get AllowMerging(){return Lr},get AllowPinning(){return en},get AllowResizing(){return yn},get AllowSorting(){return Gn},get AutoSizeMode(){return zn},get CellEditEndingEventArgs(){return il},get CellFactory(){return Se},get CellRange(){return z},get CellRangeEventArgs(){return fe},get CellType(){return U},get ClipStringOptions(){return mn},get Column(){return et},get ColumnCollection(){return rl},get ColumnGroup(){return Ai},get ColumnGroupCollection(){return Fi},get DataMap(){return pu},get DataMapEditor(){return Nt},get FlexGrid(){return an},get FormatItemEventArgs(){return eg},get GridPanel(){return St},get GroupRow(){return Pe},get HeadersVisibility(){return ze},get HitTestInfo(){return Oo},get KeyAction(){return gi},get MergeManager(){return gu},get Row(){return xn},get RowCol(){return kl},get RowColCollection(){return xc},get RowColFlags(){return $},get RowCollection(){return po},get SelMove(){return Ln},get SelectedState(){return jr},get SelectionMode(){return se},get _AddNewHandler(){return ig},get _ColumnGroupHandler(){return ng},get _CustomEditor(){return sg},get _EditHandler(){return og},get _ImeHandler(){return Il},get _KeyboardHandler(){return lg},get _MouseHandler(){return ag},get _NewRowTemplate(){return Ie},get _SelectionHandler(){return tg},get _getSafariVer(){return Zp},get softInput(){return jo}},Symbol.toStringTag,{value:"Module"})),vg=Object.freeze(Object.defineProperty({__proto__:null,get DirectiveCellFactoryBase(){return cg},get GridCellTemplateType(){return pe},get softGridDetail(){return Ps},get softInput(){return _u}},Symbol.toStringTag,{value:"Module"}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function yg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ad={exports:{}},ol={},ud={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),wg=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),Pg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Ig=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Dg(n){return n===null||typeof n!="object"?null:(n=Lc&&n[Lc]||n["@@iterator"],typeof n=="function"?n:null)}var cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hd=Object.assign,dd={};function Hr(n,t,e){this.props=n,this.context=t,this.refs=dd,this.updater=e||cd}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Hr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function fd(){}fd.prototype=Hr.prototype;function vu(n,t,e){this.props=n,this.context=t,this.refs=dd,this.updater=e||cd}var yu=vu.prototype=new fd;yu.constructor=vu;hd(yu,Hr.prototype);yu.isPureReactComponent=!0;var Hc=Array.isArray,pd=Object.prototype.hasOwnProperty,wu={current:null},gd={key:!0,ref:!0,__self:!0,__source:!0};function _d(n,t,e){var i,r={},o=null,s=null;if(t!=null)for(i in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)pd.call(t,i)&&!gd.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:Lo,type:n,key:o,ref:s,props:r,_owner:wu.current}}function Tg(n,t){return{$$typeof:Lo,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function bu(n){return typeof n=="object"&&n!==null&&n.$$typeof===Lo}function Mg(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var Ac=/\/+/g;function Tl(n,t){return typeof n=="object"&&n!==null&&n.key!=null?Mg(""+n.key):t.toString(36)}function ps(n,t,e,i,r){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Lo:case wg:s=!0}}if(s)return s=n,r=r(s),n=i===""?"."+Tl(s,0):i,Hc(r)?(e="",n!=null&&(e=n.replace(Ac,"$&/")+"/"),ps(r,t,e,"",function(u){return u})):r!=null&&(bu(r)&&(r=Tg(r,e+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Ac,"$&/")+"/")+n)),t.push(r)),1;if(s=0,i=i===""?".":i+":",Hc(n))for(var l=0;l<n.length;l++){o=n[l];var a=i+Tl(o,l);s+=ps(o,t,e,a,r)}else if(a=Dg(n),typeof a=="function")for(n=a.call(n),l=0;!(o=n.next()).done;)o=o.value,a=i+Tl(o,l++),s+=ps(o,t,e,a,r);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $o(n,t,e){if(n==null)return n;var i=[],r=0;return ps(n,i,"","",function(o){return t.call(e,o,r++)}),i}function Og(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Ct={current:null},gs={transition:null},jg={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:gs,ReactCurrentOwner:wu};function md(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:$o,forEach:function(n,t,e){$o(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return $o(n,function(){t++}),t},toArray:function(n){return $o(n,function(t){return t})||[]},only:function(n){if(!bu(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};re.Component=Hr;re.Fragment=bg;re.Profiler=xg;re.PureComponent=vu;re.StrictMode=Cg;re.Suspense=kg;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;re.act=md;re.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=hd({},n.props),r=n.key,o=n.ref,s=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=wu.current),t.key!==void 0&&(r=""+t.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(a in t)pd.call(t,a)&&!gd.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Lo,type:n.type,key:r,ref:o,props:i,_owner:s}};re.createContext=function(n){return n={$$typeof:Sg,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Eg,_context:n},n.Consumer=n};re.createElement=_d;re.createFactory=function(n){var t=_d.bind(null,n);return t.type=n,t};re.createRef=function(){return{current:null}};re.forwardRef=function(n){return{$$typeof:Pg,render:n}};re.isValidElement=bu;re.lazy=function(n){return{$$typeof:Rg,_payload:{_status:-1,_result:n},_init:Og}};re.memo=function(n,t){return{$$typeof:Ig,type:n,compare:t===void 0?null:t}};re.startTransition=function(n){var t=gs.transition;gs.transition={};try{n()}finally{gs.transition=t}};re.unstable_act=md;re.useCallback=function(n,t){return Ct.current.useCallback(n,t)};re.useContext=function(n){return Ct.current.useContext(n)};re.useDebugValue=function(){};re.useDeferredValue=function(n){return Ct.current.useDeferredValue(n)};re.useEffect=function(n,t){return Ct.current.useEffect(n,t)};re.useId=function(){return Ct.current.useId()};re.useImperativeHandle=function(n,t,e){return Ct.current.useImperativeHandle(n,t,e)};re.useInsertionEffect=function(n,t){return Ct.current.useInsertionEffect(n,t)};re.useLayoutEffect=function(n,t){return Ct.current.useLayoutEffect(n,t)};re.useMemo=function(n,t){return Ct.current.useMemo(n,t)};re.useReducer=function(n,t,e){return Ct.current.useReducer(n,t,e)};re.useRef=function(n){return Ct.current.useRef(n)};re.useState=function(n){return Ct.current.useState(n)};re.useSyncExternalStore=function(n,t,e){return Ct.current.useSyncExternalStore(n,t,e)};re.useTransition=function(){return Ct.current.useTransition()};re.version="18.3.1";ud.exports=re;var Ft=ud.exports;const Lg=yg(Ft);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Ft,Ag=Symbol.for("react.element"),Fg=Symbol.for("react.fragment"),zg=Object.prototype.hasOwnProperty,Ng=Hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function vd(n,t,e){var i,r={},o=null,s=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(i in t)zg.call(t,i)&&!Bg.hasOwnProperty(i)&&(r[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:Ag,type:n,key:o,ref:s,props:r,_owner:Ng.current}}ol.Fragment=Fg;ol.jsx=vd;ol.jsxs=vd;ad.exports=ol;var Zi=ad.exports,ha={},yd={exports:{}},Wt={},wd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(D,G){var Y=D.length;D.push(G);e:for(;0<Y;){var le=Y-1>>>1,ae=D[le];if(0<r(ae,G))D[le]=G,D[Y]=ae,Y=le;else break e}}function e(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],Y=D.pop();if(Y!==G){D[0]=Y;e:for(var le=0,ae=D.length,nt=ae>>>1;le<nt;){var Xe=2*(le+1)-1,Et=D[Xe],lt=Xe+1,at=D[lt];if(0>r(Et,Y))lt<ae&&0>r(at,Et)?(D[le]=at,D[lt]=Y,le=lt):(D[le]=Et,D[Xe]=Y,le=Xe);else if(lt<ae&&0>r(at,Y))D[le]=at,D[lt]=Y,le=lt;else break e}}return G}function r(D,G){var Y=D.sortIndex-G.sortIndex;return Y!==0?Y:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,h=null,d=3,f=!1,p=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var G=e(u);G!==null;){if(G.callback===null)i(u);else if(G.startTime<=D)i(u),G.sortIndex=G.expirationTime,t(a,G);else break;G=e(u)}}function y(D){if(_=!1,v(D),!p)if(e(a)!==null)p=!0,Fe(b);else{var G=e(u);G!==null&&Ye(y,G.startTime-D)}}function b(D,G){p=!1,_&&(_=!1,m(S),S=-1),f=!0;var Y=d;try{for(v(G),h=e(a);h!==null&&(!(h.expirationTime>G)||D&&!N());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var ae=le(h.expirationTime<=G);G=n.unstable_now(),typeof ae=="function"?h.callback=ae:h===e(a)&&i(a),v(G)}else i(a);h=e(a)}if(h!==null)var nt=!0;else{var Xe=e(u);Xe!==null&&Ye(y,Xe.startTime-G),nt=!1}return nt}finally{h=null,d=Y,f=!1}}var E=!1,C=null,S=-1,O=5,I=-1;function N(){return!(n.unstable_now()-I<O)}function R(){if(C!==null){var D=n.unstable_now();I=D;var G=!0;try{G=C(!0,D)}finally{G?V():(E=!1,C=null)}}else E=!1}var V;if(typeof g=="function")V=function(){g(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,tt=X.port2;X.port1.onmessage=R,V=function(){tt.postMessage(null)}}else V=function(){w(R,0)};function Fe(D){C=D,E||(E=!0,V())}function Ye(D,G){S=w(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,Fe(b))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return e(a)},n.unstable_next=function(D){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return D()}finally{d=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=d;d=D;try{return G()}finally{d=Y}},n.unstable_scheduleCallback=function(D,G,Y){var le=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Y+ae,D={id:c++,callback:G,priorityLevel:D,startTime:Y,expirationTime:ae,sortIndex:-1},Y>le?(D.sortIndex=Y,t(u,D),e(a)===null&&D===e(u)&&(_?(m(S),S=-1):_=!0,Ye(y,Y-le))):(D.sortIndex=ae,t(a,D),p||f||(p=!0,Fe(b))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var G=d;return function(){var Y=d;d=G;try{return D.apply(this,arguments)}finally{d=Y}}}})(bd);wd.exports=bd;var Vg=wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=Ft,Ut=Vg;function T(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cd=new Set,go={};function Ki(n,t){Er(n,t),Er(n+"Capture",t)}function Er(n,t){for(go[n]=t,n=0;n<t.length;n++)Cd.add(t[n])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=Object.prototype.hasOwnProperty,Gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fc={},zc={};function Wg(n){return da.call(zc,n)?!0:da.call(Fc,n)?!1:Gg.test(n)?zc[n]=!0:(Fc[n]=!0,!1)}function Kg(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Yg(n,t,e,i){if(t===null||typeof t>"u"||Kg(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(n,t,e,i,r,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ht[n]=new xt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];ht[t]=new xt(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ht[n]=new xt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ht[n]=new xt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ht[n]=new xt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ht[n]=new xt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ht[n]=new xt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ht[n]=new xt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ht[n]=new xt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Cu=/[\-:]([a-z])/g;function xu(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(Cu,xu);ht[t]=new xt(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(Cu,xu);ht[t]=new xt(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Cu,xu);ht[t]=new xt(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ht[n]=new xt(n,1,!1,n.toLowerCase(),null,!1,!1)});ht.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ht[n]=new xt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Eu(n,t,e,i){var r=ht.hasOwnProperty(t)?ht[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yg(t,e,r,i)&&(e=null),i||r===null?Wg(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):r.mustUseProperty?n[r.propertyName]=e===null?r.type===3?!1:"":e:(t=r.attributeName,i=r.attributeNamespace,e===null?n.removeAttribute(t):(r=r.type,e=r===3||r===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var Xn=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),fa=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),Ed=Symbol.for("react.context"),Pu=Symbol.for("react.forward_ref"),pa=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Sd=Symbol.for("react.offscreen"),Nc=Symbol.iterator;function Gr(n){return n===null||typeof n!="object"?null:(n=Nc&&n[Nc]||n["@@iterator"],typeof n=="function"?n:null)}var Ae=Object.assign,Ml;function Jr(n){if(Ml===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ml=t&&t[1]||""}return`
`+Ml+n}var Ol=!1;function jl(n,t){if(!n||Ol)return"";Ol=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){i=u}n.call(t.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,l=o.length-1;1<=s&&0<=l&&r[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(r[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||r[s]!==o[l]){var a=`
`+r[s].replace(" at new "," at ");return n.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",n.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ol=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Jr(n):""}function qg(n){switch(n.tag){case 5:return Jr(n.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return n=jl(n.type,!1),n;case 11:return n=jl(n.type.render,!1),n;case 1:return n=jl(n.type,!0),n;default:return""}}function _a(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case tr:return"Fragment";case er:return"Portal";case fa:return"Profiler";case Su:return"StrictMode";case pa:return"Suspense";case ga:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ed:return(n.displayName||"Context")+".Consumer";case xd:return(n._context.displayName||"Context")+".Provider";case Pu:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ku:return t=n.displayName||null,t!==null?t:_a(n.type)||"Memo";case Zn:t=n._payload,n=n._init;try{return _a(n(t))}catch{}}return null}function $g(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _a(t);case 8:return t===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _i(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pd(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xg(n){var t=Pd(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var r=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Qo(n){n._valueTracker||(n._valueTracker=Xg(n))}function kd(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=Pd(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function ks(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ma(n,t){var e=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function Bc(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=_i(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Id(n,t){t=t.checked,t!=null&&Eu(n,"checked",t,!1)}function va(n,t){Id(n,t);var e=_i(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?ya(n,t.type,e):t.hasOwnProperty("defaultValue")&&ya(n,t.type,_i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function Vc(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function ya(n,t,e){(t!=="number"||ks(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Zr=Array.isArray;function pr(n,t,e,i){if(n=n.options,t){t={};for(var r=0;r<e.length;r++)t["$"+e[r]]=!0;for(e=0;e<n.length;e++)r=t.hasOwnProperty("$"+n[e].value),n[e].selected!==r&&(n[e].selected=r),r&&i&&(n[e].defaultSelected=!0)}else{for(e=""+_i(e),t=null,r=0;r<n.length;r++){if(n[r].value===e){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}t!==null||n[r].disabled||(t=n[r])}t!==null&&(t.selected=!0)}}function wa(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Uc(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(T(92));if(Zr(e)){if(1<e.length)throw Error(T(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:_i(e)}}function Rd(n,t){var e=_i(t.value),i=_i(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function Gc(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function Dd(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?Dd(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jo,Td=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,r){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,r)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function _o(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(n){Qg.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),io[t]=io[n]})});function Md(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||io.hasOwnProperty(n)&&io[n]?(""+t).trim():t+"px"}function Od(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,r=Md(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,r):n[e]=r}}var Jg=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(n,t){if(t){if(Jg[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function xa(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=null;function Iu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sa=null,gr=null,_r=null;function Wc(n){if(n=Fo(n)){if(typeof Sa!="function")throw Error(T(280));var t=n.stateNode;t&&(t=cl(t),Sa(n.stateNode,n.type,t))}}function jd(n){gr?_r?_r.push(n):_r=[n]:gr=n}function Ld(){if(gr){var n=gr,t=_r;if(_r=gr=null,Wc(n),t)for(n=0;n<t.length;n++)Wc(t[n])}}function Hd(n,t){return n(t)}function Ad(){}var Ll=!1;function Fd(n,t,e){if(Ll)return n(t,e);Ll=!0;try{return Hd(n,t,e)}finally{Ll=!1,(gr!==null||_r!==null)&&(Ad(),Ld())}}function mo(n,t){var e=n.stateNode;if(e===null)return null;var i=cl(e);if(i===null)return null;e=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(T(231,t,typeof e));return e}var Pa=!1;if(Kn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Pa=!1}function Zg(n,t,e,i,r,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var ro=!1,Is=null,Rs=!1,ka=null,e_={onError:function(n){ro=!0,Is=n}};function t_(n,t,e,i,r,o,s,l,a){ro=!1,Is=null,Zg.apply(e_,arguments)}function n_(n,t,e,i,r,o,s,l,a){if(t_.apply(this,arguments),ro){if(ro){var u=Is;ro=!1,Is=null}else throw Error(T(198));Rs||(Rs=!0,ka=u)}}function Yi(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function zd(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function Kc(n){if(Yi(n)!==n)throw Error(T(188))}function i_(n){var t=n.alternate;if(!t){if(t=Yi(n),t===null)throw Error(T(188));return t!==n?null:n}for(var e=n,i=t;;){var r=e.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){e=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===e)return Kc(r),n;if(o===i)return Kc(r),t;o=o.sibling}throw Error(T(188))}if(e.return!==i.return)e=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===e){s=!0,e=r,i=o;break}if(l===i){s=!0,i=r,e=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===e){s=!0,e=o,i=r;break}if(l===i){s=!0,i=o,e=r;break}l=l.sibling}if(!s)throw Error(T(189))}}if(e.alternate!==i)throw Error(T(190))}if(e.tag!==3)throw Error(T(188));return e.stateNode.current===e?n:t}function Nd(n){return n=i_(n),n!==null?Bd(n):null}function Bd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Bd(n);if(t!==null)return t;n=n.sibling}return null}var Vd=Ut.unstable_scheduleCallback,Yc=Ut.unstable_cancelCallback,r_=Ut.unstable_shouldYield,o_=Ut.unstable_requestPaint,Ge=Ut.unstable_now,s_=Ut.unstable_getCurrentPriorityLevel,Ru=Ut.unstable_ImmediatePriority,Ud=Ut.unstable_UserBlockingPriority,Ds=Ut.unstable_NormalPriority,l_=Ut.unstable_LowPriority,Gd=Ut.unstable_IdlePriority,sl=null,On=null;function a_(n){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(sl,n,void 0,(n.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:h_,u_=Math.log,c_=Math.LN2;function h_(n){return n>>>=0,n===0?32:31-(u_(n)/c_|0)|0}var Zo=64,es=4194304;function eo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ts(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,r=n.suspendedLanes,o=n.pingedLanes,s=e&268435455;if(s!==0){var l=s&~r;l!==0?i=eo(l):(o&=s,o!==0&&(i=eo(o)))}else s=e&~r,s!==0?i=eo(s):o!==0&&(i=eo(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-wn(t),r=1<<e,i|=n[e],t&=~r;return i}function d_(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f_(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-wn(o),l=1<<s,a=r[s];a===-1?(!(l&e)||l&i)&&(r[s]=d_(l,t)):a<=t&&(n.expiredLanes|=l),o&=~l}}function Ia(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Wd(){var n=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),n}function Hl(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Ho(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-wn(t),n[t]=e}function p_(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var r=31-wn(e),o=1<<r;t[r]=0,i[r]=-1,n[r]=-1,e&=~o}}function Du(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-wn(e),r=1<<i;r&t|n[i]&t&&(n[i]|=t),e&=~r}}var me=0;function Kd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Yd,Tu,qd,$d,Xd,Ra=!1,ts=[],si=null,li=null,ai=null,vo=new Map,yo=new Map,ti=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(n,t){switch(n){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Kr(n,t,e,i,r,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Fo(t),t!==null&&Tu(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),n)}function __(n,t,e,i,r){switch(t){case"focusin":return si=Kr(si,n,t,e,i,r),!0;case"dragenter":return li=Kr(li,n,t,e,i,r),!0;case"mouseover":return ai=Kr(ai,n,t,e,i,r),!0;case"pointerover":var o=r.pointerId;return vo.set(o,Kr(vo.get(o)||null,n,t,e,i,r)),!0;case"gotpointercapture":return o=r.pointerId,yo.set(o,Kr(yo.get(o)||null,n,t,e,i,r)),!0}return!1}function Qd(n){var t=Di(n.target);if(t!==null){var e=Yi(t);if(e!==null){if(t=e.tag,t===13){if(t=zd(e),t!==null){n.blockedOn=t,Xd(n.priority,function(){qd(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _s(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Da(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);Ea=i,e.target.dispatchEvent(i),Ea=null}else return t=Fo(e),t!==null&&Tu(t),n.blockedOn=e,!1;t.shift()}return!0}function $c(n,t,e){_s(n)&&e.delete(t)}function m_(){Ra=!1,si!==null&&_s(si)&&(si=null),li!==null&&_s(li)&&(li=null),ai!==null&&_s(ai)&&(ai=null),vo.forEach($c),yo.forEach($c)}function Yr(n,t){n.blockedOn===t&&(n.blockedOn=null,Ra||(Ra=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,m_)))}function wo(n){function t(r){return Yr(r,n)}if(0<ts.length){Yr(ts[0],n);for(var e=1;e<ts.length;e++){var i=ts[e];i.blockedOn===n&&(i.blockedOn=null)}}for(si!==null&&Yr(si,n),li!==null&&Yr(li,n),ai!==null&&Yr(ai,n),vo.forEach(t),yo.forEach(t),e=0;e<ti.length;e++)i=ti[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<ti.length&&(e=ti[0],e.blockedOn===null);)Qd(e),e.blockedOn===null&&ti.shift()}var mr=Xn.ReactCurrentBatchConfig,Ms=!0;function v_(n,t,e,i){var r=me,o=mr.transition;mr.transition=null;try{me=1,Mu(n,t,e,i)}finally{me=r,mr.transition=o}}function y_(n,t,e,i){var r=me,o=mr.transition;mr.transition=null;try{me=4,Mu(n,t,e,i)}finally{me=r,mr.transition=o}}function Mu(n,t,e,i){if(Ms){var r=Da(n,t,e,i);if(r===null)Kl(n,t,i,Os,e),qc(n,i);else if(__(r,n,t,e,i))i.stopPropagation();else if(qc(n,i),t&4&&-1<g_.indexOf(n)){for(;r!==null;){var o=Fo(r);if(o!==null&&Yd(o),o=Da(n,t,e,i),o===null&&Kl(n,t,i,Os,e),o===r)break;r=o}r!==null&&i.stopPropagation()}else Kl(n,t,i,null,e)}}var Os=null;function Da(n,t,e,i){if(Os=null,n=Iu(i),n=Di(n),n!==null)if(t=Yi(n),t===null)n=null;else if(e=t.tag,e===13){if(n=zd(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Os=n,null}function Jd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s_()){case Ru:return 1;case Ud:return 4;case Ds:case l_:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var ii=null,Ou=null,ms=null;function Zd(){if(ms)return ms;var n,t=Ou,e=t.length,i,r="value"in ii?ii.value:ii.textContent,o=r.length;for(n=0;n<e&&t[n]===r[n];n++);var s=e-n;for(i=1;i<=s&&t[e-i]===r[o-i];i++);return ms=r.slice(n,1<i?1-i:void 0)}function vs(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function ns(){return!0}function Xc(){return!1}function Kt(n){function t(e,i,r,o,s){this._reactName=e,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(e=n[l],this[l]=e?e(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ns:Xc,this.isPropagationStopped=Xc,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=Kt(Ar),Ao=Ae({},Ar,{view:0,detail:0}),w_=Kt(Ao),Al,Fl,qr,ll=Ae({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Al=n.screenX-qr.screenX,Fl=n.screenY-qr.screenY):Fl=Al=0,qr=n),Al)},movementY:function(n){return"movementY"in n?n.movementY:Fl}}),Qc=Kt(ll),b_=Ae({},ll,{dataTransfer:0}),C_=Kt(b_),x_=Ae({},Ao,{relatedTarget:0}),zl=Kt(x_),E_=Ae({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),S_=Kt(E_),P_=Ae({},Ar,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),k_=Kt(P_),I_=Ae({},Ar,{data:0}),Jc=Kt(I_),R_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M_(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=T_[n])?!!t[n]:!1}function Lu(){return M_}var O_=Ae({},Ao,{key:function(n){if(n.key){var t=R_[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?D_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),j_=Kt(O_),L_=Ae({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=Kt(L_),H_=Ae({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),A_=Kt(H_),F_=Ae({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),z_=Kt(F_),N_=Ae({},ll,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=Kt(N_),V_=[9,13,27,32],Hu=Kn&&"CompositionEvent"in window,oo=null;Kn&&"documentMode"in document&&(oo=document.documentMode);var U_=Kn&&"TextEvent"in window&&!oo,ef=Kn&&(!Hu||oo&&8<oo&&11>=oo),eh=" ",th=!1;function tf(n,t){switch(n){case"keyup":return V_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nr=!1;function G_(n,t){switch(n){case"compositionend":return nf(t);case"keypress":return t.which!==32?null:(th=!0,eh);case"textInput":return n=t.data,n===eh&&th?null:n;default:return null}}function W_(n,t){if(nr)return n==="compositionend"||!Hu&&tf(n,t)?(n=Zd(),ms=Ou=ii=null,nr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ef&&t.locale!=="ko"?null:t.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!K_[n.type]:t==="textarea"}function rf(n,t,e,i){jd(i),t=js(t,"onChange"),0<t.length&&(e=new ju("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var so=null,bo=null;function Y_(n){gf(n,0)}function al(n){var t=or(n);if(kd(t))return n}function q_(n,t){if(n==="change")return t}var of=!1;if(Kn){var Nl;if(Kn){var Bl="oninput"in document;if(!Bl){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Bl=typeof ih.oninput=="function"}Nl=Bl}else Nl=!1;of=Nl&&(!document.documentMode||9<document.documentMode)}function rh(){so&&(so.detachEvent("onpropertychange",sf),bo=so=null)}function sf(n){if(n.propertyName==="value"&&al(bo)){var t=[];rf(t,bo,n,Iu(n)),Fd(Y_,t)}}function $_(n,t,e){n==="focusin"?(rh(),so=t,bo=e,so.attachEvent("onpropertychange",sf)):n==="focusout"&&rh()}function X_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return al(bo)}function Q_(n,t){if(n==="click")return al(t)}function J_(n,t){if(n==="input"||n==="change")return al(t)}function Z_(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var En=typeof Object.is=="function"?Object.is:Z_;function Co(n,t){if(En(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var r=e[i];if(!da.call(t,r)||!En(n[r],t[r]))return!1}return!0}function oh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sh(n,t){var e=oh(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=oh(e)}}function lf(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?lf(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function af(){for(var n=window,t=ks();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=ks(n.document)}return t}function Au(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function em(n){var t=af(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&lf(e.ownerDocument.documentElement,e)){if(i!==null&&Au(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=sh(e,o);var s=sh(e,i);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(t),n.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var tm=Kn&&"documentMode"in document&&11>=document.documentMode,ir=null,Ta=null,lo=null,Ma=!1;function lh(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Ma||ir==null||ir!==ks(i)||(i=ir,"selectionStart"in i&&Au(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),lo&&Co(lo,i)||(lo=i,i=js(Ta,"onSelect"),0<i.length&&(t=new ju("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=ir)))}function is(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var rr={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Vl={},uf={};Kn&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function ul(n){if(Vl[n])return Vl[n];if(!rr[n])return n;var t=rr[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in uf)return Vl[n]=t[e];return n}var cf=ul("animationend"),hf=ul("animationiteration"),df=ul("animationstart"),ff=ul("transitionend"),pf=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(n,t){pf.set(n,t),Ki(t,[n])}for(var Ul=0;Ul<ah.length;Ul++){var Gl=ah[Ul],nm=Gl.toLowerCase(),im=Gl[0].toUpperCase()+Gl.slice(1);yi(nm,"on"+im)}yi(cf,"onAnimationEnd");yi(hf,"onAnimationIteration");yi(df,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(ff,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function uh(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,n_(i,t,void 0,n),n.currentTarget=null}function gf(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var l=i[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&r.isPropagationStopped())break e;uh(r,l,u),o=a}else for(s=0;s<i.length;s++){if(l=i[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&r.isPropagationStopped())break e;uh(r,l,u),o=a}}}if(Rs)throw n=ka,Rs=!1,ka=null,n}function Ce(n,t){var e=t[Aa];e===void 0&&(e=t[Aa]=new Set);var i=n+"__bubble";e.has(i)||(_f(t,n,2,!1),e.add(i))}function Wl(n,t,e){var i=0;t&&(i|=4),_f(e,n,i,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function xo(n){if(!n[rs]){n[rs]=!0,Cd.forEach(function(e){e!=="selectionchange"&&(rm.has(e)||Wl(e,!1,n),Wl(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[rs]||(t[rs]=!0,Wl("selectionchange",!1,t))}}function _f(n,t,e,i){switch(Jd(t)){case 1:var r=v_;break;case 4:r=y_;break;default:r=Mu}e=r.bind(null,t,e,n),r=void 0,!Pa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(t,e,{capture:!0,passive:r}):n.addEventListener(t,e,!0):r!==void 0?n.addEventListener(t,e,{passive:r}):n.addEventListener(t,e,!1)}function Kl(n,t,e,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;s=s.return}for(;l!==null;){if(s=Di(l),s===null)return;if(a=s.tag,a===5||a===6){i=o=s;continue e}l=l.parentNode}}i=i.return}Fd(function(){var u=o,c=Iu(e),h=[];e:{var d=pf.get(n);if(d!==void 0){var f=ju,p=n;switch(n){case"keypress":if(vs(e)===0)break e;case"keydown":case"keyup":f=j_;break;case"focusin":p="focus",f=zl;break;case"focusout":p="blur",f=zl;break;case"beforeblur":case"afterblur":f=zl;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=C_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=A_;break;case cf:case hf:case df:f=S_;break;case ff:f=z_;break;case"scroll":f=w_;break;case"wheel":f=B_;break;case"copy":case"cut":case"paste":f=k_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Zc}var _=(t&4)!==0,w=!_&&n==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var g=u,v;g!==null;){v=g;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,m!==null&&(y=mo(g,m),y!=null&&_.push(Eo(g,y,v)))),w)break;g=g.return}0<_.length&&(d=new f(d,p,null,e,c),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&e!==Ea&&(p=e.relatedTarget||e.fromElement)&&(Di(p)||p[Yn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=e.relatedTarget||e.toElement,f=u,p=p?Di(p):null,p!==null&&(w=Yi(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(_=Qc,y="onMouseLeave",m="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(_=Zc,y="onPointerLeave",m="onPointerEnter",g="pointer"),w=f==null?d:or(f),v=p==null?d:or(p),d=new _(y,g+"leave",f,e,c),d.target=w,d.relatedTarget=v,y=null,Di(c)===u&&(_=new _(m,g+"enter",p,e,c),_.target=v,_.relatedTarget=w,y=_),w=y,f&&p)t:{for(_=f,m=p,g=0,v=_;v;v=Xi(v))g++;for(v=0,y=m;y;y=Xi(y))v++;for(;0<g-v;)_=Xi(_),g--;for(;0<v-g;)m=Xi(m),v--;for(;g--;){if(_===m||m!==null&&_===m.alternate)break t;_=Xi(_),m=Xi(m)}_=null}else _=null;f!==null&&ch(h,d,f,_,!1),p!==null&&w!==null&&ch(h,w,p,_,!0)}}e:{if(d=u?or(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=q_;else if(nh(d))if(of)b=J_;else{b=X_;var E=$_}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=Q_);if(b&&(b=b(n,u))){rf(h,b,e,c);break e}E&&E(n,d,u),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&ya(d,"number",d.value)}switch(E=u?or(u):window,n){case"focusin":(nh(E)||E.contentEditable==="true")&&(ir=E,Ta=u,lo=null);break;case"focusout":lo=Ta=ir=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,lh(h,e,c);break;case"selectionchange":if(tm)break;case"keydown":case"keyup":lh(h,e,c)}var C;if(Hu)e:{switch(n){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else nr?tf(n,e)&&(S="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(S="onCompositionStart");S&&(ef&&e.locale!=="ko"&&(nr||S!=="onCompositionStart"?S==="onCompositionEnd"&&nr&&(C=Zd()):(ii=c,Ou="value"in ii?ii.value:ii.textContent,nr=!0)),E=js(u,S),0<E.length&&(S=new Jc(S,n,null,e,c),h.push({event:S,listeners:E}),C?S.data=C:(C=nf(e),C!==null&&(S.data=C)))),(C=U_?G_(n,e):W_(n,e))&&(u=js(u,"onBeforeInput"),0<u.length&&(c=new Jc("onBeforeInput","beforeinput",null,e,c),h.push({event:c,listeners:u}),c.data=C))}gf(h,t)})}function Eo(n,t,e){return{instance:n,listener:t,currentTarget:e}}function js(n,t){for(var e=t+"Capture",i=[];n!==null;){var r=n,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=mo(n,e),o!=null&&i.unshift(Eo(n,o,r)),o=mo(n,t),o!=null&&i.push(Eo(n,o,r))),n=n.return}return i}function Xi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ch(n,t,e,i,r){for(var o=t._reactName,s=[];e!==null&&e!==i;){var l=e,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,r?(a=mo(e,o),a!=null&&s.unshift(Eo(e,a,l))):r||(a=mo(e,o),a!=null&&s.push(Eo(e,a,l)))),e=e.return}s.length!==0&&n.push({event:t,listeners:s})}var om=/\r\n?/g,sm=/\u0000|\uFFFD/g;function hh(n){return(typeof n=="string"?n:""+n).replace(om,`
`).replace(sm,"")}function os(n,t,e){if(t=hh(t),hh(n)!==t&&e)throw Error(T(425))}function Ls(){}var Oa=null,ja=null;function La(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ha=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,am=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(n){return dh.resolve(null).then(n).catch(um)}:Ha;function um(n){setTimeout(function(){throw n})}function Yl(n,t){var e=t,i=0;do{var r=e.nextSibling;if(n.removeChild(e),r&&r.nodeType===8)if(e=r.data,e==="/$"){if(i===0){n.removeChild(r),wo(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=r}while(e);wo(t)}function ui(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function fh(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Fr,So="__reactProps$"+Fr,Yn="__reactContainer$"+Fr,Aa="__reactEvents$"+Fr,cm="__reactListeners$"+Fr,hm="__reactHandles$"+Fr;function Di(n){var t=n[Mn];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Yn]||e[Mn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=fh(n);n!==null;){if(e=n[Mn])return e;n=fh(n)}return t}n=e,e=n.parentNode}return null}function Fo(n){return n=n[Mn]||n[Yn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function or(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(T(33))}function cl(n){return n[So]||null}var Fa=[],sr=-1;function wi(n){return{current:n}}function Re(n){0>sr||(n.current=Fa[sr],Fa[sr]=null,sr--)}function be(n,t){sr++,Fa[sr]=n.current,n.current=t}var mi={},_t=wi(mi),Tt=wi(!1),zi=mi;function Sr(n,t){var e=n.type.contextTypes;if(!e)return mi;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in e)r[o]=t[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=r),r}function Mt(n){return n=n.childContextTypes,n!=null}function Hs(){Re(Tt),Re(_t)}function ph(n,t,e){if(_t.current!==mi)throw Error(T(168));be(_t,t),be(Tt,e)}function mf(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(T(108,$g(n)||"Unknown",r));return Ae({},e,i)}function As(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||mi,zi=_t.current,be(_t,n),be(Tt,Tt.current),!0}function gh(n,t,e){var i=n.stateNode;if(!i)throw Error(T(169));e?(n=mf(n,t,zi),i.__reactInternalMemoizedMergedChildContext=n,Re(Tt),Re(_t),be(_t,n)):Re(Tt),be(Tt,e)}var Fn=null,hl=!1,ql=!1;function vf(n){Fn===null?Fn=[n]:Fn.push(n)}function dm(n){hl=!0,vf(n)}function bi(){if(!ql&&Fn!==null){ql=!0;var n=0,t=me;try{var e=Fn;for(me=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}Fn=null,hl=!1}catch(r){throw Fn!==null&&(Fn=Fn.slice(n+1)),Vd(Ru,bi),r}finally{me=t,ql=!1}}return null}var lr=[],ar=0,Fs=null,zs=0,Xt=[],Qt=0,Ni=null,Nn=1,Bn="";function Ii(n,t){lr[ar++]=zs,lr[ar++]=Fs,Fs=n,zs=t}function yf(n,t,e){Xt[Qt++]=Nn,Xt[Qt++]=Bn,Xt[Qt++]=Ni,Ni=n;var i=Nn;n=Bn;var r=32-wn(i)-1;i&=~(1<<r),e+=1;var o=32-wn(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Nn=1<<32-wn(t)+r|e<<r|i,Bn=o+n}else Nn=1<<o|e<<r|i,Bn=n}function Fu(n){n.return!==null&&(Ii(n,1),yf(n,1,0))}function zu(n){for(;n===Fs;)Fs=lr[--ar],lr[ar]=null,zs=lr[--ar],lr[ar]=null;for(;n===Ni;)Ni=Xt[--Qt],Xt[Qt]=null,Bn=Xt[--Qt],Xt[Qt]=null,Nn=Xt[--Qt],Xt[Qt]=null}var Vt=null,Bt=null,Te=!1,gn=null;function wf(n,t){var e=tn(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function _h(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Vt=n,Bt=ui(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Vt=n,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Ni!==null?{id:Nn,overflow:Bn}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=tn(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Vt=n,Bt=null,!0):!1;default:return!1}}function za(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Na(n){if(Te){var t=Bt;if(t){var e=t;if(!_h(n,t)){if(za(n))throw Error(T(418));t=ui(e.nextSibling);var i=Vt;t&&_h(n,t)?wf(i,e):(n.flags=n.flags&-4097|2,Te=!1,Vt=n)}}else{if(za(n))throw Error(T(418));n.flags=n.flags&-4097|2,Te=!1,Vt=n}}}function mh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Vt=n}function ss(n){if(n!==Vt)return!1;if(!Te)return mh(n),Te=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!La(n.type,n.memoizedProps)),t&&(t=Bt)){if(za(n))throw bf(),Error(T(418));for(;t;)wf(n,t),t=ui(t.nextSibling)}if(mh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(T(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Bt=ui(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Bt=null}}else Bt=Vt?ui(n.stateNode.nextSibling):null;return!0}function bf(){for(var n=Bt;n;)n=ui(n.nextSibling)}function Pr(){Bt=Vt=null,Te=!1}function Nu(n){gn===null?gn=[n]:gn.push(n)}var fm=Xn.ReactCurrentBatchConfig;function $r(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(T(309));var i=e.stateNode}if(!i)throw Error(T(147,n));var r=i,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=r.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof n!="string")throw Error(T(284));if(!e._owner)throw Error(T(290,n))}return n}function ls(n,t){throw n=Object.prototype.toString.call(t),Error(T(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function vh(n){var t=n._init;return t(n._payload)}function Cf(n){function t(m,g){if(n){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function e(m,g){if(!n)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function i(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function r(m,g){return m=fi(m,g),m.index=0,m.sibling=null,m}function o(m,g,v){return m.index=v,n?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return n&&m.alternate===null&&(m.flags|=2),m}function l(m,g,v,y){return g===null||g.tag!==6?(g=ta(v,m.mode,y),g.return=m,g):(g=r(g,v),g.return=m,g)}function a(m,g,v,y){var b=v.type;return b===tr?c(m,g,v.props.children,y,v.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Zn&&vh(b)===g.type)?(y=r(g,v.props),y.ref=$r(m,g,v),y.return=m,y):(y=Ss(v.type,v.key,v.props,null,m.mode,y),y.ref=$r(m,g,v),y.return=m,y)}function u(m,g,v,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=na(v,m.mode,y),g.return=m,g):(g=r(g,v.children||[]),g.return=m,g)}function c(m,g,v,y,b){return g===null||g.tag!==7?(g=Hi(v,m.mode,y,b),g.return=m,g):(g=r(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ta(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:return v=Ss(g.type,g.key,g.props,null,m.mode,v),v.ref=$r(m,null,g),v.return=m,v;case er:return g=na(g,m.mode,v),g.return=m,g;case Zn:var y=g._init;return h(m,y(g._payload),v)}if(Zr(g)||Gr(g))return g=Hi(g,m.mode,v,null),g.return=m,g;ls(m,g)}return null}function d(m,g,v,y){var b=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:l(m,g,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:return v.key===b?a(m,g,v,y):null;case er:return v.key===b?u(m,g,v,y):null;case Zn:return b=v._init,d(m,g,b(v._payload),y)}if(Zr(v)||Gr(v))return b!==null?null:c(m,g,v,y,null);ls(m,v)}return null}function f(m,g,v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(v)||null,l(g,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xo:return m=m.get(y.key===null?v:y.key)||null,a(g,m,y,b);case er:return m=m.get(y.key===null?v:y.key)||null,u(g,m,y,b);case Zn:var E=y._init;return f(m,g,v,E(y._payload),b)}if(Zr(y)||Gr(y))return m=m.get(v)||null,c(g,m,y,b,null);ls(g,y)}return null}function p(m,g,v,y){for(var b=null,E=null,C=g,S=g=0,O=null;C!==null&&S<v.length;S++){C.index>S?(O=C,C=null):O=C.sibling;var I=d(m,C,v[S],y);if(I===null){C===null&&(C=O);break}n&&C&&I.alternate===null&&t(m,C),g=o(I,g,S),E===null?b=I:E.sibling=I,E=I,C=O}if(S===v.length)return e(m,C),Te&&Ii(m,S),b;if(C===null){for(;S<v.length;S++)C=h(m,v[S],y),C!==null&&(g=o(C,g,S),E===null?b=C:E.sibling=C,E=C);return Te&&Ii(m,S),b}for(C=i(m,C);S<v.length;S++)O=f(C,m,S,v[S],y),O!==null&&(n&&O.alternate!==null&&C.delete(O.key===null?S:O.key),g=o(O,g,S),E===null?b=O:E.sibling=O,E=O);return n&&C.forEach(function(N){return t(m,N)}),Te&&Ii(m,S),b}function _(m,g,v,y){var b=Gr(v);if(typeof b!="function")throw Error(T(150));if(v=b.call(v),v==null)throw Error(T(151));for(var E=b=null,C=g,S=g=0,O=null,I=v.next();C!==null&&!I.done;S++,I=v.next()){C.index>S?(O=C,C=null):O=C.sibling;var N=d(m,C,I.value,y);if(N===null){C===null&&(C=O);break}n&&C&&N.alternate===null&&t(m,C),g=o(N,g,S),E===null?b=N:E.sibling=N,E=N,C=O}if(I.done)return e(m,C),Te&&Ii(m,S),b;if(C===null){for(;!I.done;S++,I=v.next())I=h(m,I.value,y),I!==null&&(g=o(I,g,S),E===null?b=I:E.sibling=I,E=I);return Te&&Ii(m,S),b}for(C=i(m,C);!I.done;S++,I=v.next())I=f(C,m,S,I.value,y),I!==null&&(n&&I.alternate!==null&&C.delete(I.key===null?S:I.key),g=o(I,g,S),E===null?b=I:E.sibling=I,E=I);return n&&C.forEach(function(R){return t(m,R)}),Te&&Ii(m,S),b}function w(m,g,v,y){if(typeof v=="object"&&v!==null&&v.type===tr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:e:{for(var b=v.key,E=g;E!==null;){if(E.key===b){if(b=v.type,b===tr){if(E.tag===7){e(m,E.sibling),g=r(E,v.props.children),g.return=m,m=g;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Zn&&vh(b)===E.type){e(m,E.sibling),g=r(E,v.props),g.ref=$r(m,E,v),g.return=m,m=g;break e}e(m,E);break}else t(m,E);E=E.sibling}v.type===tr?(g=Hi(v.props.children,m.mode,y,v.key),g.return=m,m=g):(y=Ss(v.type,v.key,v.props,null,m.mode,y),y.ref=$r(m,g,v),y.return=m,m=y)}return s(m);case er:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){e(m,g.sibling),g=r(g,v.children||[]),g.return=m,m=g;break e}else{e(m,g);break}else t(m,g);g=g.sibling}g=na(v,m.mode,y),g.return=m,m=g}return s(m);case Zn:return E=v._init,w(m,g,E(v._payload),y)}if(Zr(v))return p(m,g,v,y);if(Gr(v))return _(m,g,v,y);ls(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(e(m,g.sibling),g=r(g,v),g.return=m,m=g):(e(m,g),g=ta(v,m.mode,y),g.return=m,m=g),s(m)):e(m,g)}return w}var kr=Cf(!0),xf=Cf(!1),Ns=wi(null),Bs=null,ur=null,Bu=null;function Vu(){Bu=ur=Bs=null}function Uu(n){var t=Ns.current;Re(Ns),n._currentValue=t}function Ba(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function vr(n,t){Bs=n,Bu=ur=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Dt=!0),n.firstContext=null)}function sn(n){var t=n._currentValue;if(Bu!==n)if(n={context:n,memoizedValue:t,next:null},ur===null){if(Bs===null)throw Error(T(308));ur=n,Bs.dependencies={lanes:0,firstContext:n}}else ur=ur.next=n;return t}var Ti=null;function Gu(n){Ti===null?Ti=[n]:Ti.push(n)}function Ef(n,t,e,i){var r=t.interleaved;return r===null?(e.next=e,Gu(t)):(e.next=r.next,r.next=e),t.interleaved=e,qn(n,i)}function qn(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var ei=!1;function Wu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sf(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wn(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,qn(n,e)}return r=i.interleaved,r===null?(t.next=t,Gu(i)):(t.next=r.next,r.next=t),i.interleaved=t,qn(n,e)}function ys(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,Du(n,e)}}function yh(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var r=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?r=o=s:o=o.next=s,e=e.next}while(e!==null);o===null?r=o=t:o=o.next=t}else r=o=t;e={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Vs(n,t,e,i){var r=n.updateQueue;ei=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=n.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var h=r.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,f=l.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=n,_=l;switch(d=t,f=e,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ae({},h,d);break e;case 2:ei=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=f,a=h):c=c.next=f,s|=d;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;d=l,l=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(a=h),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Vi|=s,n.lanes=s,n.memoizedState=h}}function wh(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],r=i.callback;if(r!==null){if(i.callback=null,i=e,typeof r!="function")throw Error(T(191,r));r.call(i)}}}var zo={},jn=wi(zo),Po=wi(zo),ko=wi(zo);function Mi(n){if(n===zo)throw Error(T(174));return n}function Ku(n,t){switch(be(ko,t),be(Po,n),be(jn,zo),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ba(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=ba(t,n)}Re(jn),be(jn,t)}function Ir(){Re(jn),Re(Po),Re(ko)}function Pf(n){Mi(ko.current);var t=Mi(jn.current),e=ba(t,n.type);t!==e&&(be(Po,n),be(jn,e))}function Yu(n){Po.current===n&&(Re(jn),Re(Po))}var je=wi(0);function Us(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function qu(){for(var n=0;n<$l.length;n++)$l[n]._workInProgressVersionPrimary=null;$l.length=0}var ws=Xn.ReactCurrentDispatcher,Xl=Xn.ReactCurrentBatchConfig,Bi=0,He=null,Qe=null,it=null,Gs=!1,ao=!1,Io=0,pm=0;function dt(){throw Error(T(321))}function $u(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!En(n[e],t[e]))return!1;return!0}function Xu(n,t,e,i,r,o){if(Bi=o,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=n===null||n.memoizedState===null?vm:ym,n=e(i,r),ao){o=0;do{if(ao=!1,Io=0,25<=o)throw Error(T(301));o+=1,it=Qe=null,t.updateQueue=null,ws.current=wm,n=e(i,r)}while(ao)}if(ws.current=Ws,t=Qe!==null&&Qe.next!==null,Bi=0,it=Qe=He=null,Gs=!1,t)throw Error(T(300));return n}function Qu(){var n=Io!==0;return Io=0,n}function Dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?He.memoizedState=it=n:it=it.next=n,it}function ln(){if(Qe===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var t=it===null?He.memoizedState:it.next;if(t!==null)it=t,Qe=n;else{if(n===null)throw Error(T(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},it===null?He.memoizedState=it=n:it=it.next=n}return it}function Ro(n,t){return typeof t=="function"?t(n):t}function Ql(n){var t=ln(),e=t.queue;if(e===null)throw Error(T(311));e.lastRenderedReducer=n;var i=Qe,r=i.baseQueue,o=e.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,e.pending=null}if(r!==null){o=r.next,i=i.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Bi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=i):a=a.next=h,He.lanes|=c,Vi|=c}u=u.next}while(u!==null&&u!==o);a===null?s=i:a.next=l,En(i,t.memoizedState)||(Dt=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=a,e.lastRenderedState=i}if(n=e.interleaved,n!==null){r=n;do o=r.lane,He.lanes|=o,Vi|=o,r=r.next;while(r!==n)}else r===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Jl(n){var t=ln(),e=t.queue;if(e===null)throw Error(T(311));e.lastRenderedReducer=n;var i=e.dispatch,r=e.pending,o=t.memoizedState;if(r!==null){e.pending=null;var s=r=r.next;do o=n(o,s.action),s=s.next;while(s!==r);En(o,t.memoizedState)||(Dt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,i]}function kf(){}function If(n,t){var e=He,i=ln(),r=t(),o=!En(i.memoizedState,r);if(o&&(i.memoizedState=r,Dt=!0),i=i.queue,Ju(Tf.bind(null,e,i,n),[n]),i.getSnapshot!==t||o||it!==null&&it.memoizedState.tag&1){if(e.flags|=2048,Do(9,Df.bind(null,e,i,r,t),void 0,null),ot===null)throw Error(T(349));Bi&30||Rf(e,t,r)}return r}function Rf(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function Df(n,t,e,i){t.value=e,t.getSnapshot=i,Mf(t)&&Of(n)}function Tf(n,t,e){return e(function(){Mf(t)&&Of(n)})}function Mf(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!En(n,e)}catch{return!0}}function Of(n){var t=qn(n,1);t!==null&&bn(t,n,1,-1)}function bh(n){var t=Dn();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:n},t.queue=n,n=n.dispatch=mm.bind(null,He,n),[t.memoizedState,n]}function Do(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function jf(){return ln().memoizedState}function bs(n,t,e,i){var r=Dn();He.flags|=n,r.memoizedState=Do(1|t,e,void 0,i===void 0?null:i)}function dl(n,t,e,i){var r=ln();i=i===void 0?null:i;var o=void 0;if(Qe!==null){var s=Qe.memoizedState;if(o=s.destroy,i!==null&&$u(i,s.deps)){r.memoizedState=Do(t,e,o,i);return}}He.flags|=n,r.memoizedState=Do(1|t,e,o,i)}function Ch(n,t){return bs(8390656,8,n,t)}function Ju(n,t){return dl(2048,8,n,t)}function Lf(n,t){return dl(4,2,n,t)}function Hf(n,t){return dl(4,4,n,t)}function Af(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function Ff(n,t,e){return e=e!=null?e.concat([n]):null,dl(4,4,Af.bind(null,t,n),e)}function Zu(){}function zf(n,t){var e=ln();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&$u(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function Nf(n,t){var e=ln();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&$u(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function Bf(n,t,e){return Bi&21?(En(e,t)||(e=Wd(),He.lanes|=e,Vi|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Dt=!0),n.memoizedState=e)}function gm(n,t){var e=me;me=e!==0&&4>e?e:4,n(!0);var i=Xl.transition;Xl.transition={};try{n(!1),t()}finally{me=e,Xl.transition=i}}function Vf(){return ln().memoizedState}function _m(n,t,e){var i=di(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},Uf(n))Gf(t,e);else if(e=Ef(n,t,e,i),e!==null){var r=wt();bn(e,n,i,r),Wf(e,t,i)}}function mm(n,t,e){var i=di(n),r={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(Uf(n))Gf(t,r);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,e);if(r.hasEagerState=!0,r.eagerState=l,En(l,s)){var a=t.interleaved;a===null?(r.next=r,Gu(t)):(r.next=a.next,a.next=r),t.interleaved=r;return}}catch{}finally{}e=Ef(n,t,r,i),e!==null&&(r=wt(),bn(e,n,i,r),Wf(e,t,i))}}function Uf(n){var t=n.alternate;return n===He||t!==null&&t===He}function Gf(n,t){ao=Gs=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function Wf(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,Du(n,e)}}var Ws={readContext:sn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},vm={readContext:sn,useCallback:function(n,t){return Dn().memoizedState=[n,t===void 0?null:t],n},useContext:sn,useEffect:Ch,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,bs(4194308,4,Af.bind(null,t,n),e)},useLayoutEffect:function(n,t){return bs(4194308,4,n,t)},useInsertionEffect:function(n,t){return bs(4,2,n,t)},useMemo:function(n,t){var e=Dn();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=Dn();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=_m.bind(null,He,n),[i.memoizedState,n]},useRef:function(n){var t=Dn();return n={current:n},t.memoizedState=n},useState:bh,useDebugValue:Zu,useDeferredValue:function(n){return Dn().memoizedState=n},useTransition:function(){var n=bh(!1),t=n[0];return n=gm.bind(null,n[1]),Dn().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=He,r=Dn();if(Te){if(e===void 0)throw Error(T(407));e=e()}else{if(e=t(),ot===null)throw Error(T(349));Bi&30||Rf(i,t,e)}r.memoizedState=e;var o={value:e,getSnapshot:t};return r.queue=o,Ch(Tf.bind(null,i,o,n),[n]),i.flags|=2048,Do(9,Df.bind(null,i,o,e,t),void 0,null),e},useId:function(){var n=Dn(),t=ot.identifierPrefix;if(Te){var e=Bn,i=Nn;e=(i&~(1<<32-wn(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Io++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=pm++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},ym={readContext:sn,useCallback:zf,useContext:sn,useEffect:Ju,useImperativeHandle:Ff,useInsertionEffect:Lf,useLayoutEffect:Hf,useMemo:Nf,useReducer:Ql,useRef:jf,useState:function(){return Ql(Ro)},useDebugValue:Zu,useDeferredValue:function(n){var t=ln();return Bf(t,Qe.memoizedState,n)},useTransition:function(){var n=Ql(Ro)[0],t=ln().memoizedState;return[n,t]},useMutableSource:kf,useSyncExternalStore:If,useId:Vf,unstable_isNewReconciler:!1},wm={readContext:sn,useCallback:zf,useContext:sn,useEffect:Ju,useImperativeHandle:Ff,useInsertionEffect:Lf,useLayoutEffect:Hf,useMemo:Nf,useReducer:Jl,useRef:jf,useState:function(){return Jl(Ro)},useDebugValue:Zu,useDeferredValue:function(n){var t=ln();return Qe===null?t.memoizedState=n:Bf(t,Qe.memoizedState,n)},useTransition:function(){var n=Jl(Ro)[0],t=ln().memoizedState;return[n,t]},useMutableSource:kf,useSyncExternalStore:If,useId:Vf,unstable_isNewReconciler:!1};function fn(n,t){if(n&&n.defaultProps){t=Ae({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Va(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:Ae({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var fl={isMounted:function(n){return(n=n._reactInternals)?Yi(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=wt(),r=di(n),o=Wn(i,r);o.payload=t,e!=null&&(o.callback=e),t=ci(n,o,r),t!==null&&(bn(t,n,r,i),ys(t,n,r))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=wt(),r=di(n),o=Wn(i,r);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=ci(n,o,r),t!==null&&(bn(t,n,r,i),ys(t,n,r))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=wt(),i=di(n),r=Wn(e,i);r.tag=2,t!=null&&(r.callback=t),t=ci(n,r,i),t!==null&&(bn(t,n,i,e),ys(t,n,i))}};function xh(n,t,e,i,r,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):t.prototype&&t.prototype.isPureReactComponent?!Co(e,i)||!Co(r,o):!0}function Kf(n,t,e){var i=!1,r=mi,o=t.contextType;return typeof o=="object"&&o!==null?o=sn(o):(r=Mt(t)?zi:_t.current,i=t.contextTypes,o=(i=i!=null)?Sr(n,r):mi),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fl,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=o),t}function Eh(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&fl.enqueueReplaceState(t,t.state,null)}function Ua(n,t,e,i){var r=n.stateNode;r.props=e,r.state=n.memoizedState,r.refs={},Wu(n);var o=t.contextType;typeof o=="object"&&o!==null?r.context=sn(o):(o=Mt(t)?zi:_t.current,r.context=Sr(n,o)),r.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Va(n,t,o,e),r.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&fl.enqueueReplaceState(r,r.state,null),Vs(n,e,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Rr(n,t){try{var e="",i=t;do e+=qg(i),i=i.return;while(i);var r=e}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:r,digest:null}}function Zl(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Ga(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var bm=typeof WeakMap=="function"?WeakMap:Map;function Yf(n,t,e){e=Wn(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){Ys||(Ys=!0,eu=i),Ga(n,t)},e}function qf(n,t,e){e=Wn(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;e.payload=function(){return i(r)},e.callback=function(){Ga(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Ga(n,t),typeof i!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),e}function Sh(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new bm;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(e)||(r.add(e),n=Lm.bind(null,n,t,e),t.then(n,n))}function Ph(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function kh(n,t,e,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Wn(-1,1),t.tag=2,ci(e,t,1))),e.lanes|=1),n)}var Cm=Xn.ReactCurrentOwner,Dt=!1;function vt(n,t,e,i){t.child=n===null?xf(t,null,e,i):kr(t,n.child,e,i)}function Ih(n,t,e,i,r){e=e.render;var o=t.ref;return vr(t,r),i=Xu(n,t,e,i,o,r),e=Qu(),n!==null&&!Dt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~r,$n(n,t,r)):(Te&&e&&Fu(t),t.flags|=1,vt(n,t,i,r),t.child)}function Rh(n,t,e,i,r){if(n===null){var o=e.type;return typeof o=="function"&&!lc(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,$f(n,t,o,i,r)):(n=Ss(e.type,null,i,t,t.mode,r),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&r)){var s=o.memoizedProps;if(e=e.compare,e=e!==null?e:Co,e(s,i)&&n.ref===t.ref)return $n(n,t,r)}return t.flags|=1,n=fi(o,i),n.ref=t.ref,n.return=t,t.child=n}function $f(n,t,e,i,r){if(n!==null){var o=n.memoizedProps;if(Co(o,i)&&n.ref===t.ref)if(Dt=!1,t.pendingProps=i=o,(n.lanes&r)!==0)n.flags&131072&&(Dt=!0);else return t.lanes=n.lanes,$n(n,t,r)}return Wa(n,t,e,i,r)}function Xf(n,t,e){var i=t.pendingProps,r=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(hr,At),At|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,be(hr,At),At|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:e,be(hr,At),At|=i}else o!==null?(i=o.baseLanes|e,t.memoizedState=null):i=e,be(hr,At),At|=i;return vt(n,t,r,e),t.child}function Qf(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Wa(n,t,e,i,r){var o=Mt(e)?zi:_t.current;return o=Sr(t,o),vr(t,r),e=Xu(n,t,e,i,o,r),i=Qu(),n!==null&&!Dt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~r,$n(n,t,r)):(Te&&i&&Fu(t),t.flags|=1,vt(n,t,e,r),t.child)}function Dh(n,t,e,i,r){if(Mt(e)){var o=!0;As(t)}else o=!1;if(vr(t,r),t.stateNode===null)Cs(n,t),Kf(t,e,i),Ua(t,e,i,r),i=!0;else if(n===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=e.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=Mt(e)?zi:_t.current,u=Sr(t,u));var c=e.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==i||a!==u)&&Eh(t,s,i,u),ei=!1;var d=t.memoizedState;s.state=d,Vs(t,i,s,r),a=t.memoizedState,l!==i||d!==a||Tt.current||ei?(typeof c=="function"&&(Va(t,e,c,i),a=t.memoizedState),(l=ei||xh(t,e,l,i,d,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),s.props=i,s.state=a,s.context=u,i=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Sf(n,t),l=t.memoizedProps,u=t.type===t.elementType?l:fn(t.type,l),s.props=u,h=t.pendingProps,d=s.context,a=e.contextType,typeof a=="object"&&a!==null?a=sn(a):(a=Mt(e)?zi:_t.current,a=Sr(t,a));var f=e.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Eh(t,s,i,a),ei=!1,d=t.memoizedState,s.state=d,Vs(t,i,s,r);var p=t.memoizedState;l!==h||d!==p||Tt.current||ei?(typeof f=="function"&&(Va(t,e,f,i),p=t.memoizedState),(u=ei||xh(t,e,u,i,d,p,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=a,i=u):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),i=!1)}return Ka(n,t,e,i,o,r)}function Ka(n,t,e,i,r,o){Qf(n,t);var s=(t.flags&128)!==0;if(!i&&!s)return r&&gh(t,e,!1),$n(n,t,o);i=t.stateNode,Cm.current=t;var l=s&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&s?(t.child=kr(t,n.child,null,o),t.child=kr(t,null,l,o)):vt(n,t,l,o),t.memoizedState=i.state,r&&gh(t,e,!0),t.child}function Jf(n){var t=n.stateNode;t.pendingContext?ph(n,t.pendingContext,t.pendingContext!==t.context):t.context&&ph(n,t.context,!1),Ku(n,t.containerInfo)}function Th(n,t,e,i,r){return Pr(),Nu(r),t.flags|=256,vt(n,t,e,i),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function qa(n){return{baseLanes:n,cachePool:null,transitions:null}}function Zf(n,t,e){var i=t.pendingProps,r=je.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),be(je,r&1),n===null)return Na(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,n=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_l(s,i,0,null),n=Hi(n,i,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=qa(e),t.memoizedState=Ya,n):ec(t,s));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return xm(n,t,s,i,l,r,e);if(o){o=i.fallback,s=t.mode,r=n.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(s&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=fi(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=fi(l,o):(o=Hi(o,s,e,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=n.child.memoizedState,s=s===null?qa(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~e,t.memoizedState=Ya,i}return o=n.child,n=o.sibling,i=fi(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function ec(n,t){return t=_l({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function as(n,t,e,i){return i!==null&&Nu(i),kr(t,n.child,null,e),n=ec(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function xm(n,t,e,i,r,o,s){if(e)return t.flags&256?(t.flags&=-257,i=Zl(Error(T(422))),as(n,t,s,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=_l({mode:"visible",children:i.children},r,0,null),o=Hi(o,r,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&kr(t,n.child,null,s),t.child.memoizedState=qa(s),t.memoizedState=Ya,o);if(!(t.mode&1))return as(n,t,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(T(419)),i=Zl(o,i,void 0),as(n,t,s,i)}if(l=(s&n.childLanes)!==0,Dt||l){if(i=ot,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,qn(n,r),bn(i,n,r,-1))}return sc(),i=Zl(Error(T(421))),as(n,t,s,i)}return r.data==="$?"?(t.flags|=128,t.child=n.child,t=Hm.bind(null,n),r._reactRetry=t,null):(n=o.treeContext,Bt=ui(r.nextSibling),Vt=t,Te=!0,gn=null,n!==null&&(Xt[Qt++]=Nn,Xt[Qt++]=Bn,Xt[Qt++]=Ni,Nn=n.id,Bn=n.overflow,Ni=t),t=ec(t,i.children),t.flags|=4096,t)}function Mh(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),Ba(n.return,t,e)}function ea(n,t,e,i,r){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=e,o.tailMode=r)}function ep(n,t,e){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(vt(n,t,i.children,e),i=je.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mh(n,e,t);else if(n.tag===19)Mh(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(be(je,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(e=t.child,r=null;e!==null;)n=e.alternate,n!==null&&Us(n)===null&&(r=e),e=e.sibling;e=r,e===null?(r=t.child,t.child=null):(r=e.sibling,e.sibling=null),ea(t,!1,r,e,o);break;case"backwards":for(e=null,r=t.child,t.child=null;r!==null;){if(n=r.alternate,n!==null&&Us(n)===null){t.child=r;break}n=r.sibling,r.sibling=e,e=r,r=n}ea(t,!0,e,null,o);break;case"together":ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cs(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function $n(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Vi|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(T(153));if(t.child!==null){for(n=t.child,e=fi(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=fi(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function Em(n,t,e){switch(t.tag){case 3:Jf(t),Pr();break;case 5:Pf(t);break;case 1:Mt(t.type)&&As(t);break;case 4:Ku(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;be(Ns,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(be(je,je.current&1),t.flags|=128,null):e&t.child.childLanes?Zf(n,t,e):(be(je,je.current&1),n=$n(n,t,e),n!==null?n.sibling:null);be(je,je.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return ep(n,t,e);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),be(je,je.current),i)break;return null;case 22:case 23:return t.lanes=0,Xf(n,t,e)}return $n(n,t,e)}var tp,$a,np,ip;tp=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};$a=function(){};np=function(n,t,e,i){var r=n.memoizedProps;if(r!==i){n=t.stateNode,Mi(jn.current);var o=null;switch(e){case"input":r=ma(n,r),i=ma(n,i),o=[];break;case"select":r=Ae({},r,{value:void 0}),i=Ae({},i,{value:void 0}),o=[];break;case"textarea":r=wa(n,r),i=wa(n,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Ls)}Ca(e,i);var s;e=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(go.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var a=i[u];if(l=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(e||(e={}),e[s]=a[s])}else e||(o||(o=[]),o.push(u,e)),e=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(go.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ce("scroll",n),o||l===a||(o=[])):(o=o||[]).push(u,a))}e&&(o=o||[]).push("style",e);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ip=function(n,t,e,i){e!==i&&(t.flags|=4)};function Xr(n,t){if(!Te)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ft(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var r=n.child;r!==null;)e|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)e|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function Sm(n,t,e){var i=t.pendingProps;switch(zu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Mt(t.type)&&Hs(),ft(t),null;case 3:return i=t.stateNode,Ir(),Re(Tt),Re(_t),qu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(ss(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gn!==null&&(iu(gn),gn=null))),$a(n,t),ft(t),null;case 5:Yu(t);var r=Mi(ko.current);if(e=t.type,n!==null&&t.stateNode!=null)np(n,t,e,i,r),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(T(166));return ft(t),null}if(n=Mi(jn.current),ss(t)){i=t.stateNode,e=t.type;var o=t.memoizedProps;switch(i[Mn]=t,i[So]=o,n=(t.mode&1)!==0,e){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(r=0;r<to.length;r++)Ce(to[r],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Bc(i,o),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",i);break;case"textarea":Uc(i,o),Ce("invalid",i)}Ca(e,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&os(i.textContent,l,n),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&os(i.textContent,l,n),r=["children",""+l]):go.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ce("scroll",i)}switch(e){case"input":Qo(i),Vc(i,o,!0);break;case"textarea":Qo(i),Gc(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Ls)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Dd(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=s.createElement(e,{is:i.is}):(n=s.createElement(e),e==="select"&&(s=n,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):n=s.createElementNS(n,e),n[Mn]=t,n[So]=i,tp(n,t,!1,!1),t.stateNode=n;e:{switch(s=xa(e,i),e){case"dialog":Ce("cancel",n),Ce("close",n),r=i;break;case"iframe":case"object":case"embed":Ce("load",n),r=i;break;case"video":case"audio":for(r=0;r<to.length;r++)Ce(to[r],n);r=i;break;case"source":Ce("error",n),r=i;break;case"img":case"image":case"link":Ce("error",n),Ce("load",n),r=i;break;case"details":Ce("toggle",n),r=i;break;case"input":Bc(n,i),r=ma(n,i),Ce("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Ae({},i,{value:void 0}),Ce("invalid",n);break;case"textarea":Uc(n,i),r=wa(n,i),Ce("invalid",n);break;default:r=i}Ca(e,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Od(n,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Td(n,a)):o==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&_o(n,a):typeof a=="number"&&_o(n,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(go.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Ce("scroll",n):a!=null&&Eu(n,o,a,s))}switch(e){case"input":Qo(n),Vc(n,i,!1);break;case"textarea":Qo(n),Gc(n);break;case"option":i.value!=null&&n.setAttribute("value",""+_i(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?pr(n,!!i.multiple,o,!1):i.defaultValue!=null&&pr(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Ls)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(n&&t.stateNode!=null)ip(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(T(166));if(e=Mi(ko.current),Mi(jn.current),ss(t)){if(i=t.stateNode,e=t.memoizedProps,i[Mn]=t,(o=i.nodeValue!==e)&&(n=Vt,n!==null))switch(n.tag){case 3:os(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&os(i.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[Mn]=t,t.stateNode=i}return ft(t),null;case 13:if(Re(je),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Te&&Bt!==null&&t.mode&1&&!(t.flags&128))bf(),Pr(),t.flags|=98560,o=!1;else if(o=ss(t),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(T(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[Mn]=t}else Pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),o=!1}else gn!==null&&(iu(gn),gn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||je.current&1?Ze===0&&(Ze=3):sc())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return Ir(),$a(n,t),n===null&&xo(t.stateNode.containerInfo),ft(t),null;case 10:return Uu(t.type._context),ft(t),null;case 17:return Mt(t.type)&&Hs(),ft(t),null;case 19:if(Re(je),o=t.memoizedState,o===null)return ft(t),null;if(i=(t.flags&128)!==0,s=o.rendering,s===null)if(i)Xr(o,!1);else{if(Ze!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(s=Us(n),s!==null){for(t.flags|=128,Xr(o,!1),i=s.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)o=e,n=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return be(je,je.current&1|2),t.child}n=n.sibling}o.tail!==null&&Ge()>Dr&&(t.flags|=128,i=!0,Xr(o,!1),t.lanes=4194304)}else{if(!i)if(n=Us(s),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Xr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Te)return ft(t),null}else 2*Ge()-o.renderingStartTime>Dr&&e!==1073741824&&(t.flags|=128,i=!0,Xr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(e=o.last,e!==null?e.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ge(),t.sibling=null,e=je.current,be(je,i?e&1|2:e&1),t):(ft(t),null);case 22:case 23:return oc(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?At&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Pm(n,t){switch(zu(t),t.tag){case 1:return Mt(t.type)&&Hs(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Ir(),Re(Tt),Re(_t),qu(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return Yu(t),null;case 13:if(Re(je),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Pr()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Re(je),null;case 4:return Ir(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var us=!1,pt=!1,km=typeof WeakSet=="function"?WeakSet:Set,F=null;function cr(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Ne(n,t,i)}else e.current=null}function Xa(n,t,e){try{e()}catch(i){Ne(n,t,i)}}var Oh=!1;function Im(n,t){if(Oa=Ms,n=af(),Au(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var s=0,l=-1,a=-1,u=0,c=0,h=n,d=null;t:for(;;){for(var f;h!==e||r!==0&&h.nodeType!==3||(l=s+r),h!==o||i!==0&&h.nodeType!==3||(a=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===e&&++u===r&&(l=s),d===o&&++c===i&&(a=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}e=l===-1||a===-1?null:{start:l,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(ja={focusedElem:n,selectionRange:e},Ms=!1,F=t;F!==null;)if(t=F,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,F=n;else for(;F!==null;){t=F;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,w=p.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:fn(t.type,_),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(y){Ne(t,t.return,y)}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}return p=Oh,Oh=!1,p}function uo(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var o=r.destroy;r.destroy=void 0,o!==void 0&&Xa(t,e,o)}r=r.next}while(r!==i)}}function pl(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function Qa(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function rp(n){var t=n.alternate;t!==null&&(n.alternate=null,rp(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Mn],delete t[So],delete t[Aa],delete t[cm],delete t[hm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function op(n){return n.tag===5||n.tag===3||n.tag===4}function jh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||op(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ja(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Ls));else if(i!==4&&(n=n.child,n!==null))for(Ja(n,t,e),n=n.sibling;n!==null;)Ja(n,t,e),n=n.sibling}function Za(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Za(n,t,e),n=n.sibling;n!==null;)Za(n,t,e),n=n.sibling}var ut=null,pn=!1;function Jn(n,t,e){for(e=e.child;e!==null;)sp(n,t,e),e=e.sibling}function sp(n,t,e){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(sl,e)}catch{}switch(e.tag){case 5:pt||cr(e,t);case 6:var i=ut,r=pn;ut=null,Jn(n,t,e),ut=i,pn=r,ut!==null&&(pn?(n=ut,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):ut.removeChild(e.stateNode));break;case 18:ut!==null&&(pn?(n=ut,e=e.stateNode,n.nodeType===8?Yl(n.parentNode,e):n.nodeType===1&&Yl(n,e),wo(n)):Yl(ut,e.stateNode));break;case 4:i=ut,r=pn,ut=e.stateNode.containerInfo,pn=!0,Jn(n,t,e),ut=i,pn=r;break;case 0:case 11:case 14:case 15:if(!pt&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Xa(e,t,s),r=r.next}while(r!==i)}Jn(n,t,e);break;case 1:if(!pt&&(cr(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(l){Ne(e,t,l)}Jn(n,t,e);break;case 21:Jn(n,t,e);break;case 22:e.mode&1?(pt=(i=pt)||e.memoizedState!==null,Jn(n,t,e),pt=i):Jn(n,t,e);break;default:Jn(n,t,e)}}function Lh(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new km),t.forEach(function(i){var r=Am.bind(null,n,i);e.has(i)||(e.add(i),i.then(r,r))})}}function hn(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];try{var o=n,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,pn=!1;break e;case 3:ut=l.stateNode.containerInfo,pn=!0;break e;case 4:ut=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(ut===null)throw Error(T(160));sp(o,s,r),ut=null,pn=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(u){Ne(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lp(t,n),t=t.sibling}function lp(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hn(t,n),Rn(n),i&4){try{uo(3,n,n.return),pl(3,n)}catch(_){Ne(n,n.return,_)}try{uo(5,n,n.return)}catch(_){Ne(n,n.return,_)}}break;case 1:hn(t,n),Rn(n),i&512&&e!==null&&cr(e,e.return);break;case 5:if(hn(t,n),Rn(n),i&512&&e!==null&&cr(e,e.return),n.flags&32){var r=n.stateNode;try{_o(r,"")}catch(_){Ne(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var o=n.memoizedProps,s=e!==null?e.memoizedProps:o,l=n.type,a=n.updateQueue;if(n.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Id(r,o),xa(l,s);var u=xa(l,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?Od(r,h):c==="dangerouslySetInnerHTML"?Td(r,h):c==="children"?_o(r,h):Eu(r,c,h,u)}switch(l){case"input":va(r,o);break;case"textarea":Rd(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?pr(r,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?pr(r,!!o.multiple,o.defaultValue,!0):pr(r,!!o.multiple,o.multiple?[]:"",!1))}r[So]=o}catch(_){Ne(n,n.return,_)}}break;case 6:if(hn(t,n),Rn(n),i&4){if(n.stateNode===null)throw Error(T(162));r=n.stateNode,o=n.memoizedProps;try{r.nodeValue=o}catch(_){Ne(n,n.return,_)}}break;case 3:if(hn(t,n),Rn(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(_){Ne(n,n.return,_)}break;case 4:hn(t,n),Rn(n);break;case 13:hn(t,n),Rn(n),r=n.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(ic=Ge())),i&4&&Lh(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(pt=(u=pt)||c,hn(t,n),pt=u):hn(t,n),Rn(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(F=n,c=n.child;c!==null;){for(h=F=c;F!==null;){switch(d=F,f=d.child,d.tag){case 0:case 11:case 14:case 15:uo(4,d,d.return);break;case 1:cr(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,e=d.return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(_){Ne(i,e,_)}}break;case 5:cr(d,d.return);break;case 22:if(d.memoizedState!==null){Ah(h);continue}}f!==null?(f.return=d,F=f):Ah(h)}c=c.sibling}e:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Md("display",s))}catch(_){Ne(n,n.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ne(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(t,n),Rn(n),i&4&&Lh(n);break;case 21:break;default:hn(t,n),Rn(n)}}function Rn(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(op(e)){var i=e;break e}e=e.return}throw Error(T(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(_o(r,""),i.flags&=-33);var o=jh(n);Za(n,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,l=jh(n);Ja(n,l,s);break;default:throw Error(T(161))}}catch(a){Ne(n,n.return,a)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Rm(n,t,e){F=n,ap(n)}function ap(n,t,e){for(var i=(n.mode&1)!==0;F!==null;){var r=F,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||us;if(!s){var l=r.alternate,a=l!==null&&l.memoizedState!==null||pt;l=us;var u=pt;if(us=s,(pt=a)&&!u)for(F=r;F!==null;)s=F,a=s.child,s.tag===22&&s.memoizedState!==null?Fh(r):a!==null?(a.return=s,F=a):Fh(r);for(;o!==null;)F=o,ap(o),o=o.sibling;F=r,us=l,pt=u}Hh(n)}else r.subtreeFlags&8772&&o!==null?(o.return=r,F=o):Hh(n)}}function Hh(n){for(;F!==null;){var t=F;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||pl(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!pt)if(e===null)i.componentDidMount();else{var r=t.elementType===t.type?e.memoizedProps:fn(t.type,e.memoizedProps);i.componentDidUpdate(r,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wh(t,o,i);break;case 3:var s=t.updateQueue;if(s!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}wh(t,s,e)}break;case 5:var l=t.stateNode;if(e===null&&t.flags&4){e=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&wo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}pt||t.flags&512&&Qa(t)}catch(d){Ne(t,t.return,d)}}if(t===n){F=null;break}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}}function Ah(n){for(;F!==null;){var t=F;if(t===n){F=null;break}var e=t.sibling;if(e!==null){e.return=t.return,F=e;break}F=t.return}}function Fh(n){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{pl(4,t)}catch(a){Ne(t,e,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(a){Ne(t,r,a)}}var o=t.return;try{Qa(t)}catch(a){Ne(t,o,a)}break;case 5:var s=t.return;try{Qa(t)}catch(a){Ne(t,s,a)}}}catch(a){Ne(t,t.return,a)}if(t===n){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var Dm=Math.ceil,Ks=Xn.ReactCurrentDispatcher,tc=Xn.ReactCurrentOwner,nn=Xn.ReactCurrentBatchConfig,he=0,ot=null,$e=null,ct=0,At=0,hr=wi(0),Ze=0,To=null,Vi=0,gl=0,nc=0,co=null,Pt=null,ic=0,Dr=1/0,An=null,Ys=!1,eu=null,hi=null,cs=!1,ri=null,qs=0,ho=0,tu=null,xs=-1,Es=0;function wt(){return he&6?Ge():xs!==-1?xs:xs=Ge()}function di(n){return n.mode&1?he&2&&ct!==0?ct&-ct:fm.transition!==null?(Es===0&&(Es=Wd()),Es):(n=me,n!==0||(n=window.event,n=n===void 0?16:Jd(n.type)),n):1}function bn(n,t,e,i){if(50<ho)throw ho=0,tu=null,Error(T(185));Ho(n,e,i),(!(he&2)||n!==ot)&&(n===ot&&(!(he&2)&&(gl|=e),Ze===4&&ni(n,ct)),Ot(n,i),e===1&&he===0&&!(t.mode&1)&&(Dr=Ge()+500,hl&&bi()))}function Ot(n,t){var e=n.callbackNode;f_(n,t);var i=Ts(n,n===ot?ct:0);if(i===0)e!==null&&Yc(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&Yc(e),t===1)n.tag===0?dm(zh.bind(null,n)):vf(zh.bind(null,n)),am(function(){!(he&6)&&bi()}),e=null;else{switch(Kd(i)){case 1:e=Ru;break;case 4:e=Ud;break;case 16:e=Ds;break;case 536870912:e=Gd;break;default:e=Ds}e=_p(e,up.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function up(n,t){if(xs=-1,Es=0,he&6)throw Error(T(327));var e=n.callbackNode;if(yr()&&n.callbackNode!==e)return null;var i=Ts(n,n===ot?ct:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=$s(n,i);else{t=i;var r=he;he|=2;var o=hp();(ot!==n||ct!==t)&&(An=null,Dr=Ge()+500,Li(n,t));do try{Om();break}catch(l){cp(n,l)}while(!0);Vu(),Ks.current=o,he=r,$e!==null?t=0:(ot=null,ct=0,t=Ze)}if(t!==0){if(t===2&&(r=Ia(n),r!==0&&(i=r,t=nu(n,r))),t===1)throw e=To,Li(n,0),ni(n,i),Ot(n,Ge()),e;if(t===6)ni(n,i);else{if(r=n.current.alternate,!(i&30)&&!Tm(r)&&(t=$s(n,i),t===2&&(o=Ia(n),o!==0&&(i=o,t=nu(n,o))),t===1))throw e=To,Li(n,0),ni(n,i),Ot(n,Ge()),e;switch(n.finishedWork=r,n.finishedLanes=i,t){case 0:case 1:throw Error(T(345));case 2:Ri(n,Pt,An);break;case 3:if(ni(n,i),(i&130023424)===i&&(t=ic+500-Ge(),10<t)){if(Ts(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){wt(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Ha(Ri.bind(null,n,Pt,An),t);break}Ri(n,Pt,An);break;case 4:if(ni(n,i),(i&4194240)===i)break;for(t=n.eventTimes,r=-1;0<i;){var s=31-wn(i);o=1<<s,s=t[s],s>r&&(r=s),i&=~o}if(i=r,i=Ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Dm(i/1960))-i,10<i){n.timeoutHandle=Ha(Ri.bind(null,n,Pt,An),i);break}Ri(n,Pt,An);break;case 5:Ri(n,Pt,An);break;default:throw Error(T(329))}}}return Ot(n,Ge()),n.callbackNode===e?up.bind(null,n):null}function nu(n,t){var e=co;return n.current.memoizedState.isDehydrated&&(Li(n,t).flags|=256),n=$s(n,t),n!==2&&(t=Pt,Pt=e,t!==null&&iu(t)),n}function iu(n){Pt===null?Pt=n:Pt.push.apply(Pt,n)}function Tm(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var r=e[i],o=r.getSnapshot;r=r.value;try{if(!En(o(),r))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(n,t){for(t&=~nc,t&=~gl,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-wn(t),i=1<<e;n[e]=-1,t&=~i}}function zh(n){if(he&6)throw Error(T(327));yr();var t=Ts(n,0);if(!(t&1))return Ot(n,Ge()),null;var e=$s(n,t);if(n.tag!==0&&e===2){var i=Ia(n);i!==0&&(t=i,e=nu(n,i))}if(e===1)throw e=To,Li(n,0),ni(n,t),Ot(n,Ge()),e;if(e===6)throw Error(T(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Ri(n,Pt,An),Ot(n,Ge()),null}function rc(n,t){var e=he;he|=1;try{return n(t)}finally{he=e,he===0&&(Dr=Ge()+500,hl&&bi())}}function Ui(n){ri!==null&&ri.tag===0&&!(he&6)&&yr();var t=he;he|=1;var e=nn.transition,i=me;try{if(nn.transition=null,me=1,n)return n()}finally{me=i,nn.transition=e,he=t,!(he&6)&&bi()}}function oc(){At=hr.current,Re(hr)}function Li(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,lm(e)),$e!==null)for(e=$e.return;e!==null;){var i=e;switch(zu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hs();break;case 3:Ir(),Re(Tt),Re(_t),qu();break;case 5:Yu(i);break;case 4:Ir();break;case 13:Re(je);break;case 19:Re(je);break;case 10:Uu(i.type._context);break;case 22:case 23:oc()}e=e.return}if(ot=n,$e=n=fi(n.current,null),ct=At=t,Ze=0,To=null,nc=gl=Vi=0,Pt=co=null,Ti!==null){for(t=0;t<Ti.length;t++)if(e=Ti[t],i=e.interleaved,i!==null){e.interleaved=null;var r=i.next,o=e.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}e.pending=i}Ti=null}return n}function cp(n,t){do{var e=$e;try{if(Vu(),ws.current=Ws,Gs){for(var i=He.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Gs=!1}if(Bi=0,it=Qe=He=null,ao=!1,Io=0,tc.current=null,e===null||e.return===null){Ze=1,To=t,$e=null;break}e:{var o=n,s=e.return,l=e,a=t;if(t=ct,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ph(s);if(f!==null){f.flags&=-257,kh(f,s,l,o,t),f.mode&1&&Sh(o,u,t),t=f,a=u;var p=t.updateQueue;if(p===null){var _=new Set;_.add(a),t.updateQueue=_}else p.add(a);break e}else{if(!(t&1)){Sh(o,u,t),sc();break e}a=Error(T(426))}}else if(Te&&l.mode&1){var w=Ph(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),kh(w,s,l,o,t),Nu(Rr(a,l));break e}}o=a=Rr(a,l),Ze!==4&&(Ze=2),co===null?co=[o]:co.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Yf(o,a,t);yh(o,m);break e;case 1:l=a;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hi===null||!hi.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=qf(o,l,t);yh(o,y);break e}}o=o.return}while(o!==null)}fp(e)}catch(b){t=b,$e===e&&e!==null&&($e=e=e.return);continue}break}while(!0)}function hp(){var n=Ks.current;return Ks.current=Ws,n===null?Ws:n}function sc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(Vi&268435455)&&!(gl&268435455)||ni(ot,ct)}function $s(n,t){var e=he;he|=2;var i=hp();(ot!==n||ct!==t)&&(An=null,Li(n,t));do try{Mm();break}catch(r){cp(n,r)}while(!0);if(Vu(),he=e,Ks.current=i,$e!==null)throw Error(T(261));return ot=null,ct=0,Ze}function Mm(){for(;$e!==null;)dp($e)}function Om(){for(;$e!==null&&!r_();)dp($e)}function dp(n){var t=gp(n.alternate,n,At);n.memoizedProps=n.pendingProps,t===null?fp(n):$e=t,tc.current=null}function fp(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=Pm(e,t),e!==null){e.flags&=32767,$e=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ze=6,$e=null;return}}else if(e=Sm(e,t,At),e!==null){$e=e;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=n}while(t!==null);Ze===0&&(Ze=5)}function Ri(n,t,e){var i=me,r=nn.transition;try{nn.transition=null,me=1,jm(n,t,e,i)}finally{nn.transition=r,me=i}return null}function jm(n,t,e,i){do yr();while(ri!==null);if(he&6)throw Error(T(327));e=n.finishedWork;var r=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(T(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(p_(n,o),n===ot&&($e=ot=null,ct=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||cs||(cs=!0,_p(Ds,function(){return yr(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var s=me;me=1;var l=he;he|=4,tc.current=null,Im(n,e),lp(e,n),em(ja),Ms=!!Oa,ja=Oa=null,n.current=e,Rm(e),o_(),he=l,me=s,nn.transition=o}else n.current=e;if(cs&&(cs=!1,ri=n,qs=r),o=n.pendingLanes,o===0&&(hi=null),a_(e.stateNode),Ot(n,Ge()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)r=t[e],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ys)throw Ys=!1,n=eu,eu=null,n;return qs&1&&n.tag!==0&&yr(),o=n.pendingLanes,o&1?n===tu?ho++:(ho=0,tu=n):ho=0,bi(),null}function yr(){if(ri!==null){var n=Kd(qs),t=nn.transition,e=me;try{if(nn.transition=null,me=16>n?16:n,ri===null)var i=!1;else{if(n=ri,ri=null,qs=0,he&6)throw Error(T(331));var r=he;for(he|=4,F=n.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:uo(8,c,o)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,f=c.return;if(rp(c),c===u){F=null;break}if(d!==null){d.return=f,F=d;break}F=f}}}var p=o.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:uo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var g=n.current;for(F=g;F!==null;){s=F;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,F=v;else e:for(s=g;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pl(9,l)}}catch(b){Ne(l,l.return,b)}if(l===s){F=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,F=y;break e}F=l.return}}if(he=r,bi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(sl,n)}catch{}i=!0}return i}finally{me=e,nn.transition=t}}return!1}function Nh(n,t,e){t=Rr(e,t),t=Yf(n,t,1),n=ci(n,t,1),t=wt(),n!==null&&(Ho(n,1,t),Ot(n,t))}function Ne(n,t,e){if(n.tag===3)Nh(n,n,e);else for(;t!==null;){if(t.tag===3){Nh(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(hi===null||!hi.has(i))){n=Rr(e,n),n=qf(t,n,1),t=ci(t,n,1),n=wt(),t!==null&&(Ho(t,1,n),Ot(t,n));break}}t=t.return}}function Lm(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=wt(),n.pingedLanes|=n.suspendedLanes&e,ot===n&&(ct&e)===e&&(Ze===4||Ze===3&&(ct&130023424)===ct&&500>Ge()-ic?Li(n,0):nc|=e),Ot(n,t)}function pp(n,t){t===0&&(n.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var e=wt();n=qn(n,t),n!==null&&(Ho(n,t,e),Ot(n,e))}function Hm(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),pp(n,e)}function Am(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(e=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(T(314))}i!==null&&i.delete(t),pp(n,e)}var gp;gp=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Tt.current)Dt=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Dt=!1,Em(n,t,e);Dt=!!(n.flags&131072)}else Dt=!1,Te&&t.flags&1048576&&yf(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Cs(n,t),n=t.pendingProps;var r=Sr(t,_t.current);vr(t,e),r=Xu(null,t,i,n,r,e);var o=Qu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(i)?(o=!0,As(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Wu(t),r.updater=fl,t.stateNode=r,r._reactInternals=t,Ua(t,i,n,e),t=Ka(null,t,i,!0,o,e)):(t.tag=0,Te&&o&&Fu(t),vt(null,t,r,e),t=t.child),t;case 16:i=t.elementType;e:{switch(Cs(n,t),n=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=zm(i),n=fn(i,n),r){case 0:t=Wa(null,t,i,n,e);break e;case 1:t=Dh(null,t,i,n,e);break e;case 11:t=Ih(null,t,i,n,e);break e;case 14:t=Rh(null,t,i,fn(i.type,n),e);break e}throw Error(T(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fn(i,r),Wa(n,t,i,r,e);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fn(i,r),Dh(n,t,i,r,e);case 3:e:{if(Jf(t),n===null)throw Error(T(387));i=t.pendingProps,o=t.memoizedState,r=o.element,Sf(n,t),Vs(t,i,null,e);var s=t.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=Rr(Error(T(423)),t),t=Th(n,t,i,e,r);break e}else if(i!==r){r=Rr(Error(T(424)),t),t=Th(n,t,i,e,r);break e}else for(Bt=ui(t.stateNode.containerInfo.firstChild),Vt=t,Te=!0,gn=null,e=xf(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Pr(),i===r){t=$n(n,t,e);break e}vt(n,t,i,e)}t=t.child}return t;case 5:return Pf(t),n===null&&Na(t),i=t.type,r=t.pendingProps,o=n!==null?n.memoizedProps:null,s=r.children,La(i,r)?s=null:o!==null&&La(i,o)&&(t.flags|=32),Qf(n,t),vt(n,t,s,e),t.child;case 6:return n===null&&Na(t),null;case 13:return Zf(n,t,e);case 4:return Ku(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=kr(t,null,i,e):vt(n,t,i,e),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fn(i,r),Ih(n,t,i,r,e);case 7:return vt(n,t,t.pendingProps,e),t.child;case 8:return vt(n,t,t.pendingProps.children,e),t.child;case 12:return vt(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,be(Ns,i._currentValue),i._currentValue=s,o!==null)if(En(o.value,s)){if(o.children===r.children&&!Tt.current){t=$n(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(o.tag===1){a=Wn(-1,e&-e),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),Ba(o.return,e,t),l.lanes|=e;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(T(341));s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),Ba(s,e,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vt(n,t,r.children,e),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,vr(t,e),r=sn(r),i=i(r),t.flags|=1,vt(n,t,i,e),t.child;case 14:return i=t.type,r=fn(i,t.pendingProps),r=fn(i.type,r),Rh(n,t,i,r,e);case 15:return $f(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fn(i,r),Cs(n,t),t.tag=1,Mt(i)?(n=!0,As(t)):n=!1,vr(t,e),Kf(t,i,r),Ua(t,i,r,e),Ka(null,t,i,!0,n,e);case 19:return ep(n,t,e);case 22:return Xf(n,t,e)}throw Error(T(156,t.tag))};function _p(n,t){return Vd(n,t)}function Fm(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(n,t,e,i){return new Fm(n,t,e,i)}function lc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zm(n){if(typeof n=="function")return lc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Pu)return 11;if(n===ku)return 14}return 2}function fi(n,t){var e=n.alternate;return e===null?(e=tn(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Ss(n,t,e,i,r,o){var s=2;if(i=n,typeof n=="function")lc(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case tr:return Hi(e.children,r,o,t);case Su:s=8,r|=8;break;case fa:return n=tn(12,e,t,r|2),n.elementType=fa,n.lanes=o,n;case pa:return n=tn(13,e,t,r),n.elementType=pa,n.lanes=o,n;case ga:return n=tn(19,e,t,r),n.elementType=ga,n.lanes=o,n;case Sd:return _l(e,r,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case xd:s=10;break e;case Ed:s=9;break e;case Pu:s=11;break e;case ku:s=14;break e;case Zn:s=16,i=null;break e}throw Error(T(130,n==null?n:typeof n,""))}return t=tn(s,e,t,r),t.elementType=n,t.type=i,t.lanes=o,t}function Hi(n,t,e,i){return n=tn(7,n,i,t),n.lanes=e,n}function _l(n,t,e,i){return n=tn(22,n,i,t),n.elementType=Sd,n.lanes=e,n.stateNode={isHidden:!1},n}function ta(n,t,e){return n=tn(6,n,null,t),n.lanes=e,n}function na(n,t,e){return t=tn(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Nm(n,t,e,i,r){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ac(n,t,e,i,r,o,s,l,a){return n=new Nm(n,t,e,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tn(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(o),n}function Bm(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function mp(n){if(!n)return mi;n=n._reactInternals;e:{if(Yi(n)!==n||n.tag!==1)throw Error(T(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(n.tag===1){var e=n.type;if(Mt(e))return mf(n,e,t)}return t}function vp(n,t,e,i,r,o,s,l,a){return n=ac(e,i,!0,n,r,o,s,l,a),n.context=mp(null),e=n.current,i=wt(),r=di(e),o=Wn(i,r),o.callback=t??null,ci(e,o,r),n.current.lanes=r,Ho(n,r,i),Ot(n,i),n}function ml(n,t,e,i){var r=t.current,o=wt(),s=di(r);return e=mp(e),t.context===null?t.context=e:t.pendingContext=e,t=Wn(o,s),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=ci(r,t,s),n!==null&&(bn(n,r,s,o),ys(n,r,s)),s}function Xs(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Bh(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function uc(n,t){Bh(n,t),(n=n.alternate)&&Bh(n,t)}var yp=typeof reportError=="function"?reportError:function(n){console.error(n)};function cc(n){this._internalRoot=n}vl.prototype.render=cc.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(T(409));ml(n,t,null,null)};vl.prototype.unmount=cc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Ui(function(){ml(null,n,null,null)}),t[Yn]=null}};function vl(n){this._internalRoot=n}vl.prototype.unstable_scheduleHydration=function(n){if(n){var t=$d();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ti.length&&t!==0&&t<ti[e].priority;e++);ti.splice(e,0,n),e===0&&Qd(n)}};function hc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Vh(){}function Vm(n,t,e,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var u=Xs(s);o.call(u)}}var s=vp(t,i,n,0,null,!1,!1,"",Vh);return n._reactRootContainer=s,n[Yn]=s.current,xo(n.nodeType===8?n.parentNode:n),Ui(),s}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var u=Xs(a);l.call(u)}}var a=ac(n,0,!1,null,null,!1,!1,"",Vh);return n._reactRootContainer=a,n[Yn]=a.current,xo(n.nodeType===8?n.parentNode:n),Ui(function(){ml(t,a,e,i)}),a}function wl(n,t,e,i,r){var o=e._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var l=r;r=function(){var a=Xs(s);l.call(a)}}ml(t,s,n,r)}else s=Vm(e,t,n,r,i);return Xs(s)}Yd=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=eo(t.pendingLanes);e!==0&&(Du(t,e|1),Ot(t,Ge()),!(he&6)&&(Dr=Ge()+500,bi()))}break;case 13:Ui(function(){var i=qn(n,1);if(i!==null){var r=wt();bn(i,n,1,r)}}),uc(n,1)}};Tu=function(n){if(n.tag===13){var t=qn(n,134217728);if(t!==null){var e=wt();bn(t,n,134217728,e)}uc(n,134217728)}};qd=function(n){if(n.tag===13){var t=di(n),e=qn(n,t);if(e!==null){var i=wt();bn(e,n,t,i)}uc(n,t)}};$d=function(){return me};Xd=function(n,t){var e=me;try{return me=n,t()}finally{me=e}};Sa=function(n,t,e){switch(t){case"input":if(va(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var r=cl(i);if(!r)throw Error(T(90));kd(i),va(i,r)}}}break;case"textarea":Rd(n,e);break;case"select":t=e.value,t!=null&&pr(n,!!e.multiple,t,!1)}};Hd=rc;Ad=Ui;var Um={usingClientEntryPoint:!1,Events:[Fo,or,cl,jd,Ld,rc]},Qr={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gm={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Nd(n),n===null?null:n.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{sl=hs.inject(Gm),On=hs}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Um;Wt.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(t))throw Error(T(200));return Bm(n,t,null,e)};Wt.createRoot=function(n,t){if(!hc(n))throw Error(T(299));var e=!1,i="",r=yp;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=ac(n,1,!1,null,null,e,!1,i,r),n[Yn]=t.current,xo(n.nodeType===8?n.parentNode:n),new cc(t)};Wt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(T(188)):(n=Object.keys(n).join(","),Error(T(268,n)));return n=Nd(t),n=n===null?null:n.stateNode,n};Wt.flushSync=function(n){return Ui(n)};Wt.hydrate=function(n,t,e){if(!yl(t))throw Error(T(200));return wl(null,n,t,!0,e)};Wt.hydrateRoot=function(n,t,e){if(!hc(n))throw Error(T(405));var i=e!=null&&e.hydratedSources||null,r=!1,o="",s=yp;if(e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),t=vp(t,null,n,1,e??null,r,!1,o,s),n[Yn]=t.current,xo(n),i)for(n=0;n<i.length;n++)e=i[n],r=e._getVersion,r=r(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,r]:t.mutableSourceEagerHydrationData.push(e,r);return new vl(t)};Wt.render=function(n,t,e){if(!yl(t))throw Error(T(200));return wl(null,n,t,!1,e)};Wt.unmountComponentAtNode=function(n){if(!yl(n))throw Error(T(40));return n._reactRootContainer?(Ui(function(){wl(null,null,n,!1,function(){n._reactRootContainer=null,n[Yn]=null})}),!0):!1};Wt.unstable_batchedUpdates=rc;Wt.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!yl(e))throw Error(T(200));if(n==null||n._reactInternals===void 0)throw Error(T(38));return wl(n,t,e,!1,i)};Wt.version="18.3.1-next-f1338f8080-20240426";function wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wp)}catch(n){console.error(n)}}wp(),yd.exports=Wt;var ru=yd.exports,Uh=ru;ha.createRoot=Uh.createRoot,ha.hydrateRoot=Uh.hydrateRoot;/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var kn=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),zr=typeof navigator<"u"?navigator.userAgent:"",Wm=zr.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i)!=null;function bp(){return Wm}var Km=zr.match(/iPad|iPhone|iPod/i)!=null;function Cp(){return Km}var Ym=zr.match(/Firefox\//)!=null;function Gi(){return Ym}var qm=zr.match(/^((?!Chrome|Android).)*safari/i)!=null;function wr(){return qm}var $m=zr.match(/Edge\//)!=null;function Xm(){return $m}var Qm=zr.match(/MSIE |Trident\/|Edge\//)!=null;function ge(){return Qm}var xp=!1;function Qn(){return xp}var Ep=!1;function Sp(){return Ep}var Pp=!1;typeof document<"u"&&document.addEventListener("test",function(n){},{get passive(){return Pp=!0,!0}});function Qs(n,t){return Pp?{capture:n,passive:t}:n}var kp=!1;typeof document<"u"&&document.createElement("div").focus({get preventScroll(){return kp=!0,!0}});function Ip(){return kp}function Rp(n,t){n.effectAllowed=t,Gi()&&n.setData("text","")}typeof document<"u"&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(Ep=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(xp=!0,document.addEventListener("mousemove",function(n){if(n.which==1){var t=K(n.target,".wj-control");if(t&&!t.style.cursor){for(var e=n.target;e;e=e.parentElement)if(e.attributes&&e.attributes.draggable)return e.dragDrop(),!1}}})));if(typeof window<"u"){var Gh="requestAnimationFrame",Jm="cancelAnimationFrame";if(!window[Gh]){var ia=0;window[Gh]=function(n){var t=Date.now(),e=16-(t-ia),i=e>0?e:0;return ia=t+i,setTimeout(function(){n(ia)},i)},window[Jm]=clearTimeout}if(!window.atob){var Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Zm=new RegExp("[^"+Qi+"]");window.atob=function(n){var t,e,i,r,o=[],s=0,l=n.length;if(Zm.test(n)||/=/.test(n)&&(/=[^=]/.test(n)||/={3}/.test(n)))throw new Error("Invalid base64 data");for(l%4>0&&(l=(n+=Array(4-l%4+1).join("=")).length);s<l;){for(e=[],r=s;s<r+4;)e.push(Qi.indexOf(n.charAt(s++)));for(i=[((t=(e[0]<<18)+(e[1]<<12)+((63&e[2])<<6)+(63&e[3]))&255<<16)>>16,e[2]===64?-1:(65280&t)>>8,e[3]===64?-1:255&t],r=0;r<3;++r)(i[r]>=0||r===0)&&o.push(String.fromCharCode(i[r]))}return o.join("")},window.btoa=function(n){for(var t,e,i=[],r=0,o=n.length;r<o;)t=((e=[n.charCodeAt(r++),n.charCodeAt(r++),n.charCodeAt(r++)])[0]<<16)+((e[1]||0)<<8)+(e[2]||0),i.push(Qi.charAt((t&63<<18)>>18),Qi.charAt((258048&t)>>12),Qi.charAt(isNaN(e[1])?64:(4032&t)>>6),Qi.charAt(isNaN(e[2])?64:63&t));return i.join("")}}}var br=typeof window<"u"&&window.Symbol?Symbol("_getProxyTarget"):"	_get	Proxy	Target	";function Dp(n,t,e){var i=new WeakMap;if(!e){var r={};if(n.length){var o=n[0];for(var s in o){var l=typeof o[s];r[s]=l=="string"?"":l=="number"?0:null}e=r}}return new Proxy(n,{get:function(a,u){if(u===br)return a;if(typeof u=="string"||typeof u=="number"){if(u=="indexOf")return function(f,p){var _=a.indexOf(f,p);return _<0&&f&&(f=f[br])&&(_=a.indexOf(f,p)),_};var c=parseInt(u);if(!isNaN(c)){var h=a[c];if(h&&!h[br]){var d=i.get(h);d||(d=ev(h,t,e),i.set(h,d)),h=d}return h}}return Reflect.get(a,u)}})}function ev(n,t,e){if(!n[br]){if(ge())for(var i in t)n[i]=null;var r={get:function(o,s,l){if(s===br)return o;if(s==="constructor")return function(){return Object.assign({},e||{})};var a=t[s];if(a)switch(typeof a){case"function":return a(l);case"string":return tv(a,l)}return o[s]}};ge()||(r.ownKeys=function(o){return Object.keys(o).concat(Object.keys(t))},r.getOwnPropertyDescriptor=function(o,s){return s in t?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(o,s)}),n=new Proxy(n,r)}return n}function Tp(n){return(n?n[br]:null)||n}function tv(n,t){var e=[t];return new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+n])))().apply(void 0,e)}var nv=function(){function n(){this._hasDoc=typeof Document<"u",this._ae=this._nativeAe();var t=window,e=this._onBlur.bind(this),i=this._onFocus.bind(this);t.addEventListener("focusout",e,!0),t.addEventListener("focusin",i,!0),ge()||(t.addEventListener("blur",e,!0),t.addEventListener("focus",i,!0))}return Object.defineProperty(n.prototype,"activeElement",{get:function(){var t=this._ae,e=this._nativeAe();return t===n._noAe?t=this._ae=e:t!=e&&(this._isSpecialRoot(t)||document.body.contains(t)||(t=this._ae=e)),t!==n._noAe?t:null},enumerable:!0,configurable:!0}),n.prototype._onBlur=function(t){if(t.isTrusted){var e=t.relatedTarget;this._ae=this._isSpecialRoot(e)?this._nativeAe():e}},n.prototype._onFocus=function(t){t.isTrusted&&(this._ae=this._nativeAe())},n.prototype._isSpecialRoot=function(t){return t==null||t===document.body||this._hasDoc&&t instanceof Document},n.prototype._nativeAe=function(){var t;try{t=typeof document.activeElement!="unknown"?document.activeElement:n._noAe}catch{t=n._noAe}return t},n._noAe={},n}(),dc;typeof window<"u"&&(dc=new nv);var st=function(){function n(t){this.path=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var i=this._parts[e],r=i.indexOf("[");r>-1&&(this._parts[e]=i.substr(0,r),this._parts.splice(++e,0,parseInt(i.substr(r+1))))}this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},n.prototype.setValue=function(t,e){if(t)try{var i=this._path;if(i in t)return t[i]=e,t[i]==e;for(var r=0;r<this._parts.length-1;r++)if((t=t[this._parts[r]])==null)return!1;return t[i=this._parts[this._parts.length-1]]=e,t[i]==e}catch{return!1}return!1},n}(),iv=function(t,e){this.handler=t,this.self=e},P=function(){function n(t){this._handlers=[],this._handlersChanged=t}return n.prototype.addHandler=function(t,e){t=ke(t),this._handlers.push(new iv(t,e)),ee(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeHandler=function(t,e){var i=!1;t=ke(t);for(var r=0;r<this._handlers.length;r++){var o=this._handlers[r];if(!(o.handler!=t&&t!=null||o.self!=e&&e!=null)&&(this._handlers.splice(r--,1),i=!0,t&&e))break}i&&ee(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&ee(this._handlersChanged)&&this._handlersChanged()},n.prototype.raise=function(t,e){e===void 0&&(e=Ci.empty);for(var i=this._handlers,r=0;r<i.length;r++){var o=i[r];o.handler.call(o.self,t,e),i[r]!==o&&r--}},Object.defineProperty(n.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),n}(),Ci=function(){function n(){}return n.empty=new n,n}(),we=function(n){kn(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cancel=!1,e}return t}(Ci),rv=function(n){kn(t,n);function t(e,i,r){var o=n.call(this)||this;return o._name=e,o._oldVal=i,o._newVal=r,o}return Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(Ci),ov=function(n){kn(t,n);function t(e,i){var r=n.call(this)||this;return r._xhr=e,r._msg=i,r}return Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(we),Oe;(function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove",n[n.Change=2]="Change",n[n.Reset=3]="Reset"})(Oe||(Oe={}));var Jt=function(n){kn(t,n);function t(e,i,r){e===void 0&&(e=Oe.Reset),i===void 0&&(i=null),r===void 0&&(r=-1);var o=n.call(this)||this;return o.action=e,o.item=i,o.index=r,o}return t.reset=new t(Oe.Reset),t}(Ci),Oi=function(){function n(t,e){this._bnd=new st(t),this._asc=e}return Object.defineProperty(n.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),n}(),Mp=function(n){kn(t,n);function t(e){var i=n.call(this)||this;return i.newPageIndex=e,i}return t}(we),fc=function(){function n(){}return n.prototype.groupNameFromItem=function(t,e){return""},n.prototype.namesMatch=function(t,e){return t===e},n}(),ou=function(n){kn(t,n);function t(e,i){var r=n.call(this)||this;return r._bnd=new st(e),r._converter=i,r}return Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,i){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,i){return e===i},t}(fc),sv="5.20222.877";function pc(){return sv}function lv(n){M._licKey=n}var x;(function(n){n[n.Back=8]="Back",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.Left=37]="Left",n[n.Up=38]="Up",n[n.Right=39]="Right",n[n.Down=40]="Down",n[n.Delete=46]="Delete",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12"})(x||(x={}));var ve;(function(n){n[n.Object=0]="Object",n[n.String=1]="String",n[n.Number=2]="Number",n[n.Boolean=3]="Boolean",n[n.Date=4]="Date",n[n.Array=5]="Array"})(ve||(ve={}));function Gt(n,t){return n==null?null:Q(t)?ee(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function Tr(n){return Q(n)||ue(n)||Je(n)||Me(n)}function Q(n){return typeof n=="string"}function av(n){return!n||!/\S/.test(n)}function ue(n){return typeof n=="number"}function Js(n){return ue(n)&&n==Math.round(n)}function Je(n){return typeof n=="boolean"}function ee(n){return typeof n=="function"}function Vn(n){return n===void 0}function Me(n){return(n instanceof Date||Object.prototype.toString.call(n)==="[object Date]")&&!isNaN(n.getTime())}function We(n){return n instanceof Array||Array.isArray(n)||Object.prototype.toString.call(n)==="[object Array]"}function rt(n){return n!=null&&typeof n=="object"&&!Me(n)&&!We(n)}function uv(n){for(var t in n)return!1;return!0}function gc(n){for(var t=n,e=0;document.getElementById(t)!=null;e++)t=n+e;return t}function dr(n){if(n instanceof bt)return n;if(n&&n.touches&&n.touches.length>0&&(n=n.touches[0]),ue(n.clientX)&&ue(n.clientY))return new bt(n.clientX+pageXOffset,n.clientY+pageYOffset);throw"Mouse or touch event expected."}function vi(n){return ue(n)?ve.Number:Je(n)?ve.Boolean:Me(n)?ve.Date:Q(n)?ve.String:We(n)?ve.Array:ve.Object}function Op(n,t){if(t===void 0&&(t=1e3),!n)return[];var e=n.length;(t<=0||e<t)&&(t=e);var i=[];if(t){for(var r=Object.keys(n[0]),o={},s=r.slice(),l=0;l<t;l++){for(var a=n[l],u=s.length-1;u>=0;u--){var c=s[u],h=a[c];if(Tr(h)){var d=Object.getOwnPropertyDescriptor(n[l],c);o[c]={binding:c,dataType:vi(h),isReadOnly:d&&!d.writable&&!d.set},s.splice(u,1)}}if(!s.length)break}for(l=0;l<r.length;l++){var f=o[r[l]];f&&i.push(f)}}return i}function bl(n,t,e,i){if(n!=null){var r=ve;if(Q(n))switch(t){case r.Number:var o=ne.parseFloat(n,e);return isNaN(o)?n:o;case r.Date:var s=ne.parseDate(n,e,Me(i)?i:null);return s||e||!n||(s=new Date(n)),s&&isFinite(s.getTime())?s:n;case r.Boolean:switch(n.toLowerCase()){case"true":return!0;case"false":return!1}return n;case r.Array:try{var l=n.split(",").map(function(a){return(a=a.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?a:'"'+a+'"'});return JSON.parse("["+l.join(",")+"]")}catch{}}if(t==ve.String)return ne.format(n,e)}return n}function su(n,t,e){if(e){var i=n.toString(),r=i.indexOf("e"),o=i.indexOf(".");if(r>-1){if(i[r+1]==="-"){var s=parseFloat(i.substr(r+2)),l=i.substr(0,r);o>-1&&(l=l.substr(0,o)+l.substr(o+1)),i="0."+(Array(s).join("0")+l).substr(0,t),n=parseFloat(i)}}else o>-1&&(i=i.substr(0,o+1+t),n=parseFloat(i))}else{var a=Math.pow(10,t);n=Math.round(n*a)/a}return n}function Nr(n,t,e){if((n=L(n)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(n);if(Q(i.count)){var r=t[i.count],o=i.when;if(ue(r)&&rt(o)){var s=o[r]||o.other;Q(s)&&(n=s)}}}catch{}return n.replace(/\{(.*?)(:(.*?))?\}/g,function(l,a,u,c){var h=l;return a&&a[0]!="{"&&t&&(h=new st(a).getValue(t),c&&(h=ne.format(h,c)),e&&(h=e(t,a,c,h))),h??""})}function jp(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=[],i=-1;return n[0].forEach(function(r,o){if(o>0&&o!=i){var s=n[o],l=r.match(/^:([a-z][0-9]*\b)/i)||r.match(/^:'(.+?)'/)||r.match(/^:"(.+?)"/);l?(s=ne.format(s,l[1]),r=r.substr(l[0].length)):r==":"&&o<n.length-1&&(ue(s)||Me(s))&&(s=ne.format(s,n[o+1]),r="",i=o+1),e.push(s)}r&&e.push(r)}),e.join("")}function Lp(n,t){return ge()?(n=n.replace(/:\${([^}]*)}/g,function(e,i){return":"+ra(i,t)})).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,function(e,i,r,o,s,l,a){var u=ra(i,t);return o?ne.format(u,s||l||a):u}):ra(n,t)}function ra(n,t){(t=t||{}).glbz=jp;var e=Object.keys(t),i=e.map(function(r){return t[r]});return(ge()?new(Function.bind.apply(Function,[void 0].concat(e,["return "+n]))):new(Function.bind.apply(Function,[void 0].concat(e,["return glbz`"+n+"`"])))).apply(void 0,i)}function ce(n,t,e){return n!=null&&(e!=null&&n>e&&(n=e),t!=null&&n<t&&(n=t)),n}function xi(n,t){if(t){for(var e in t)if(e[0]!="_"){B(e in n,'Unknown property "'+e+'".');var i=t[e];n._copy&&n._copy(e,i)||(n[e]instanceof P?ee(i)&&n[e].addHandler(i):!rt(i)||typeof Element<"u"&&i instanceof Element||!n[e]||e=="itemsSource"?n[e]=i:xi(n[e],i))}}return n}function B(n,t){if(!n){t="** Assertion failed in Wijmo: "+t;var e=new Error;throw Q(e.stack)&&(t+=" "+e.stack),t}}function Cl(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function L(n,t){return t===void 0&&(t=!0),Vn(n)&&(n=null),B(t&&n==null||Q(n),"String expected."),n}function j(n,t,e){if(t===void 0&&(t=!1),e===void 0&&(e=!1),B(t&&n==null||ue(n),"Number expected."),e&&n&&n<0)throw"Positive number expected.";return n}function Ee(n,t,e){if(t===void 0&&(t=!1),e===void 0&&(e=!1),B(t&&n==null||Js(n),"Integer expected."),e&&n&&n<0)throw"Positive integer expected.";return n}function k(n,t){return t===void 0&&(t=!1),B(t&&n==null||Je(n),"Boolean expected."),n}function zt(n,t){if(t===void 0&&(t=!1),Q(n)){var e=bl(n,ve.Date,"r");Me(e)&&(n=e)}return B(t&&n==null||Me(n),"Date expected."),n}function ke(n,t){return t===void 0&&(t=!0),B(t&&n==null||ee(n),"Function expected."),n}function gt(n,t){return t===void 0&&(t=!0),B(t&&n==null||We(n),"Array expected."),n}function Le(n,t,e){return e===void 0&&(e=!1),n=Gt(n,t),B(e||n!=null,t+" expected."),n}function ye(n,t,e){if(e===void 0&&(e=!1),n==null&&e)return null;var i=Q(n)?t[n]:n;return B(i!=null,'Invalid enum value: "'+n+'"'),ue(i)?i:n}function No(n,t){if(t===void 0&&(t=!0),n==null&&t)return null;var e=Gt(n,"ICollectionView");return e??(We(n)||B(!1,"Array or ICollectionView expected."),new rn(n))}function Ue(n){return n!=null&&n.items!=null&&n.items.length>0}function xl(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function Cn(n){return n&&Q(n)&&(n=n.replace(/[&<>"'\/]/g,function(t){return cv[t]})),n!=null?n.toString():""}var ds,cv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function _c(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function Sn(n){var t=L(n);return Q(t)&&t.indexOf("<")>-1&&(ds||(ds=document.createElement("div")),ds.innerHTML=t,t=ds.textContent),t}function de(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Qn())return n.classList.contains(t);if(n.getAttribute){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");return n&&e.test(n.getAttribute("class"))}}return!1}function ie(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Qn()){t.indexOf(" ")<0?n.classList.add(t):t.split(" ").forEach(function(e){n.classList.add(e)});return}n.setAttribute&&t.split(" ").forEach(function(e){if(!de(n,e)){var i=n.getAttribute("class");n.setAttribute("class",i?i+" "+e:e)}})}}function kt(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Qn()){t.indexOf(" ")<0?n.classList.remove(t):t.split(" ").forEach(function(e){n.classList.remove(e)});return}n.setAttribute&&t.split(" ").forEach(function(e){if(de(n,e)){var i=new RegExp("((\\s|^)"+e+"(\\s|$))","g"),r=n.getAttribute("class");(r=r.replace(i," ").replace(/ +/g," ").trim())?n.setAttribute("class",r):n.removeAttribute("class")}})}}function te(n,t,e){e==null&&(e=!de(n,t)),e?ie(n,t):kt(n,t)}function A(n,t,e,i){n&&(e!=null?i&&n.getAttribute(t)||n.setAttribute(t,e.toString()):n.removeAttribute(t))}function Mr(n,t){var e=t==null;n.checked=ge()?t||e:t,n.indeterminate=e}function Ve(n,t){A(n,"aria-label",t)}function J(n,t,e,i){if(e===void 0&&(e=t),i===void 0&&(i=!0),B(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),q(document.body,n)&&!n.disabled&&n.offsetHeight){try{n.setSelectionRange(t,e,"backward")}catch{}if(i)try{return n.focus(),!0}catch{}}return!1}function El(n){var t="autocomplete",e=n.getAttribute(t);e&&e!="on"||n.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach(function(i){n.setAttribute(i,i=="spellcheck"?"false":"off")})}function De(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function Z(){var n=document.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function Hp(){var n=dc.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function fo(n,t){var e=Ap(n,t<0),i=0;if(t){var r=e.indexOf(Z());r>-1&&(i=(r+t+e.length)%e.length)}if(i<e.length){var o=e[i];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function Ap(n,t){t===void 0&&(t=!1);var e=[],i=Array.prototype.slice.call(n.querySelectorAll("input,select,textarea,button,a,div")),r={},o=function(c){return c instanceof HTMLInputElement&&c.type==="radio"};i.forEach(function(c){o(c)&&c.checked&&(r[c.name||""]=!0)}),(i=i.filter(function(c){return!o(c)||c.checked||!r[c.name||""]})).sort(function(c,h){return c.tabIndex-h.tabIndex});for(var s=0;s<i.length;s++){var l=i[s];if(l.offsetHeight>0&&l.tabIndex>-1&&!l.disabled&&window.getComputedStyle(l).visibility!=="hidden"&&!K(l,"[disabled],.wj-state-disabled")){if(l instanceof HTMLAnchorElement&&!l.hasAttribute("href"))continue;if(ge()&&!l.hasAttribute("tabindex")){if(l instanceof HTMLDivElement)continue;var a=M.getControl(K(l,".wj-flexgrid"));if(a&&a.keyActionTab==0)continue}if(l.type==="radio"&&!l.checked&&e.length>0){var u=e[e.length-1];if(u.type==="radio"&&u.name===l.name){t&&(e[e.length-1]=l);continue}}!M.getControl(l)&&Ap(l).length||e.push(l)}}return e}function hv(n,t,e){e===void 0&&(e="text/plain");var i=n instanceof Blob;i||!e.match(/\bcsv\b/i)&&!t.match(/\.csv$/i)||(n="\uFEFF"+n);var r=i?n:new Blob([n],{type:e});if(ee(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(r,t);else{var o=document.createElement("a"),s=function(c){var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(h)};if("download"in o){var l=window.URL||window.webkitURL,a=l.createObjectURL(r);o.href=a,o.target="_blank",o.download=t,s(o),o=null,window.setTimeout(function(){l.revokeObjectURL(a)},3e4)}else{var u=new FileReader;u.onloadend=function(){o.href=u.result,o.download=t,s(o),o=null},u.readAsDataURL(r)}}}function Un(n){if(n instanceof Element)return n;if(Q(n))try{return document.querySelector(n)}catch{}return n&&n.jquery?n[0]:null}function _e(n,t,e){n=n.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var i=document.createElement("div");if(i.innerHTML=n,n.indexOf("_wj-style")>-1)for(var r=i.querySelectorAll("[_wj-style]"),o=function(l){var a=r[l];a.getAttribute("_wj-style").split(";").forEach(function(u){var c=u.split(":");c.length==2&&(a.style[c[0].trim()]=c[1].trim())}),a.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return i.children.length==1&&(i=i.children[0]),e&&H(i,e),t&&(t=Un(t)).appendChild(i),i}function _n(n,t){n.textContent=t||""}function q(n,t,e){for(var i=t;i&&n;){if(i===n)return!0;i=(e?i[M._OWNR_KEY]:null)||i.parentNode||i.host}return!1}function K(n,t){if(n){if(ee(n.closest))return n.closest(t);var e=n.matches||n.webkitMatchesSelector||n.msMatchesSelector||n.mozMatchesSelector;if(e){for(;n&&n.nodeType===1;n=n.parentElement||n.parentNode)if(e.call(n,t))return n}}return null}function Ht(n,t){return K(n,"."+t)}function It(n,t){var e=!t,i="disabled";te(n,"wj-state-disabled",e),A(n,i,e?i:null);for(var r=n.querySelectorAll("input,button"),o=0;o<r.length;o++)A(r[o],i,e?i:null)}function Zs(n){var t=n.getBoundingClientRect();return new yt(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function H(n,t){if(B(rt(t),"css parameter should be an object"),n instanceof Array)for(var e=0;e<n.length;e++)H(n[e],t);else if(n&&n.style){var i=n.style;for(var r in t){var o=t[r];typeof o=="number"&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),i[r]!==o&&(i[r]=o)}}}function mc(n,t,e){t==null&&(t=M._ANIM_DEF_DURATION),e==null&&(e=M._ANIM_DEF_STEP),n=ke(n),t=j(t,!1,!0),e=j(e,!1,!0);var i,r=Date.now(),o=setInterval(function(){var s=Math.min(1,(Date.now()-r)/t);s=Math.sin(s*Math.PI/2),s*=s,i&&cancelAnimationFrame(i),i=requestAnimationFrame(function(){i=null,n(s)}),s>=1&&clearInterval(o)},e);return o}var bt=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.x=j(t),this.y=j(e)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}(),$t=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.width=j(t),this.height=j(e)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}(),yt=function(){function n(t,e,i,r){this.left=j(t),this.top=j(e),this.width=j(i),this.height=j(r)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(t){if(t.left!=null)return new n(t.left,t.top,t.width,t.height);if(t.x!=null)return new n(t.x,t.y,t.width,t.height);B(!1,"Invalid source rectangle.")},n.union=function(t,e){var i=Math.min(t.left,e.left),r=Math.min(t.top,e.top);return new n(i,r,Math.max(t.right,e.right)-i,Math.max(t.bottom,e.bottom)-r)},n.intersection=function(t,e){var i=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return new n(i,r,Math.min(t.right,e.right)-i,Math.min(t.bottom,e.bottom)-r)},n.prototype.contains=function(t){if(t instanceof bt)return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom;if(t instanceof n){var e=t;return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}B(!1,"Point or Rect expected.")},n.prototype.inflate=function(t,e){return new n(this.left-t,this.top-e,this.width+2*t,this.height+2*e)},n}(),W=function(){function n(){}return n.addDays=function(t,e){return(t=new Date(t.getTime())).setDate(t.getDate()+e),t},n.addMonths=function(t,e){var i=(t=new Date(t.getTime())).getDate();return t.setMonth(t.getMonth()+e),t.getDate()!=i&&t.setDate(0),t},n.addYears=function(t,e){return(t=new Date(t.getTime())).setFullYear(t.getFullYear()+e),t},n.addHours=function(t,e){return(t=new Date(t.getTime())).setHours(t.getHours()+e),t},n.addMinutes=function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t},n.addSeconds=function(t,e){return(t=new Date(t.getTime())).setSeconds(t.getSeconds()+e),t},n.weekFirst=function(t,e){return e===void 0&&(e=ne.getFirstDayOfWeek()),n.addDays(t,-(t.getDay()-e))},n.weekLast=function(t,e){return e===void 0&&(e=ne.getFirstDayOfWeek()),t=n.weekFirst(t,e),n.addDays(t,6)},n.monthFirst=function(t){return n.addDays(t,1-t.getDate())},n.monthLast=function(t){return t=n.monthFirst(t),t=n.addMonths(t,1),n.addDays(t,-1)},n.yearFirst=function(t){return new Date(t.getFullYear(),0,1)},n.yearLast=function(t){return new Date(t.getFullYear(),11,31)},n.sameDate=function(t,e){return Me(t)&&Me(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},n.sameTime=function(t,e){return Me(t)&&Me(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()&&t.getMilliseconds()==e.getMilliseconds()},n.equals=function(t,e){return t==null&&e==null||Me(t)&&Me(e)&&t.getTime()==e.getTime()},n.fromDateTime=function(t,e){return!t&&!e?null:(t||(t=e),e||(e=t),n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},n.toFiscal=function(t,e){var i=oe.Globalize.calendar;return We(i.fiscalYearOffsets)?n.addMonths(t,-i.fiscalYearOffsets[e?0:1]):t},n.fromFiscal=function(t,e){var i=oe.Globalize.calendar;return We(i.fiscalYearOffsets)?n.addMonths(t,+i.fiscalYearOffsets[e?0:1]):t},n.newDate=function(t,e,i,r,o,s,l){if(t==null||e==null||i==null){var a=new Date;t==null&&(t=a.getFullYear()),e==null&&(e=a.getMonth()),i==null&&(i=a.getDate())}r==null&&(r=0),o==null&&(o=0),s==null&&(s=0),l==null&&(l=0);var u=new Date(t,e,i,r,o,s,l),c=u.getFullYear();return t<100&&c>=1900&&u.setFullYear(u.getFullYear()-1900),u},n.clone=function(t){return n.fromDateTime(t,t)},n}();function lu(n,t){var e=t||{},i=e.method?L(e.method).toUpperCase():"GET",r=e.async==null||k(e.async),o=e.data;if(o!=null&&i=="GET"){var s=[];for(var l in o){var a=o[l];Me(a)&&(a=a.toJSON()),s.push(l+"="+encodeURIComponent(a))}if(s.length){var u=n.indexOf("?")<0?"?":"&";n+=u+s.join("&")}o=null}var c=new XMLHttpRequest;c.URL_DEBUG=n;var h=!1;if(o!=null&&!Q(o)&&(h=rt(o),o=JSON.stringify(o)),c.onload=function(){c.readyState==4&&(c.status<300?e.success&&ke(e.success)(c):e.error&&ke(e.error)(c),e.complete&&ke(e.complete)(c))},c.onerror=function(){if(!ee(e.error))throw"HttpRequest Error: "+c.status+" "+c.statusText;e.error(c)},c.open(i,n,r,e.user,e.password),e.user&&e.password&&c.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),h&&function(){for(var f in e.requestHeaders)if(f.toLowerCase()==="content-type")return!1;return!0}()&&c.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var d in e.requestHeaders)c.setRequestHeader(d,e.requestHeaders[d]);return ue(e.timeout)&&(c.timeout=e.timeout),ee(e.beforeSend)&&e.beforeSend(c),c.send(o),c}var Fp={};function Bo(n,t){if(Fp[n]=t,n==="wijmo"){var e=typeof window<"u"?window:typeof self<"u"?self:null;e&&(e.wijmo=t)}}function Sl(n){return Fp[n]}var zp=function(){function n(t){if(t===void 0&&(t=!0),t)this._h={};else{var e=fv(),i=e&&e.Map;this._m=i&&new Map||new dv}}return Object.defineProperty(n.prototype,"isPojoHash",{get:function(){return this._h!=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._h?this._h={}:this._m.clear()},n.prototype.delete=function(t){this._h?delete this._h[t]:this._m.delete(t)},n.prototype.get=function(t){return this._h?this._h[t]:this._m.get(t)},n.prototype.has=function(t){return this._h?t in this._h:this._m.has(t)},n.prototype.set=function(t,e){return this._h?this._h[t]=e:this._m.set(t,e),this},n}(),dv=function(){function n(){this._d=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._d=[]},n.prototype.delete=function(t){var e=this._kIdx(t);return e>-1?(this._d.splice(e,1),!0):!1},n.prototype.get=function(t){var e=this._kIdx(t);return e>-1?this._d[e].v:void 0},n.prototype.has=function(t){return this._kIdx(t)>-1},n.prototype.set=function(t,e){var i=this._kIdx(t);return i>-1?this._d[i].v=e:this._d.push({k:t,v:e}),this},n.prototype._kIdx=function(t){var e=this._d,i=e.length;if(t==t){for(var r=0;r<i;r++)if(e[r].k===t)return r}else for(r=0;r<i;r++){var o=e[r].k;if(o!=o)return r}return-1},n}();function fv(){var n=null;return typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"&&(n=self),n}var mt=function(){function n(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(n.prototype,"r",{get:function(){return this._r},set:function(t){this._r=ce(j(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this._g},set:function(t){this._g=ce(j(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this._b},set:function(t){this._b=ce(j(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this._a},set:function(t){this._a=ce(j(t),0,1)},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},n.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},n.fromRgba=function(t,e,i,r){r===void 0&&(r=1);var o=new n(null);return o.r=Math.round(ce(j(t),0,255)),o.g=Math.round(ce(j(e),0,255)),o.b=Math.round(ce(j(i),0,255)),o.a=ce(j(r),0,1),o},n.fromHsb=function(t,e,i,r){r===void 0&&(r=1);var o=n._hsbToRgb(ce(j(t),0,1),ce(j(e),0,1),ce(j(i),0,1));return n.fromRgba(o[0],o[1],o[2],r)},n.fromHsl=function(t,e,i,r){r===void 0&&(r=1);var o=n._hslToRgb(ce(j(t),0,1),ce(j(e),0,1),ce(j(i),0,1));return n.fromRgba(o[0],o[1],o[2],r)},n.fromString=function(t){var e=new n(null);return e._parse(L(t))?e:null},n.prototype.getHsb=function(){return n._rgbToHsb(this.r,this.g,this.b)},n.prototype.getHsl=function(){return n._rgbToHsl(this.r,this.g,this.b)},n.interpolate=function(t,e,i){i=ce(j(i),0,1);var r=n._rgbToHsl(t.r,t.g,t.b),o=n._rgbToHsl(e.r,e.g,e.b),s=1-i,l=t.a*s+e.a*i,a=[r[0]*s+o[0]*i,r[1]*s+o[1]*i,r[2]*s+o[2]*i],u=n._hslToRgb(a[0],a[1],a[2]);return n.fromRgba(u[0],u[1],u[2],l)},n.toOpaque=function(t,e){if((t=Q(t)?n.fromString(t):Le(t,n)).a==1)return t;e=e==null?n.fromRgba(255,255,255,1):Q(e)?n.fromString(e):Le(e,n);var i=t.a,r=1-i;return n.fromRgba(t.r*i+e.r*r,t.g*i+e.g*r,t.b*i+e.b*r)},n.prototype._parse=function(t){if((t=t.toLowerCase())=="transparent")return this._r=this._g=this._b=this._a=0,!0;if(t&&t.indexOf("#")!=0&&t.indexOf("rgb")!=0&&t.indexOf("hsl")!=0){var e=document.createElement("div");e.style.color=t;var i=e.style.color;i==t&&!(i=window.getComputedStyle(e).color)&&(document.body.appendChild(e),i=window.getComputedStyle(e).color,De(e)),t=i.toLowerCase()}if(t.indexOf("#")==0)return t.length==4?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):t.length==7?(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0):!1;if(t.indexOf("rgb")==0){var r=t.indexOf("("),o=t.indexOf(")");if(r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}if(t.indexOf("hsl")==0&&(r=t.indexOf("("),o=t.indexOf(")"),r>-1&&o>-1)){var s;if((s=t.substr(r+1,o-(r+1)).split(",")).length>2){var l=parseInt(s[0])/360,a=parseInt(s[1]),u=parseInt(s[2]);s[1].indexOf("%")>-1&&(a/=100),s[2].indexOf("%")>-1&&(u/=100);var c=n._hslToRgb(l,a,u);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=s.length>3?parseFloat(s[3]):1,!0}}return!1},n._hslToRgb=function(t,e,i){B(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values");var r,o,s;if(e==0)r=o=s=i;else{var l=i<.5?i*(1+e):i+e-i*e,a=2*i-l;r=n._hue2rgb(a,l,t+1/3),o=n._hue2rgb(a,l,t),s=n._hue2rgb(a,l,t-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},n._hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},n._rgbToHsl=function(t,e,i){B(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values"),t/=255,e/=255,i/=255;var r,o,s=Math.max(t,e,i),l=Math.min(t,e,i),a=(s+l)/2;if(s==l)r=o=0;else{var u=s-l;switch(o=a>.5?u/(2-s-l):u/(s+l),s){case t:r=(e-i)/u+(e<i?6:0);break;case e:r=(i-t)/u+2;break;case i:r=(t-e)/u+4}r/=6}return[r,o,a]},n._rgbToHsb=function(t,e,i){B(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values");var r=n._rgbToHsl(t,e,i);return n._hslToHsb(r[0],r[1],r[2])},n._hsbToRgb=function(t,e,i){var r=n._hsbToHsl(t,e,i);return n._hslToRgb(r[0],r[1],r[2])},n._hsbToHsl=function(t,e,i){B(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSB values");var r=ce(i*(2-e)/2,0,1),o=1-Math.abs(2*r-1),s=ce(o>0?i*e/o:e,0,1);return B(!isNaN(r)&&!isNaN(s),"bad conversion to HSL"),[t,s,r]},n._hslToHsb=function(t,e,i){B(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values");var r=ce(i==1?1:(2*i+e*(1-Math.abs(2*i-1)))/2,0,1),o=ce(r>0?2*(r-i)/r:e,0,1);return B(!isNaN(r)&&!isNaN(o),"bad conversion to HSB"),[t,o,r]},n}(),oe=typeof window<"u"&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},ne=function(){function n(){}return n.format=function(t,e,i,r,o){return Q(t)?t:ue(t)?(e=e||(t==Math.round(t)?"n0":"n2"),n.formatNumber(t,e,i,r,o)):Me(t)?(e=e||"d",n.formatDate(t,e)):t!=null?t.toString():""},n.formatNumber=function(t,e,i,r,o){t=j(t),e=L(e);var s,l=oe.Globalize.numberFormat,a=n._parseNumericFormat(e),u=a.spec,c=a.prec,h=l["."]||".",d=l[","]||",",f=l["-"]||"-",p=Math;if(c==null&&(c=o??(u=="c"?l.currency.decimals:u=="e"?6:u=="r"?15:t==p.round(t)?0:2)),a.scale&&(t/=p.pow(10,a.scale)),u=="d"||u=="x"){for(s=(r?p.floor:p.round)(p.abs(t)).toString(u=="d"?10:16);s.length<c;)s="0"+s;return t<0&&(s=f+s),a.specRaw=="X"?s.toUpperCase():s}switch(r&&u!="p"&&u!="e"&&(t=su(t,c,!0)),u){case"e":s=t.toExponential(c),a.specRaw=="E"&&(s=s.replace("e","E"));break;case"c":s=n._toFixedStr(p.abs(t),c);break;case"p":t=n._shiftDecimal(t,2,14),r&&(t=su(t,c,r)),s=n._toFixedStr(p.abs(t),c);break;default:(s=n._toFixedStr(t,c))[0]!="-"||s.match(/[1-9]/)||(s=s.substr(1))}if((i||u=="g"||u=="r")&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),h!="."&&(s=s.replace(".",h)),f!="-"&&(s=s.replace("-",f)),d&&(u=="n"||u=="c"||a.specRaw=="p"||a.specRaw=="F"||a.specRaw=="G")){var _=s.indexOf(h),w=/\B(?=(\d\d\d)+(?!\d))/g;s=_>-1?s.substr(0,_).replace(w,d)+s.substr(_):s.replace(w,d)}if(u=="c"){var m=t<0&&s.match(/[1-9]/)?0:1,g=l.currency.pattern[m],v=a.curr||l.currency.symbol;v==""&&(v=""),s=g.replace("n",s).replace("$",v)}if(u=="p"){m=t<0&&s.match(/[1-9]/)?0:1,g=l.percent.pattern[m];var y=l["%"]||"%";s=g.replace("n",s),y!="%"&&(s=s.replace("%",y)),f!="-"&&m==0&&(s=s.replace("-",f))}return a.prefix||a.suffix?a.prefix+s+a.suffix:s},n.formatDate=function(t,e){switch(t=zt(t),e){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return e=n._expandFormat(e),n._parseDateFormat(e).map(function(i){return n._formatDatePart(t,e,i)}).join("")},n.parseInt=function(t,e){return Math.round(n.parseFloat(t,e))},n.parseFloat=function(t,e){var i=n._parseNumericFormat(e),r=i.prefix;r&&t.indexOf(r)==0&&(t=t.substring(r.length));var o=i.suffix;if(o){var s=t.lastIndexOf(o);s>-1&&s==t.length-o.length&&(t=t.substring(0,t.length-o.length))}var l=oe.Globalize.numberFormat,a=l["."]||".",u=l[","]||",",c=l["-"]||"-",h=l["%"]||"%",d=i.curr||l.currency.symbol||"$",f=t.indexOf(h)>-1,p=t.indexOf("(")>-1&&t.indexOf(")")>-1,_=0;if(i.spec=="x")_=parseInt(t,16);else{[d,h,"(",")"].forEach(function(m){t=t.replace(m,"")}),/\s/.test(u)&&(t=t.replace(/\s+/g,""));var w=(t=t.replace(new RegExp("\\"+u,"g"),"").replace(new RegExp("\\"+c,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(a,".").trim()).length;!p&&w&&t[w-1]=="-"&&(p=!0,t=t.substring(0,w-1)),_=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(t)?parseFloat(t):Number.NaN}return isNaN(_)||(p=p||_<0,_=Math.abs(_),f&&(_=n._shiftDecimal(_,-2)),p&&(_=-_),i.scale&&(_*=Math.pow(10,i.scale))),_},n.parseDate=function(t,e,i){if(!(t=L(t)))return null;if(e=="u")return new Date(t);var r;if(e=="R"||e=="r"){var o=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(t),isNaN(r.getTime())?null:r}e=n._expandFormat(e||"d");var s=oe.Globalize.calendar,l=n._CJK,a=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+l+"\\.]{2,})|(["+l+"]+)","gi"),u=t.match(a),c=n._parseDateFormat(e),h=0;if(!(u&&u.length&&c&&c.length))return null;var d,f,p,_,w,m=-1,g=0,v=1,y=0,b=0,E=0,C=0,S=-1,O=null;(i=zt(i,!0))&&(g=i.getMonth(),v=i.getDate(),y=i.getHours(),b=i.getMinutes(),E=i.getSeconds(),C=i.getMilliseconds());for(var I=0;I<c.length&&u;I++){var N=I-h,R=N>-1&&N<u.length?u[N]:"",V=c[I].length;switch(c[I]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":w=c[I];case"yyyy":case"yyy":case"yy":case"y":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),m=parseInt(R),_=R.length==4;break;case"MMMM":case"MMM":p=!0,g=-1;for(var X=R.toLowerCase(),tt=c[I]=="MMMM"?s.months:s.monthsAbbr,Fe=0;Fe<12;Fe++)if(tt[Fe].toLowerCase().indexOf(X)==0){g=Fe;break}if(g>-1)break;case"MM":case"M":p=!0,V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),g=parseInt(R)-1;break;case"dddd":case"ddd":d=!0;break;case"dd":case"d":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),v=parseInt(R),f=!0;break;case"hh":case"h":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),y=(y=parseInt(R))==12?0:y;break;case"HH":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),y=parseInt(R);break;case"H":y=parseInt(R);break;case"mm":case"m":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),b=parseInt(R);break;case"ss":case"s":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),E=parseInt(R);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":C=parseInt(R)/Math.pow(10,V-3);break;case"tt":case"t":R=R.toUpperCase(),y<12&&s.pm.indexOf(R)>-1&&(y+=12);break;case"q":case"Q":case"u":case"U":S=parseInt(R);break;case"ggg":case"gg":case"g":if(O=s.eras.length>1?n._getEra(R,s):null,s.eras.length>0&&!O)return null;break;case"/":case":":if(R&&R!=s[c[I]])return null;break;case s["/"]:case s[":"]:if(R&&R!=c[I])return null;break;case"K":break;default:n._unquote(c[I]).trim()!=R.trim()&&h++}}if(p&&f&&(isNaN(y)&&(y=0),isNaN(b)&&(b=0),isNaN(E)&&(E=0)),g<0||g>11||isNaN(g)||v<1||v>31||isNaN(v)||y<0||y>=24||isNaN(y)||b<0||b>=60||isNaN(b)||E<0||E>=60||isNaN(E)||u.length+h>c.length)return null;if(w){if(!p)return null;var Ye=oe.Globalize.calendar;if(We(Ye.fiscalYearOffsets)){var D=w[0]=="E",G=g-Ye.fiscalYearOffsets[D?0:1];m+=G>11?-1:G<0?1:0}}if(d&&!f)return null;if(!p&&S>=1&&S<=4&&(g=3*(S-1)),isNaN(m)||m<0)m=i?i.getFullYear():new Date().getFullYear();else if(O&&O.start)m=m+O.start.getFullYear()-1;else if(m<100&&!_){var Y=ue(s.twoDigitYearMax)?s.twoDigitYearMax:2029;Y>99&&(m+=m+2e3<=Y?2e3:1900)}return(r=W.newDate(m,g,v,y,b+0,E,C)).getMonth()!=g||r.getDate()!=v||isNaN(r.getTime())?null:r},n.getFirstDayOfWeek=function(){var t=oe.Globalize.calendar.firstDay;return t||0},n.getNumberDecimalSeparator=function(){var t=oe.Globalize.numberFormat["."];return t||"."},n._toFixedStr=function(t,e){var i=t.toString(),r=i.indexOf("."),o=e-(i.length-r)+1,s=i.indexOf("e")>-1;return!s&&r>-1&&o>=0?i+Array(o+1).join("0"):(r>-1&&!s&&i[i.length-1]=="5"&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1)),t.toFixed(e))},n._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&(t[0]=="'"||t[0]=='"')?t.substr(1,t.length-2):t},n._parseNumericFormat=function(t){var e=n._numFormatInfo[t];if(!e){var i=t&&t.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=i[3]?i[3]:"n";r.length>1&&(i=[],r="n"),e={prefix:i[2]||"",spec:r.toLowerCase(),specRaw:r,prec:i[4]?parseInt(i[4]):null,scale:i[5]?3*i[5].length:0,suffix:i[7]||"",curr:i[8]||null},n._numFormatInfo[t]=e}return e},n._parseDateFormat=function(t){var e=n._dateFormatParts[t];if(!e){if(e=[],t){var i=void 0,r=void 0;for(i=0;i>-1&&i<t.length;i++){var o=t[i];if((o=="'"||o=='"')&&(r=t.indexOf(o,i+1))>-1)e.push(t.substring(i,r+1)),i=r;else if(o=="\\"&&i<t.length-1)i++,e.push('"'+t[i]+'"');else{for(r=i+1;r<t.length&&t[r]==o;r++);e.push(t.substring(i,r)),i=r-1}}}n._dateFormatParts[t]=e}return e},n._formatDatePart=function(t,e,i){var r,o=oe.Globalize.calendar,s=null,l=0,a=0,u=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":l=(r=i[0]=="E"?W.toFiscal(t,!0):i[0]=="e"?W.toFiscal(t,!1):t).getFullYear(),o.eras.length>1&&e.indexOf("g")>-1&&(s=n._getEra(t,o))&&(l=Me(s.start)?l-s.start.getFullYear()+1:Math.abs(l));var c=i.length<3?l%100:i.length==3?l%1e3:l;return n._zeroPad(c,i.length);case"MMMMM":return o.monthsAbbr[t.getMonth()][0];case"MMMM":return o.months[t.getMonth()];case"MMM":return o.monthsAbbr[t.getMonth()];case"MM":case"M":return n._zeroPad(t.getMonth()+1,u);case"dddd":return o.days[t.getDay()];case"ddd":return o.daysAbbr[t.getDay()];case"dd":return n._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return n._zeroPad(n._h12(t),u);case"HH":case"H":return n._zeroPad(t.getHours(),u);case"mm":case"m":return n._zeroPad(t.getMinutes(),u);case"ss":case"s":return n._zeroPad(t.getSeconds(),u);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return a=t.getMilliseconds()*Math.pow(10,u-3),i[0]=="f"?n._zeroPad(a,u):a.toFixed(0);case"tt":return t.getHours()<12?o.am[0]:o.pm[0];case"t":return t.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return r=W.toFiscal(t,i=="U"),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=n._getEra(t,o))){if(Q(s))return s;switch(i){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[i];case"K":var h=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":var d=-t.getTimezoneOffset(),f=Math.abs(d),p=n.formatNumber,_=void 0;switch(i){case"zzz":_=p(f/60,"d2",!1,!0)+o[":"]+p(f%60,"d2",!1,!0);break;case"zz":_=p(f/60,"d2",!1,!0);break;case"z":_=p(f/60,"d1",!1,!0)}return(d>=0?"+":"-")+_}return u>1&&i[0]==i[u-1]&&(i[0]=='"'||i[0]=="'")?i.substr(1,u-2):i},n._getEra=function(t,e){if(e.eras){var i=e.eras,r=e.eras.length;if(Me(t)){if(Q(i[0]))return i[t.getFullYear()>=0?0:1];if(Me(i[0].start)){for(var o=0;o<r;o++)if(t>=i[o].start)return i[o];return i[r-1]}}else if(Q(t)&&t.length>0)for(t=t.toLowerCase(),o=0;o<r;o++){var s=i[o];if(Q(s)){if(s.toLowerCase().indexOf(t)==0)return s}else if(s.name&&s.name.toLowerCase().indexOf(t)==0||s.symbol&&s.symbol.toLowerCase().indexOf(t)==0)return s}}return null},n._expandFormat=function(t){var e=oe.Globalize.calendar.patterns[t];return e||t},n._zeroPad=function(t,e){var i=t.toFixed(0),r=e-i.length+1;return r>0?Array(r).join("0")+i:i},n._h12=function(t){var e=oe.Globalize.calendar,i=t.getHours();return e.am&&e.am[0]&&(i%=12)==0&&(i=12),i},n._shiftDecimal=function(t,e,i){if(e==0||isNaN(t))return t;var r=t.toString();if(r.indexOf("e")>-1){var o=t*Math.pow(10,e);return i!=null&&(o=parseFloat(o.toFixed(i))),o}var s=Array(Math.abs(e)+1).join("0");e<0&&(r=s+r);var l=r.indexOf(".");return l<0&&(l=(r+=".").indexOf(".")),e>0&&(r+=s),l+=e,r=(r=r.replace(".","")).substr(0,l)+"."+r.substr(l),parseFloat(r)},n._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),n._numFormatInfo={},n._dateFormatParts={},n}();function pv(n){oe=n}function Ei(n,t){var e=typeof window<"u"?window.wijmo:null,i=e?e.culture:null,r=i?i[n]:null;oe[n]=r||t}var Br=function(){function n(t,e,i){e===void 0&&(e=""),i===void 0&&(i="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=L(e),this.input=t,this.promptChar=L(i,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(n.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=L(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){if(t!=this._promptChar){B((t=L(t,!1)).length==1,"promptChar must be a string with length 1.");for(var e=this._tbx,i=e.value,r="",o=this._mskArr,s=this._promptChar,l=0;l<i.length;l++){var a=o[l],u=i[l];a&&a.literal||u!==s||(u=t),r+=u}e.value=r,this._promptChar=t}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(t){this._overWrite=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),n.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},n.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",i=0;i<this._mskArr.length&&i<t.length;i++)this._mskArr[i].literal||t[i]==this._promptChar||(e+=t[i]);return e},n.prototype.refresh=function(){this._parseMask(),this._valueChanged()},n.prototype._input=function(t){var e=this;this._msk&&!this._composing&&t!=this._evtInput&&(t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){e._valueChanged(),e._tbx&&e._tbx.dispatchEvent(e._evtInput)}))},n.prototype._keydown=function(t){if(t.keyCode==x.Back){var e=this._tbx.selectionStart,i=this._tbx.selectionEnd;if(e<=this._firstPos&&i==e){t.preventDefault(),this._backSpace=!1;return}}this._backSpace=t.keyCode==x.Back},n.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},n.prototype._cmpstart=function(t){this._composing=!0},n.prototype._cmpend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){var i=e._tbx;i&&e._valueChanged()&&i.dispatchEvent(e._evtInput)}))},n.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,i=e.selectionStart,r=String.fromCharCode(t);if(i<this._firstPos&&J(e,i=this._firstPos),i>=this._mskArr.length)return!0;var o=this._mskArr[i];if(o.literal)this._validatePosition(i);else if(o.wildCard!=r&&!this._isCharValid(o.wildCard,r))return!0}return!1},n.prototype._connect=function(t){var e=this._tbx;e&&(B(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._inputBnd,!0),e.addEventListener("keydown",this._keydownBnd,!0),e.addEventListener("keypress",this._keypressBnd,!0),e.addEventListener("compositionstart",this._cmpstartBnd,!0),e.addEventListener("compositionend",this._cmpendBnd,!0),e.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._inputBnd,!0),e.removeEventListener("keydown",this._keydownBnd,!0),e.removeEventListener("keypress",this._keypressBnd,!0),e.removeEventListener("compositionstart",this._cmpstartBnd,!0),e.removeEventListener("compositionend",this._cmpendBnd,!0),e.removeEventListener("blur",this._cmpendBnd,!0)))},n.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.selectionStart,i=e>0?t.value[e-1]:"",r=t.value;t.value=this._applyMask(),r==""&&(e=this._firstPos+1);var o=e>0?t.value[e-1]:"";return e>0&&o==this._promptChar&&i!=this.promptChar&&e--,e==r.length&&(e=this._matchEnd),this._validatePosition(e),r!=t.value},n.prototype._applyMask=function(){var t=this._tbx,e=t.value;if(this._full=!0,this._matchEnd=0,!this._msk||!e&&!t.required)return e;if(this._overWrite){var i=t.selectionStart;t==document.activeElement&&t.selectionEnd==i&&e.length>this.mask.length&&(e=e.substr(0,i)+e.substr(i+e.length-this.mask.length))}e=this._handleVagueLiterals(e);for(var r="",o=0,s=this._promptChar,l=0;l<this._mskArr.length;l++){var a=this._mskArr[l],u=a.literal;if(u&&u==e[o]&&o++,a.wildCard){if(u=s,e){for(var c=o;c<e.length;c++)if(this._isCharValid(a.wildCard,e[c])){switch(u=e[c],a.charCase){case">":u=u.toUpperCase();break;case"<":u=u.toLowerCase()}u!=s&&(this._matchEnd=r.length+1);break}o=c+1}u==s&&(this._full=!1)}r+=u}return r},n.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(e!=0&&t.length>1){for(var i=-1,r=this._tbx,o=r==Z()?r.selectionStart:r.value.length,s=Math.max(0,o-e);s<this._mskArr.length;s++)if(this._mskArr[s].vague){i=s;break}if(i>-1)if(e<0){var l=Array(1-e).join(this._promptChar),a=i+e;a>-1&&(t=t.substr(0,a)+l+t.substr(a))}else{for(;i>0&&this._mskArr[i-1].literal;)i--;t=t.substr(0,i)+t.substr(i+e)}}return t},n.prototype._isCharValid=function(t,e){if(e==this._promptChar)return!0;switch(t){case"0":return this._isDigit(e);case"9":return this._isDigit(e)||e==" ";case"#":return this._isDigit(e)||e==" "||e=="+"||e=="-";case"L":return this._isLetter(e);case"l":return this._isLetter(e)||e==" ";case"A":return this._isDigit(e)||this._isLetter(e);case"a":return this._isDigit(e)||this._isLetter(e)||e==" ";case"":return e>=""&&e<="";case"":case"":return!(t==""&&n._X_DBCS_BIG_HIRA.indexOf(e)>-1)&&e>=""&&e<="";case"":case"":return!(t==""&&n._X_DBCS_BIG_KATA.indexOf(e)>-1)&&e>=""&&e<="";case"":return!(e>=""&&e<="")&&(e<="!"||e>="");case"H":return e>="!"&&e<=""||e>=""&&e<="";case"K":case"N":return!(t=="N"&&n._X_SBCS_BIG_KATA.indexOf(e)>-1)&&e>=""&&e<=""}return!1},n.prototype._isDigit=function(t){return t>="0"&&t<="9"},n.prototype._isLetter=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},n.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(t==0||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;Z()==this._tbx&&J(this._tbx,t),this._backSpace=!1},n.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,i="|",r=0;e&&r<e.length;r++)switch(e[r]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"":case"":case"":case"":case"":case"":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new no(e[r],i));break;case".":case",":case":":case"/":case"$":switch(e[r]){case".":case",":t=oe.Globalize.numberFormat[e[r]];break;case":":case"/":t=oe.Globalize.calendar[e[r]];break;case"$":t=oe.Globalize.numberFormat.currency.symbol}for(var o=0;o<t.length;o++)this._mskArr.push(new no(t[o]));break;case"<":case">":case"|":i=e[r];break;case"\\":r<e.length-1&&r++,this._mskArr.push(new no(e[r]));break;default:this._mskArr.push(new no(e[r]))}for(r=0;r<this._mskArr.length;r++){var s=this._mskArr[r];if(s.literal)for(o=0;o<r;o++){var l=this._mskArr[o];if(l.wildCard&&this._isCharValid(l.wildCard,s.literal)){s.vague=!0;break}}}},n._X_DBCS_BIG_HIRA="",n._X_DBCS_BIG_KATA="",n._X_SBCS_BIG_KATA="",n}(),no=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t},xe;(function(n){n[n.None=0]="None",n[n.Sum=1]="Sum",n[n.Cnt=2]="Cnt",n[n.Avg=3]="Avg",n[n.Max=4]="Max",n[n.Min=5]="Min",n[n.Rng=6]="Rng",n[n.Std=7]="Std",n[n.Var=8]="Var",n[n.StdPop=9]="StdPop",n[n.VarPop=10]="VarPop",n[n.CntAll=11]="CntAll",n[n.First=12]="First",n[n.Last=13]="Last"})(xe||(xe={}));function Pl(n,t,e){var i=0,r=0,o=0,s=0,l=null,a=null,u=null,c=e?new st(e):null;if((n=ye(n,xe))==xe.CntAll)return t.length;for(var h=0;h<t.length;h++){var d=t[h];if(c&&(d=c.getValue(d)),d!=null){if(n==xe.First)return d;i++,(l==null||d<l)&&(l=d),(a==null||d>a)&&(a=d),u=d,ue(d)&&!isNaN(d)?(r++,o+=d,s+=d*d):Je(d)&&(r++,d==1&&(o++,s++))}}var f=r==0?0:o/r;switch(n){case xe.Avg:return f;case xe.Cnt:return i;case xe.Max:return a;case xe.Min:return l;case xe.Rng:return a-l;case xe.Sum:return o;case xe.VarPop:return r<=1?0:s/r-f*f;case xe.StdPop:return r<=1?0:Math.sqrt(s/r-f*f);case xe.Var:return r<=1?0:(s/r-f*f)*r/(r-1);case xe.Std:return r<=1?0:Math.sqrt((s/r-f*f)*r/(r-1));case xe.Last:return u}throw"Invalid aggregate type."}var Mo=function(n){kn(t,n);function t(){var e=this;return el?e.length=0:e=n.call(this)||this,e}return t}(Array),el=!0;try{Mo.prototype=Array.prototype,el=Mo.prototype===Array.prototype}catch{el=!1}var oa=typeof window<"u"?window.Symbol:null;!el&&oa&&oa.species&&Object.defineProperty(Mo,oa.species,{get:function(){return Array},enumerable:!1,configurable:!1});var qt=function(n){kn(t,n);function t(e){var i=n.call(this)||this;if(i._updating=0,i.collectionChanged=new P,e){e=gt(e),i._updating++;for(var r=0;r<e.length;r++)i.push(e[r]);i._updating--}return i}return t.prototype.push=function(){for(var e=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return i.forEach(function(o){n.prototype.push.call(e,o),e._raiseCollectionChanged(Oe.Add,o,e.length-1)}),this.length},t.prototype.shift=function(){var e=n.prototype.shift.call(this);return this._raiseCollectionChanged(Oe.Remove,e,0),e},t.prototype.unshift=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=n.prototype.unshift.apply(this,e);return e.length==1?this._raiseCollectionChanged(Oe.Add,e[0],0):this._raiseCollectionChanged(),r},t.prototype.pop=function(){var e=n.prototype.pop.call(this);return this._raiseCollectionChanged(Oe.Remove,e,this.length),e},t.prototype.splice=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s,l=Oe,a=this._raiseCollectionChanged.bind(this);return i&&r.length?(s=n.prototype.splice.apply(this,[e,i].concat(r)),i==1&&r.length==1?a(l.Change,r[0],e):a()):r.length?(s=n.prototype.splice.apply(this,[e,0].concat(r)),r.length==1?a(l.Add,r[0],e):a()):(s=n.prototype.splice.call(this,e,i),i==1?a(l.Remove,s[0],e):a()),s},t.prototype.slice=function(e,i){return n.prototype.slice.call(this,e,i)},t.prototype.indexOf=function(e,i){return n.prototype.indexOf.call(this,e,i)},t.prototype.sort=function(e){var i=n.prototype.sort.call(this,e);return this._raiseCollectionChanged(),i},t.prototype.insert=function(e,i){this.splice(e,0,i)},t.prototype.remove=function(e){var i=this.indexOf(e);return i>-1&&this.removeAt(i),i>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,i){e>=this.length&&(this.length=e+1),this.splice(e,1,i)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return e=="INotifyCollectionChanged"},t.prototype.onCollectionChanged=function(e){e===void 0&&(e=Jt.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,i,r){if(e===void 0&&(e=Oe.Reset),!this.isUpdating){var o=new Jt(e,i,r);this.onCollectionChanged(o)}},t}(Mo),Tn;(function(n){n[n.Natural=0]="Natural",n[n.First=1]="First",n[n.Last=2]="Last"})(Tn||(Tn={}));var sa=2,rn=function(){function n(t,e){var i=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new qt,this._srtDsc=new qt,this._grpDesc=new qt,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=Tn.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new qt,this._chgRemoved=new qt,this._chgEdited=new qt,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new P,this.sourceCollectionChanging=new P,this.sourceCollectionChanged=new P,this.currentChanged=new P,this.currentChanging=new P,this.pageChanged=new P,this.pageChanging=new P,this._srtDsc.collectionChanged.addHandler(function(){i._srtDsc.forEach(function(r){B(r instanceof Oi,"sortDescriptions array must contain SortDescription objects.")}),i.canSort&&i._commitAndRefresh()}),this._grpDesc.collectionChanged.addHandler(function(){i._grpDesc.forEach(function(r){B(r instanceof fc,"groupDescriptions array must contain GroupDescription objects.")}),i.canGroup&&i._commitAndRefresh()}),this._filters.collectionChanged.addHandler(function(){i._filters.forEach(function(r){B(ee(r),"filters array must contain IPredicate functions.")}),i.canFilter&&i._commitAndRefresh()}),this.sourceCollection=t||new qt,e&&(this._initializing=!0,this.deferUpdate(function(){xi(i,e)}),this._initializing=!1),this._keepCurrentItem==null&&(this._keepCurrentItem=!0)}return n.prototype._copy=function(t,e){switch(t){case"sortDescriptions":var i=this.sortDescriptions;return i.deferUpdate(function(){i.clear(),gt(e).forEach(function(o){Q(o)?o=new Oi(o,!0):o instanceof Oi||!o.property||(o=new Oi(o.property,o.ascending)),i.push(o)})}),!0;case"groupDescriptions":var r=this.groupDescriptions;return r.deferUpdate(function(){r.clear(),e.forEach(function(o){Q(o)&&(o=new ou(o)),r.push(o)})}),!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(n.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(t){if(t&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),t=null),t!=this._calcFields){this._calcFields=t;var e=this._srcRaw;this._srcRaw=null,this.sourceCollection=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=ke(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=ke(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=ke(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=k(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(t){(t=ye(t,Tn))!=this._srtNulls&&(this._srtNulls=t,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=Tn.Last},set:function(t){Cl("sortNullsFirst","sortNulls"),this.sortNulls=k(t)?Tn.First:Tn.Last},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,i){return Pl(t,i?this._pgView:this._view,e)},Object.defineProperty(n.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),n.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},n.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(n.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=ke(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),n.prototype.onCollectionChanged=function(t){t===void 0&&(t=Jt.reset),t.action!=Oe.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this._updating||this.collectionChanged.raise(this,t)},n.prototype._raiseCollectionChanged=function(t,e,i){t===void 0&&(t=Oe.Reset);var r=new Jt(t,e,i);this.onCollectionChanged(r)},n.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},n.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(n.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(j(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=ke(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._srcRaw){if(!this.onSourceCollectionChanging(new we))return;var e=this.currentPosition;this.commitEdit(),this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=t,this._src=gt(t,!1),this._calcFields&&(this._src=Dp(this._src,this._calcFields)),this._ncc=Gt(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),n.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},n.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},n.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},n.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},n.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},n.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},n.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},n.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new we;if(this.onCurrentChanging(e)){var i=this._pgView[t],r=Tp(i),o=this._edtItem,s=this._newItem;o&&o!=i&&o!=r?this.commitEdit():s&&s!=i&&s!=r&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},n.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var t=this.currentItem;this._performRefresh(),this.onCollectionChanged(),t==this.currentItem||this._initializing||this.onCurrentChanged()}},n.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},n.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=ce(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem&&t!=null?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups)}},n.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(o,s){return{item:o,index:s}}),i=this._compareItems();e.sort(function(o,s){var l=i(o.item,s.item);return l==0?o.index-s.index:l});for(var r=0;r<t.length;r++)t[r]=e[r].item}else t.sort(this._compareItems())},n.prototype._compareItems=function(){var t=this,e=this._srtDsc,i=this._srtCvt,r=this._srtCmp,o=n._collator,s=!0,l=0;return function(a,u){for(var c=0;c<e.length;c++){var h=e[c],d=h._bnd.getValue(a),f=h._bnd.getValue(u);if(i&&(d=i(h,a,d,s),f=i(h,u,f,!1),s=!1),r&&(l=r(d,f))!=null){if(l!=0)return h.ascending?+l:-l}else{if(d!=d&&(d=null),f!=f&&(f=null),d!==f&&(d==null||f==null))switch(t._srtNulls){case Tn.First:return d==null?-1:1;case Tn.Last:return d==null?1:-1;default:return l=d==null?-1:1,h.ascending?+l:-l}if(typeof d=="string"&&typeof f=="string"){if(o){if((l=o.compare(d,f))!=0)return h.ascending?+l:-l;continue}var p=d.toLowerCase(),_=f.toLowerCase();p!=_&&(d=p,f=_)}if((l=d<f?-1:d>f?1:0)!=0)return h.ascending?+l:-l}}return 0}},n.prototype._performFilter=function(t){return this.canFilter&&this._filter||this._filters.length?t.filter(this._filterItem,this):t},n.prototype._filterItem=function(t){for(var e=!this.canFilter||!this._filter||this._filter(t),i=0;i<this._filters.length&&e;i++)e=this._filters[i](t);return e},n.prototype.onCurrentChanged=function(t){this.currentChanged.raise(this,t)},n.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(n.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),n.prototype.beginUpdate=function(){this._updating++},n.prototype.endUpdate=function(t){t===void 0&&(t=!0),this._updating--,t&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),n.prototype.deferUpdate=function(t,e){e===void 0&&(e=!0);try{this.beginUpdate(),t()}finally{this.endUpdate(e)}},Object.defineProperty(n.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){t!=this._canAddNew&&(this._canAddNew=k(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),n.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone=this._extend({},this._edtItem))},n.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(t!=null){this._committing=!0;var i=this._getChangedFields(t,e),r=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var o=this._pgView.indexOf(t),s=this._digest;if(this._needRefresh(i)&&this._refreshOnEdit&&this._performRefresh(),i&&this._trackItemChanged(t,e),this._pgView.indexOf(t)!=o||s!=this._digest||r?this._raiseCollectionChanged():this._raiseCollectionChanged(Oe.Change,t,o),this.commitNew(),this._committing=!1,this.sourceCollection instanceof qt){this._updating++;var l=new Jt(Oe.Change,t);this.sourceCollection.onCollectionChanged(l),this._updating--}}},n.prototype.cancelEdit=function(){var t=this._edtItem;if(t!=null){if(this._edtItem=null,!this.canCancelEdit)return;var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Oe.Change,t,e),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},n.prototype.addNew=function(t,e){if(e===void 0&&(e=!1),this.commitEdit(),!this.canAddNew)return null;var i=this.sourceCollection;if(t==null&&(t=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{}),t!=null){if(this._updating++,i.push(t),this._updating--,t=i[i.length-1],this._newItem=t,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var r=this.groups[this.groups.length-1];for(r.items.push(t);r.groups&&r.groups.length;)(r=r.groups[r.groups.length-1]).items.push(t)}this._raiseCollectionChanged(Oe.Add,t,this._pgView.length-1),this.moveCurrentTo(t),e&&this.commitNew()}return this._newItem},n.prototype.commitNew=function(){var t=this._newItem;if(t!=null){this._newItem=null;var e=this._pgView.indexOf(t),i=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var r=this._chgEdited.indexOf(t);r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)!=e||i!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(Oe.Change,t,e)}},n.prototype.cancelNew=function(){var t=this._newItem;t!=null&&this.remove(t)},n.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var i=this._src.indexOf(t);if(i>-1){var r=this._view.indexOf(t)<0,o=this.currentItem;this._updating++,this._src.splice(i,1),this._updating--;var s=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var l=this._pgView.indexOf(t);l>=0&&this._pgView.splice(l,1)}if(this._trackChanges){var a=this._chgAdded.indexOf(t);a>-1&&this._chgAdded.removeAt(a);var u=this._chgEdited.indexOf(t);u>-1&&this._chgEdited.removeAt(u),this._chgRemoved.indexOf(t)<0&&!e&&a<0&&this._chgRemoved.push(t)}var c=this.sortDescriptions.length>0,h=this.pageSize>0&&this._pgIdx>-1;c||h||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():r||this._raiseCollectionChanged(Oe.Remove,t,i),this.currentItem!==o&&this.onCurrentChanged()}}},n.prototype.removeAt=function(t){t=Ee(t),this.remove(this._pgView[t])},n.prototype._trackItemChanged=function(t,e){if(this._trackChanges){var i=this.sourceCollection;if(i&&i.indexOf(t)>-1){var r=this._orgVals,o=r?r.get(t):null;e&&!o&&r&&(r.set(t,e),o=e);var s=this._chgEdited.indexOf(t),l=Oe.Change;if(o&&this._sameContent(t,o)&&s>-1){this._chgEdited.removeAt(s),r.delete(t);return}if(s<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(s>-1){var a=new Jt(l,t,s);this._chgEdited.onCollectionChanged(a)}else(s=this._chgAdded.indexOf(t))>-1&&(a=new Jt(l,t,s),this._chgAdded.onCollectionChanged(a))}}},n.prototype._extend=function(t,e,i){i===void 0&&(i=sa);for(var r in e)try{var o=e[r];i>0&&rt(o)?(t[r]={},this._extend(t[r],o,i-1)):t[r]=o}catch{}return t},n.prototype._getChangedFields=function(t,e,i){i===void 0&&(i=sa),B(e!=null&&t!=null,"Two objects expected.");var r={};for(var o in e)try{this._sameValue(t[o],e[o],i)||(r[o]=!0)}catch{}for(var o in t)try{r[o]||this._sameValue(t[o],e[o],i)||(r[o]=!0)}catch{}var s=Object.keys(r);return s.length?s:null},n.prototype._sameValue=function(t,e,i){return i===void 0&&(i=sa),!(t!==e&&!W.equals(t,e))||!(!rt(t)||!rt(e))&&(!(i>0)||this._getChangedFields(t,e,i-1)==null)},n.prototype._sameContent=function(t,e){return this._getChangedFields(t,e)==null},n.prototype._needRefresh=function(t){if(this._pendingRefresh)return!0;if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++){var i=this._getBindingRoot(this._srtDsc[e].property);if(t.indexOf(i)>-1)return!0}for(e=0;e<this._grpDesc.length;e++){var r=this._grpDesc[e];if(!(r instanceof ou)||(i=this._getBindingRoot(r.propertyName),t.indexOf(i)>-1))return!0}return!1},n.prototype._getBindingRoot=function(t){var e=t.indexOf(".");return e>-1?t.substr(0,e):t},Object.defineProperty(n.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=Ee(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),n.prototype.moveToFirstPage=function(){return this.moveToPage(0)},n.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},n.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},n.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},n.prototype.moveToPage=function(t){var e=ce(t,0,this.pageCount-1);if(e!=this._pgIdx){if(!this.canChangePage)return!1;var i=new Mp(e);if(this.onPageChanging(i)&&this.onCurrentChanging(i)){this.commitEdit(),this.commitNew();var r=this.currentItem;this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():(this.onCollectionChanged(),r!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==t},n.prototype.onPageChanged=function(t){this.pageChanged.raise(this,t)},n.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},n.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return e!=null&&(t=e),t},n.prototype._getGroupByPath=function(t,e,i){if(t)for(var r=0;r<t.length;r++){var o=t[r];if(o.level==e&&o._path==i||o.level<e&&i.indexOf(o._path)==0&&(o=this._getGroupByPath(o.groups,e,i))!=null)return o}return null},n.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},n.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var i=[],r={},o=null;return t.forEach(function(s){for(var l=i,a=e._grpDesc.length,u="",c=0;c<a;c++){var h=e._grpDesc[c],d=h.groupNameFromItem(s,c),f=c==a-1;!(o=r[u])&&Tr(d)&&(o={},r[u]=o);var p=e._getGroup(h,l,o,d,c,f);u+="/"+d,p._path=u,f&&p.items.push(s),l=p.groups}}),i},n.prototype._getGroupsDigest=function(t){for(var e="",i=0;t!=null&&i<t.length;i++){var r=t[i];e+="{"+r.name+":"+(r.items?r.items.length:"*"),r.groups.length>0&&(e+=",",e+=this._getGroupsDigest(r.groups)),e+="}"}return e},n.prototype._mergeGroupItems=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];if(!r._isBottomLevel)for(var o=this._mergeGroupItems(r.groups),s=0,l=o.length;s<l;s++)r._items.push(o[s]);for(s=0,l=r._items.length;s<l;s++)e.push(r._items[s])}return e},n.prototype._getGroup=function(t,e,i,r,o,s){var l;if(i&&Tr(r)){if(l=i[r])return l}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,r))return e[a];var u=new vn(t,r,o,s);return e.push(u),i&&(i[r]=u),u},n._collator=typeof window<"u"&&window.Intl&&Intl.Collator?new Intl.Collator:null,n}(),vn=function(){function n(t,e,i,r){this._gd=t,this._name=e,this._level=i,this._isBottomLevel=r,this._groups=[],this._items=[]}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,i){var r=Gt(i,rn);return Pl(t,(r?r._getFullGroup(this):this).items,e)},n}(),vc=typeof window<"u"&&window["wj-control-is-element"]?HTMLElement:Object,au=!1;try{var Wh=function(){};Wh.prototype=Array.prototype,au=Wh.prototype!==Array.prototype}catch{au=!0}var gv=au||vc!==Object,Np=function(n){kn(t,n);function t(){var e=this;return gv&&(e=n.call(this)||this),e}return t}(vc),M=function(n){kn(t,n);function t(e,i,r){r===void 0&&(r=!1);var o=n.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new P,o.lostFocus=new P,o.invalidInput=new P,o.refreshing=new P,o.refreshed=new P,o._updateWme(),B(t.getControl(e)==null,"Element is already hosting a control.");var s=Un(e);B(s!=null,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgInner=s.innerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,s.tagName!="INPUT"&&s.tagName!="SELECT"||(s=o._replaceWithDiv(s)),o._e=s,s[t._CTRL_KEY]=o;var l=o.addEventListener.bind(o);if(r==1){o._szCtl=new $t(s.offsetWidth,s.offsetHeight);var a=window.ResizeObserver,u=null;a&&(u=o._szObserver=new a(function(d){return o._resizeObserverCallback(d)})),u?u.observe(s):l(window,"resize",o._handleResize.bind(o))}var c=o._handleFocusBlur.bind(o);l(s,"focus",c,!0),l(s,"blur",c,!0);var h=o._handleDisabled.bind(o);return l(s,"mousedown",h,!0),l(s,"mouseup",h,!0),l(s,"click",h,!0),l(s,"dblclick",h,!0),l(s,"wheel",h,Qs(!0,!0)),l(s,"keydown",function(d){o.isDisabled&&d.keyCode!=x.Tab&&d.preventDefault()}),t._ctlCnt==0&&Kh(!0),t._ctlCnt++,o}return t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var i=e.constructor.controlTemplate;if(i)return i}return null},t.prototype.applyTemplate=function(e,i,r,o){var s=this,l=this._e;e&&ie(l,e);var a=null;i&&(a=_e(i,l));for(var u=l.querySelectorAll("a.wj-btn"),c=0;c<u.length;c++){var h=u[c];A(h,"role","button",!0),A(h,"href","",!0),A(h,"draggable",!1,!0)}var d=l.querySelectorAll("button");for(c=0;c<d.length;c++)A(d[c],"type","button",!0);var f=l.querySelectorAll("input"),p=f.length==1?f[0]:null;if(p){var _=t._rxInputAtts;this._copyAttributes(p,l.attributes,_),this._copyAttributes(p,this._orgAtts,_)}if(p&&l.id){for(var w=l;w.parentElement;)w=w.parentElement;var m=w.querySelector('label[for="'+l.id+'"]');if(m instanceof HTMLLabelElement){var g=gc(l.id+"_input");p.id=g,m.htmlFor=g}}if(p){var v=p.value,y=!0,b=!1,E=document.createEvent("HTMLEvents");E.initEvent("change",!0,!1),this.gotFocus.addHandler(function(){y=!1,b=!0,v=p.value}),this.addEventListener(l,"focusin",function(R){y&&(b=!0,y=!1,v=p.value)}),this.addEventListener(p,"input",function(){s._pristine=!1,setTimeout(function(){v=p.value})}),this.addEventListener(p,"change",function(R){R.isTrusted&&(v=p.value)});var C=function(){s._containsFocus()||(y=!0,s._pristine&&(s._pristine=!1,s._updateState()),b&&v!=p.value&&(v=p.value,p.dispatchEvent(E)),b=!1)};this.addEventListener(l,"blur",function(){C()}),this.lostFocus.addHandler(function(){C()})}if(p?l.tabIndex=-1:l.getAttribute("tabindex")||(l.tabIndex=0),this._updateState(),r)for(var S in r){var O=r[S];if(this[S]=a.querySelector('[wj-part="'+O+'"]'),this[S]==null&&a.getAttribute("wj-part")==O&&(this[S]=a),this[S]==null)throw'Missing template part: "'+O+'"';if(O==o){var I="name",N=l.attributes[I];N&&N.value&&this[S].setAttribute(I,N.value),I="accesskey",(N=l.attributes[I])&&N.value&&(this[S].setAttribute(I,N.value),l.removeAttribute(I))}}return a},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),i=0;i<e.length;i++){var r=t.getControl(e[i]);r&&r.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var o=this._szObserver;o&&o.disconnect(),this.removeEventListener();for(var s in this)s.length>2&&s.indexOf("on")==0&&(a=this[s[2].toLowerCase()+s.substr(3)])instanceof P&&a.removeAllHandlers();var l=this.collectionView;if(l instanceof rn)for(var s in l){var a;(a=l[s])instanceof P&&a.removeHandler(null,this)}this._e.parentNode&&(this._orgOuter!=null&&(this._e.outerHTML=this._orgOuter),this._e.innerHTML=this._orgInner),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,t._ctlCnt--,t._ctlCnt==0&&Kh(!1),t._ctlInvalidInput===this&&(t._toInvalidInput&&(clearTimeout(t._toInvalidInput),t._toInvalidInput=null),t._toClearCtlInvalid&&(clearTimeout(t._toClearCtlInvalid),t._toClearCtlInvalid=null),t._ctlInvalidInput=null)}},t.getControl=function(e){var i=Un(e);return i?Le(i[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return this._rtlDir==null&&(this._rtlDir=!!this._e&&getComputedStyle(this._e).direction=="rtl"),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&e.offsetHeight&&(this.isDisabled||!(e.tabIndex>=0)&&fo(e,0)||e.focus())},t.prototype.containsFocus=function(){return this._containsFocusImpl(Z())},t.prototype._containsFocus=function(){return this._containsFocusImpl(Hp())},t.prototype._containsFocusImpl=function(e){return q(this._e,e,!0)},t.prototype.invalidate=function(e){var i=this;e===void 0&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate),i._toInv=null},t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var i=this;this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout(function(){i.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var i=e.children;if(i)for(var r=0;r<i.length;r++)t.invalidateAll(i[r]);var o=t.getControl(e);o&&o.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var i=0;i<e.children.length;i++)t.refreshAll(e.children[i]);var r=t.getControl(e);r&&r.refresh()},t.disposeAll=function(e){var i=t.getControl(e);if(i)i.dispose();else if(e.children)for(var r=0;r<e.children.length;r++)t.disposeAll(e.children[r])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabOrder",{get:function(){return this._orgTabIndex},set:function(e){this._setTabOrder(e)},enumerable:!0,configurable:!0}),t.prototype._setTabOrder=function(e){var i=this._e;this._orgTabIndex=e;var r=i.querySelectorAll("input"),o=r.length===1?r[0]:null;i.tabIndex=this.isDisabled||o?-1:this._orgTabIndex,o&&(o.tabIndex=this._orgTabIndex)},Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute("disabled")!=null},set:function(e){this._setIsDisabled(e)},enumerable:!0,configurable:!0}),t.prototype._setIsDisabled=function(e){if((e=!!k(e,!0))!=this.isDisabled){var i=this._e;if(i){te(i,"wj-state-disabled",e),A(i,"disabled",e?"disabled":null),i.tabIndex=this.isDisabled||i.querySelectorAll("input").length===1?-1:this._orgTabIndex;for(var r=i.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),o=t._DSBL_KEY,s=0;s<r.length;s++){var l=r[s];if(e)l[o]=l.disabled,l.disabled=!0;else if(K(l,".wj-control.wj-state-disabled"))l[o]=l.disabled,l.disabled=!0;else{var a=l[o];Je(a)||(a=!1),l.disabled=a,delete l[o]}}}}},t.prototype.initialize=function(e){xi(this,e)},t.prototype.addEventListener=function(e,i,r,o,s){if(e){o==null&&(o=!1),Je(o)&&s==null&&(i.indexOf("touch")>-1||i.indexOf("wheel")>-1)&&(s=!1);var l=Je(o)&&Je(s)?Qs(o,s):o;e.addEventListener(i,r,l),this._listeners.push({target:e,type:i,fn:r,capture:o})}},t.prototype.removeEventListener=function(e,i,r,o){for(var s=0,l=0;l<this._listeners.length;l++){var a=this._listeners[l];e!=null&&e!=a.target||i!=null&&i!=a.type||r!=null&&r!=a.fn||o!=null&&o!=a.capture||(a.target.removeEventListener(a.type,a.fn,a.capture),this._listeners.splice(l,1),l--,s++)}return s},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){var i=this;if(this.invalidInput.raise(this,e),e.cancel){var r=t._FOCUS_INTERVAL+50;(t._ctlInvalidInput==null||t._ctlInvalidInput===this)&&(t._ctlInvalidInput=this,t._toInvalidInput&&clearTimeout(t._toInvalidInput),t._toClearCtlInvalid&&clearTimeout(t._toClearCtlInvalid),t._toInvalidInput=setTimeout(function(){t._toInvalidInput=null,i.focus(),t._toClearCtlInvalid=setTimeout(function(){t._ctlInvalidInput=null,t._toClearCtlInvalid=null},r)},r))}else t._ctlInvalidInput=null;return this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._updateWme=function(){var e=this._getProductInfo(),i=t._toWme,r=Vp;ee(r)&&!i[e]&&(i[e]=!0,r(this,t._licKey))},t.prototype._hasPendingUpdates=function(){return this._toInv!=null},t.prototype._handleResize=function(){if(this._e.parentElement){var e=new $t(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._resizeObserverCallback=function(e){e.forEach(function(i){var r=t.getControl(i.target);r&&r._handleResize()})},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout(function(){e._toFocus=null,e._updateFocusState()},t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){setTimeout(function(){for(var e=Ci.empty,i=document.body.querySelectorAll(".wj-state-focused"),r=0;r<i.length;r++)(a=t.getControl(i[r]))&&a._focus&&!a.containsFocus()&&(kt(a._e,"wj-state-focus"),a._focus=!1,a._updateState(),a.onLostFocus(e));var o=Z();if(o)for(var s=!0,l=o;l;){var a;(a=t.getControl(l))&&!a._focus&&a.containsFocus()&&(s&&(ie(l,"wj-state-focus"),s=!1),a._focus=!0,a._updateState(),a.onGotFocus(e)),l=l[t._OWNR_KEY]||l.parentNode}})},t.prototype._updateState=function(){var e=this.hostElement;if(e){te(e,"wj-state-focused",this._focus),this._rtlDir=getComputedStyle(e).direction=="rtl",te(e,"wj-rtl",this._rtlDir);var i=e.querySelector("input");if(i instanceof HTMLInputElement){te(e,"wj-state-empty",i.value.length==0),te(e,"wj-state-readonly",i.readOnly);var r=i.validationMessage;te(e,"wj-state-invalid",!this._pristine&&r!=null&&r.length>0)}}},t.prototype._handleDisabled=function(e){(this.isDisabled||K(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var i=document.createElement("div");return e.parentElement.replaceChild(i,e),i.innerHTML=e.innerHTML,this._copyAttributes(i,e.attributes,/id|style|class/i),i},t.prototype._copyAttributes=function(e,i,r){if(e)for(var o=0;o<i.length;o++){var s=i[o].name;s.match(r)&&e.setAttribute(s,i[o].value)}},t.prototype._getKeyCode=function(e){var i=e.keyCode;if(this.rightToLeft)switch(i){case x.Right:i=x.Left;break;case x.Left:i=x.Right}return i},t._toWme={},t._ctlCnt=0,t._touching=!1,t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._DSBL_KEY="$WJ-DSBL",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(Np);function Kh(n){if("ontouchstart"in window||"onpointerdown"in window){var t=document,e=Qs(!0,!0),i=_v,r=mv,o=n?t.addEventListener.bind(t):t.removeEventListener.bind(t);"ontouchstart"in window?(o("touchstart",i,e),o("touchend",r,e),o("touchcancel",r,e)):"onpointerdown"in window&&(o("pointerdown",i,e),o("pointerup",r,e),o("pointercancel",r,e))}}function _v(n){(n.pointerType==null||n.pointerType=="touch")&&(M._toTouch&&(clearTimeout(M._toTouch),M._toTouch=null),M._touching=!0)}function mv(n){if((n.pointerType==null||n.pointerType=="touch")&&(M._toTouch=setTimeout(function(){M._toTouch=null,M._touching=!1},900),document.querySelector("ion-app"))){var t=n.target;K(t,".wj-dropdown-panel,.wj-dropdown")&&(t.focus(),n.stopPropagation(),n.stopImmediatePropagation())}}var vv=function(){function n(t){this._title=null,this._copyCss=!0,t!=null&&xi(this,t)}return Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){this._title=L(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=k(t)},enumerable:!0,configurable:!0}),n.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},n.prototype.append=function(t){var e=this._getDocument();if(Q(t))e.write(t);else if(t instanceof Element){t instanceof HTMLElement&&M.refreshAll(t);for(var i=t.cloneNode(!0),r=i.querySelectorAll("input"),o=0;o<r.length;o++){var s=r[o];switch(s.type){case"checkbox":A(s,"checked",!!s.checked||null),A(s,"indeterminate",!!s.indeterminate||null);break;case"radio":A(s,"checked",!!s.checked||null);break;default:A(s,"value",s.value||null)}}e.write(i.outerHTML)}else B(!1,"content should be an HTML string or an Element.")},n.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout(function(){var i=e._iframe.contentWindow,r="onafterprint"in i&&!Gi();r&&(i.onafterprint=function(){e._afterPrint(t)}),!(ge()&&i.document.body==null)&&document.queryCommandSupported("print")?i.document.execCommand("print",!0,null):(i.focus(),i.print()),r||e._afterPrint(t)},100))},n.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,ee(t)&&t()},n.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");ie(t,"wj-printdocument"),H(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},n.prototype._close=function(){var t=this,e=this._getDocument();if(e.close(),e.title=this.title!=null?this.title:document.title,e.title&&e.title.trim()||(e.title=""),this._copyCss&&[document.head,document.body].forEach(function(s){for(var l=s.querySelectorAll("LINK"),a=0;a<l.length;a++){var u=l[a];if(u.rel.match(/stylesheet/i)&&(!u.type||u.type.match(/text\/css/i))){var c=lu(u.href,{async:!1});t._addStyle(c.responseText)}}var h=s.querySelectorAll("STYLE");for(a=0;a<h.length;a++)t._addStyle(h[a].textContent)}),this._css)for(var i=0;i<this._css.length;i++){var r=e.createElement("style"),o=lu(this._css[i],{async:!1});r.textContent=o.responseText,e.head.appendChild(r)}},n.prototype._addStyle=function(t){var e=this._getDocument(),i=e.createElement("style");i.textContent=t,e.head.appendChild(i)},n}(),uu=function(){function n(){}return n.copy=function(t){n._copyPaste(L(t),null)},n.paste=function(t){t=ke(t),n._copyPaste(null,t)},n._copyPaste=function(t,e){for(var i=Z(),r=K(i,".wj-control");r&&M.getControl(r);)r=r.parentElement;if(r=r||document.body){var o=!1,s=_e('<textarea class="wj-clipboard">',r,{position:"fixed",opacity:"0"});s.onkeydown=function(l){return l.preventDefault()},s.onchange=function(l){return l.stopImmediatePropagation()},Q(t)?(s.value=t,s.select(),document.execCommand("copy")&&(o=!0)):(s.select(),ee(e)&&document.execCommand("paste")&&(e(s.value),o=!0)),setTimeout(function(){i.focus({preventScroll:!0}),(ge()?setTimeout:function(l,a){return l()})(function(){return De(s)},500),!o&&ee(e)&&e(s.value)},M._CLIPBOARD_DELAY)}},n}(),Wi=function(){function n(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(n.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=Le(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=k(t)},enumerable:!0,configurable:!0}),n.prototype._connect=function(t){var e=this;this._e&&n._startEvents.forEach(function(i){t?e._e.addEventListener(i,e._mousedownBnd):e._e.removeEventListener(i,e._mousedownBnd)})},n.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},n.prototype._mousedown=function(t){var e=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,n._stopEvents.forEach(function(i){document.addEventListener(i,e._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){e._isDown&&(e._click(),e._toRepeat=setTimeout(e._clickBnd,M._CLICK_REPEAT))},M._CLICK_DELAY))},n.prototype._mouseup=function(t){var e=this;this._isDown&&t&&t.type!="keydown"&&this._clicked&&t.preventDefault(),n._stopEvents.forEach(function(i){document.removeEventListener(i,e._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},n.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,M._CLICK_REPEAT)))},n._startEvents=["mousedown","touchstart"],n._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],n}(),on;(function(n){n[n.Above=0]="Above",n[n.AboveRight=1]="AboveRight",n[n.RightTop=2]="RightTop",n[n.Right=3]="Right",n[n.RightBottom=4]="RightBottom",n[n.BelowRight=5]="BelowRight",n[n.Below=6]="Below",n[n.BelowLeft=7]="BelowLeft",n[n.LeftBottom=8]="LeftBottom",n[n.Left=9]="Left",n[n.LeftTop=10]="LeftTop",n[n.AboveLeft=11]="AboveLeft"})(on||(on={}));function Pn(n,t,e,i,r,o){r===void 0&&(r=!0);var s=n.offsetHeight||n.offsetWidth,l=e;(Je(e)||e==null)&&(l=e?on.AboveLeft:on.BelowLeft);var a=wv(t);if(bv(n,a),xv(n,t,r),M.refreshAll(n),Gi()?requestAnimationFrame(function(){Yh(n,t,l)}):Yh(n,t,l),t instanceof HTMLElement&&(n[M._OWNR_KEY]=t),!s){if(Ev(n,t,o),i)return mc(function(u){return n.style.opacity=u<1?u.toString():""});n.style.opacity=""}return null}function Zt(n,t,e){t===void 0&&(t=!0),e===void 0&&(e=!1);var i=null;return e?i=mc(function(r){n.style.opacity=(1-r).toString(),r==1&&(cu(n,t),n.style.opacity="")}):cu(n,t),i}function Yh(n,t,e){var i=kv(n,t),r=Cv(n),o=Sv(n,i,e,r),s={position:"absolute",zIndex:M._POPUP_ZINDEX},l=r.x==0;l?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var a=n.getBoundingClientRect().width;if(H(n,s),l){var u=a-n.getBoundingClientRect().width;u>0&&(n.style.left=o.x-Math.ceil(u)+"px")}}function cu(n,t){n.style.display="none",t&&n.parentElement&&setTimeout(function(){n.style.display=="none"&&(De(n),ee(t)&&t())},M._FOCUS_INTERVAL+50);var e=n[M._SCRL_KEY];e instanceof M&&e.dispose(),delete n[M._SCRL_KEY],delete n[M._OWNR_KEY]}function yv(n){var t=window.jQuery,e=ee(t)?t(n):null;return e&&ee(e.dialog)&&de(n,"ui-dialog")}function wv(n){var t=document.body;if(n instanceof HTMLElement){if(!q(document.body,n))return t;for(var e=n;e;e=e.parentElement){if(e.tagName=="DIALOG"||e.tagName=="ION-CONTENT"||getComputedStyle(e).position=="fixed"){t=e;break}if(yv(e)){t=e.querySelector(".ui-dialog-content")||e;break}}}return t}function bv(n,t){(!n.offsetHeight||!n.offsetWidth||n.parentElement!=t)&&(H(n,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(n))}function Cv(n){var t=document.body,e=document.documentElement,i=n.parentElement,r=new bt(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(i!=t){var o=i==t?e:n.offsetParent||i;if(o==t&&(o=i),o){var s=o.getBoundingClientRect();r=new bt(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(i instanceof HTMLElement){var l=getComputedStyle(i);r.x-=parseFloat(l.borderLeftWidth),r.y-=parseFloat(l.borderTopWidth)}return r}function xv(n,t,e){if(t instanceof HTMLElement&&e){var i=e instanceof HTMLElement?e:t,r=getComputedStyle(i);new mt(r.backgroundColor).a==1&&H(n,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}function Ev(n,t,e){var i=t instanceof MouseEvent?t.target:t;if(i instanceof HTMLElement&&i.parentElement!=document.body){var r=Date.now(),o=i.getBoundingClientRect(),s=new M(document.createElement("div"));n[M._SCRL_KEY]=s,s.addEventListener(document,"scroll",function(l){if(l.target!=n.parentElement&&Date.now()-r>100&&q(document,i)&&!q(n,l.target)&&(l.target!=document||t!=null&&n.style.position=="fixed")){var a=i.getBoundingClientRect(),u=Math.abs(a.left-o.left),c=Math.abs(a.top-o.top);(u>1||c>1)&&(ee(e)&&e(),cu(n,!0),s.dispose())}},!0)}}function Sv(n,t,e,i){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,l=on;switch(e){case l.AboveLeft:case l.AboveRight:case l.BelowLeft:case l.BelowRight:if(t){var a=t.width;a&&(ge()&&(a-=n.offsetWidth-n.clientWidth),n.style.minWidth=a+"px")}}var u=getComputedStyle(n),c=parseFloat(u.marginTop)+parseFloat(u.marginBottom),h=parseFloat(u.marginLeft)+parseFloat(u.marginRight),d=new $t(n.offsetWidth+h,n.offsetHeight+c),f=new bt((o-d.width)/2,Math.round((s-d.height)/2*.7));if(t){u.direction=="rtl"&&(e=Pv(e));var p=t.left,_=o-t.right;switch(f.x=t.left,e){case l.Above:case l.Below:f.x=t.left+(t.width-d.width)/2;break;case l.AboveLeft:case l.BelowLeft:f.x=t.left;break;case l.AboveRight:case l.BelowRight:f.x=t.right-d.width;break;case l.Left:case l.LeftTop:case l.LeftBottom:f.x=p>=d.width||p>=_?t.left-d.width:t.right;break;case l.RightTop:case l.RightBottom:case l.Right:f.x=_>=d.width||_>=p?t.right:t.left-d.width}var w=t.top,m=s-t.bottom;switch(e){case l.Above:case l.AboveLeft:case l.AboveRight:f.y=w>d.height||w>m?t.top-d.height:t.bottom;break;case l.Below:case l.BelowLeft:case l.BelowRight:f.y=m>d.height||m>w?t.bottom:t.top-d.height;break;case l.LeftTop:case l.RightTop:f.y=t.top;break;case l.LeftBottom:case l.RightBottom:f.y=t.bottom-d.height;break;case l.Left:case l.Right:f.y=t.bottom-d.height+(d.height-t.height)/2}}return f.x=Math.min(f.x,o-d.width),f.y=Math.min(f.y,s-d.height),f.x=Math.max(0,f.x)+i.x,f.y=Math.max(0,f.y)+i.y,f}function Pv(n){var t=on;switch(n){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return n}function kv(n,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?yt.fromBoundingRect(t.target.getBoundingClientRect()):new yt(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof bt?new yt(t.x,t.y,0,0):t instanceof HTMLElement?yt.fromBoundingRect(t.getBoundingClientRect()):t&&t.top!=null&&t.left!=null?t:null}var tl=function(){function n(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=on.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new P,xi(this,t)}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){this._position=ye(t,on)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=k(t)},enumerable:!0,configurable:!0}),n.prototype.setTooltip=function(t,e,i){t=Un(t),e=this._getContent(e);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1)),e&&(this._attach(t),this._tips.push({element:t,content:e,position:i}));var o=n._eTip;o&&o[M._TTIP_KEY]==t&&(e?this._setContent(e):this._hideAutoTip())},n.prototype.getTooltip=function(t){t=Un(t);for(var e=this._tips,i=0;i<e.length;i++)if(e[i].element==t)return e[i].content;return null},n.prototype.show=function(t,e,i,r){if(t=Un(t),e=this._getContent(e),t){r==null&&(r=this.position);var o=n._eTip;o||(ie(o=n._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),ie(o,this.cssClass),this._setContent(e),o[M._TTIP_KEY]=t;var s=new Bp(e,t);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),i||(i=yt.fromBoundingRect(t.getBoundingClientRect()));var l=this.gap,a=on;if(l)switch(r){case a.Above:case a.AboveLeft:case a.AboveRight:case a.Below:case a.BelowLeft:case a.BelowRight:i=i.inflate(0,l);break;default:i=i.inflate(l,0)}Pn(o,i,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},n.prototype.hide=function(){var t=n._eTip;t&&(De(t),kt(t,this.cssClass),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},n.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach(function(i){t._detach(i.element)}),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(n.prototype,"isVisible",{get:function(){var t=n._eTip;return t!=null&&t.parentElement!=null&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=L(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=j(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=Ee(t)},enumerable:!0,configurable:!0}),n.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},n.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},n.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&t.addEventListener("mousemove",this._mousemoveBnd)},n.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd),t.removeEventListener("mousemove",this._mousemoveBnd)},n.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if(t.type!="click"||M._touching){var i=t.type=="mouseenter"?this._showDelay:0,r=this._hideDelay;this._clearTimeouts(),this._eMouse=t,this._toShow=setTimeout(function(){var o=e._indexOf(t.target);if(o>-1){var s=e._tips[o],l=e._eMouse,a=e._showAtMouse?new yt(l.clientX,l.clientY,0,0):null,u=s&&s.element;if(u&&(u.offsetHeight||u.offsetWidth)){var c=M.getControl(s.element);(c==null||c.isVisible!=0)&&(e.show(s.element,s.content,a,s.position),r>0&&(e._toHide=setTimeout(function(){e.hide()},r)))}}},i)}else this._hideAutoTip()},n.prototype._mousemove=function(t){this._eMouse=t},n.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},n.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},n.prototype._getContent=function(t){if((t=L(t))&&t[0]=="#"){var e=Un(t);e&&(t=e.innerHTML)}return t},n.prototype._setContent=function(t){var e=n._eTip;e&&(this._html?e.innerHTML=t:e.textContent=t)},n}(),Bp=function(n){kn(t,n);function t(e,i){var r=n.call(this)||this;return r._content=L(e),r._e=i,r}return Object.defineProperty(t.prototype,"tip",{get:function(){return tl._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=L(e)},enumerable:!0,configurable:!0}),t}(we);Bo("wijmo",_g);var Ji="The Wijmo license in this application ",yc={evl:"Wijmo Evaluation Version ({version})",prd:Ji+"is not valid for the <b>{control}</b> control.",ver:Ji+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:Ji+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:Ji+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:Ji+"is invalid.",mss:Ji+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},fr={};function Vp(n,t){var e=M._wme;if(!(e&&q(document.body,e)&&e.offsetWidth&&e.offsetHeight))if(t){var i=Up(n);fr[i]||(fr[i]=!0,Hv(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(r){la(n,t,r),delete fr[i]},function(){la(n,t,null),delete fr[i]}))}else la(n,null,null)}function Up(n){return n._getProductInfo().split(",")[0]}function Iv(n){return n._getProductInfo().split(",")[1]}function la(n,t,e){var i=oe.Licensing||yc,r=null;e?Dv(n,e)?Tv(n,e)?Mv(n,e)?Rv(n,e)?Wp(n,e)&&(r=i.evl):r=i.prd:r=i.dmn:r=i.ver:r=i.exp:r=t?i.lic:i.mss,r&&Ov(n,r+="<br/><br/>"+i.ctc,e)}function Rv(n,t){var e=Up(n);if(e&&e.length>=4){for(var i=0;i<t.Prd.length;i++)if(t.Prd[i].C.indexOf(e)>-1)return!0}return!1}function Dv(n,t){if(t.Exp){var e=t.Exp,i=new Date(parseInt(e.substr(0,4))||0,parseInt(e.substr(4,2))-1||0,parseInt(e.substr(6,2))||0);if(Math.ceil((i.valueOf()-Date.now())/864e5)<=0)return!1}return!0}function Tv(n,t){var e=t.Anl?t.Anl.ver:null,i=pc();return e&&i?parseInt(e.replace("v",""))+10>=parseInt(i.split(".")[1]):!0}function Mv(n,t){if(Kp()||!t.Dms)return!0;for(var e=location.hostname,i=t.Dms.split(","),r=0;r<i.length;r++)if(Gp(e,i[r]))return!0;return!1}function Gp(n,t){var e="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",i=new RegExp(e,"i").test(n);return i||t.substr(0,2)!="*."?i:Gp(n,t.substr(2))}function Wp(n,t){return!!t&&t.Evl}function Kp(){var n=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return n.protocol=="file:"||new RegExp(t,"i").test(n.hostname)}function Ov(n,t,e){if(t=qh(n,t,e),!fr[" "]&&!Kp()&&!Wp(n,e)){fr[" "]=!0;var i=oe.Licensing||yc,r=_e('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+i.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+i.cls+"</button></div></div></div>",document.body);r.addEventListener("click",function(l){l.target instanceof HTMLButtonElement&&De(r)})}if(!M._wme){var o=_e('<div><a href="'+Lv()+'" target="_blank" rel="noopener">'+qh(n)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}H(o,s),document.body.appendChild(o),M._wme=o,jv(o,t)}}function jv(n,t){var e,i=_e(t);i.className="wj-tooltip",H(i,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[n,i].forEach(function(s){s.addEventListener("mouseenter",function(){return o(!0)}),s.addEventListener("mouseleave",function(){return o(!1)})});var r=0;function o(s){r+=s?1:-1,e&&clearTimeout(e),e=setTimeout(function(){e=null,r==1?Pn(i,n.getBoundingClientRect()):r<1&&Zt(i)},500)}}function Lv(){switch(oe.Globalize.name){case"ja":return"https://www.grapecity.co.jp/developer/support/wijmo-license";case"ko":return"https://www.grapecity.co.kr/wijmojs#price";default:return"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis"}}function qh(n,t,e){(!t||t.trim().length<15)&&(t=(oe.Licensing||yc).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var i=null;if(e&&e.Exp){var r=e.Exp;i=new Date(parseInt(r.substr(0,4))||0,parseInt(r.substr(4,2))-1||0,parseInt(r.substr(6,2))||0)}return t=Nr(t,{version:pc(),domain:location.hostname,control:Iv(n),licVer:e&&e.Anl?"5."+e.Anl.ver.replace("v","")+".*":null,licDomain:e?e.Dms:null,expDate:i})}function Hv(n,t,e,i){var r=Av(n,t.algorithmCode);if(!r)return i();var o=r.lic,s=r.prefix+"#"+t.algorithmCode;if(Kv(s+JSON.stringify(o.D))!=o.H)return i();var l=window.msCrypto||window.crypto,a=l?l.subtle:null;if(!a||!location.protocol.match(/^https/i))return e(o.D);var u={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},c={alg:"RS256",e:"AQAB",kty:"RSA",n:Wv(t.publicKey)};c=window.msCrypto?Jh(JSON.stringify(c)):c;try{Zh(a.importKey("jwk",c,u,!1,["verify"])).then(function(h){var d=Uv(Qh(Gv(s+JSON.stringify(o.D))));Zh(a.verify(u,h,Qh(o.S),Jh(d))).then(function(f){return f?e(o.D):i()})},function(){return e(o.D)})}catch{return e(o.D)}}var wc=typeof window>"u"?null:window.Uint8Array||window.TypedArray;function Av(n,t){try{t="#"+t;var e=n.indexOf(t);if(e>-1)return{prefix:n.substring(0,e),lic:JSON.parse(Fv(n.substr(e+t.length)))}}catch{}return null}function Fv(n){if(!n)return"";var t=zv(n);t=Bv(t);var e=Math.ceil(t.length/2);return Vv(t=(t=(t=t.substr(e)+t.substr(0,e)).replace("#","=")).replace("&","=="))}function zv(n){for(var t=n.split(""),e=t.length-5;e>=0;e--)$h(t,e+1,e+3,Xh),$h(t,e,e+2,Xh);return t.join("")}function $h(n,t,e,i){n.length>1&&n.splice(e,1,i(n.splice(t,1,i(n[e]))[0]))}function Nv(n,t){var e=n.charCodeAt(0);return e>=65&&e<=90?n.toLowerCase():e>=97&&e<=122?n.toUpperCase():e>=48&&e<=57?String.fromCharCode(48+(e-48+10+t)%10):n}function Xh(n){return Nv(n,-1)}function Bv(n){return n.split("").reverse().join("")}function Vv(n){for(var t=atob(n),e="",i=0;i<t.length;i++)e+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(e)}function Uv(n){return String.fromCharCode.apply(null,new wc(n))}function Qh(n){for(var t=atob(n),e=t.length,i=new wc(e),r=0;r<e;r++)i[r]=t.charCodeAt(r);return i.buffer}function Gv(n){return btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))}function Wv(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Jh(n){for(var t=new ArrayBuffer(n.length),e=new wc(t),i=0,r=n.length;i<r;i++)e[i]=n.charCodeAt(i);return t}function Kv(n){for(var t=0,e=5381,i=0,r=n.length-1;r>=0;r--){var o=n.charCodeAt(r);t=o+(t<<6)+(t<<16)-t,e=o+((e<<5)+e),i=o+((i<<5)-i)}var s=t^e^i;return s<0&&(s=~s),s.toString(16).toUpperCase()}function Zh(n){return"oncomplete"in n&&(n.then=function(t,e){n.resolve=t,n.reject=e},n.oncomplete=function(t){n.resolve(n.result)},n.onerror=function(t){n.reject()}),n}/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var nl,Yv=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),hu=function(n,t,e,i){return new(e||(e=Promise))(function(r,o){function s(u){try{a(i.next(u))}catch(c){o(c)}}function l(u){try{a(i.throw(u))}catch(c){o(c)}}function a(u){u.done?r(u.value):new e(function(c){c(u.value)}).then(s,l)}a((i=i.apply(n,t||[])).next())})},du=function(n,t){var e,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(a){return function(u){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,i&&(r=2&h[0]?i.return:h[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,h[1])).done)return r;switch(i=0,r&&(h=[2&h[0],r.value]),h[0]){case 0:case 1:r=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){s.label=h[1];break}if(h[0]===6&&s.label<r[1]){s.label=r[1],r=h;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(h);break}r[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(n,s)}catch(d){h=[6,d],i=0}finally{e=r=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,u])}}};function ed(){return hu(this,void 0,void 0,function(){var n;return du(this,function(t){try{n=require("react-dom/client"),nl=n}catch{nl=void 0,console.error("Please upgrade react-dom package")}return[2]})})}var pi=function(n){Yv(t,n);function t(e,i,r){var o=n.call(this,e)||this;if(o._objPropHash={},o._isMounted=!1,o._mountedCBs=[],o._hostRef=function(c){return o._hostRefValue=c},o._beforeRender=new P,o._afterRender=new P,o._beforeWillUnmount=new P,o._afterWillUnmount=new P,o._beforeDidUpdate=new P,o._afterDidUpdate=new P,!t._reactMajorVersion){var s=parseInt(Ft.version);t._reactMajorVersion=s,s>=18&&ed()}o.props=e,o.controlType=i;for(var l=0,a=r&&r.objectProps||[];l<a.length;l++){var u=a[l];o._objPropHash[u]=!0}return o}return t.prototype.render=function(){this._onBeforeRender();var e=this._renderImpl();return this._onAfterRender(),e},t.prototype.componentDidMount=function(){var e=this;if(this.timer&&this.control&&(clearTimeout(this.timer),this.control.hostElement&&(this.control._orgOuter=null,this.control.dispose())),this._isChild()){var i=this.props[t._propsParent];i&&i._mountedCB(function(){e._setParent(i)})}else this._prepareControl();return this.control},t.sensitiveDomRender=function(e,i){return hu(this,void 0,void 0,function(){var r;return du(this,function(o){switch(o.label){case 0:return t._reactMajorVersion<18?(ru.render(e,i),[3,4]):[3,1];case 1:return nl?[3,3]:[4,ed()];case 2:o.sent(),o.label=3;case 3:r=nl.createRoot(i),t.elemRootMap.push({elem:i,root:r}),r.render(e),o.label=4;case 4:return[2]}})})},t.sensitiveDomUnmount=function(e,i){return i===void 0&&(i=!0),hu(this,void 0,void 0,function(){var r,o,s;return du(this,function(l){return t._reactMajorVersion<18?ru.unmountComponentAtNode(e):(o=void 0,(s=t.elemRootMap.find(function(a,u){if(a.elem===e)return r=u,!0}))&&(o=s.root,t.elemRootMap.splice(r,1)),o&&i&&o.unmount()),[2]})})},t.prototype.componentWillUnmount=function(){this._onBeforeWillUnmount(),this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var e=this.control;if(e)if(this._isChild()){var i=this._getParentProp();if(i){var r=this.parent.control[i];if(We(r)){var o=r.indexOf(e);o>-1&&r.splice(o,1)}}}else e instanceof M&&(this.timer=setTimeout(function(){e.hostElement&&(e._orgOuter=null,e.dispose())}));this._onAfterWillUnmount()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.componentDidUpdate=function(e){this._onBeforeDidUpdate();var i=this.control;this._copy(i,this.props,e),this._onAfterDidUpdate()},t.prototype._mountedCB=function(e){this._isMounted?e():this._mountedCBs.push(e)},t.prototype._renderImpl=function(){var e={};e[t._propsParent]=this;var i=Ft.Children.map(this.props.children,function(o){return o&&Ft.cloneElement(o,e)}),r={ref:this._hostRef};return this._isChild()&&(r.style={display:"none"}),Ft.createElement("div",r,i)},t.prototype._onBeforeRender=function(e){this._beforeRender.raise(this,e)},t.prototype._onAfterRender=function(e){this._afterRender.raise(this,e)},t.prototype._onBeforeWillUnmount=function(e){this._beforeWillUnmount.raise(this,e)},t.prototype._onAfterWillUnmount=function(e){this._afterWillUnmount.raise(this,e)},t.prototype._onBeforeDidUpdate=function(e){this._beforeDidUpdate.raise(this,e)},t.prototype._onAfterDidUpdate=function(e){this._afterDidUpdate.raise(this,e)},t.prototype._createControl=function(){var e=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new this.controlType(e)},t.prototype._prepareControl=function(){var e=this._getElement(),i=this.props;e&&!this._isChild()&&t._copyAttrs(e,i,M._rxInputAtts);var r=this.control=this._createControl(),o=r instanceof M,s=t;this._siblingId||(this.constructor[s._typeSiblingIdProp]==null&&(this.constructor[s._typeSiblingIdProp]=++s._siblingDirId+""),this._siblingId=this.constructor[s._typeSiblingIdProp]),e.setAttribute(s._typeSiblingIdProp,this._siblingId);var l={};for(var a in i){var u=i[a];this._ignoreProp(a)||Vn(u)||(a in r?l[a]=u:this._setHostAttribute(e,a,u))}o?r.initialize(l):this._copy(r,l,null,!0),this._isMounted=!0;var c=this._mountedCBs;this._mountedCBs=[];for(var h=0,d=c;h<d.length;h++)(0,d[h])();ee(i.initialized)&&i.initialized(r)},t.prototype._initParent=function(){var e=this._getParentProp();if(e){var i=this.parent.control,r=i[e];if(We(r)){var o=this._getSiblingIndex();(o<0||o>=r.length)&&(o=r.length),r.splice(o,0,this.control),this._siblingInsertedEH=this._siblingInserted.bind(this),this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else i[e]=this.control}},t.prototype._setParent=function(e){if(e!==this.parent){if(this.parent)throw"Wijmo child component is already attached to a different parent.";this.parent=e,this._prepareControl(),this._initParent()}},t.prototype._isChild=function(){return this._parentProp!=null||this._parentInCtor!=null},t.prototype._isParentInCtor=function(){return this._parentInCtor===!0},t.prototype._getParentProp=function(){return this.props.wjProperty||this._parentProp},t.prototype._getSiblingIndex=function(){var e=this._getElement(),i=e.parentElement;if(!i)return-1;for(var r=i.childNodes,o=-1,s=this._siblingId,l=0;l<r.length;l++){var a=r[l];if(a.nodeType==1&&a.getAttribute(t._typeSiblingIdProp)==s&&(++o,a===e))return o}return-1},t.prototype._siblingInserted=function(e){if(e.target===this._getElement()){var i=this._getSiblingIndex(),r=this.control,o=this.parent.control[this._getParentProp()],s=o.indexOf(r);i>=0&&s>=0&&i!==s&&(o.splice(s,1),i=Math.min(i,o.length),o.splice(i,0,r))}},t.prototype._copy=function(e,i,r,o){if(o===void 0&&(o=!1),e&&i){var s,l=e===this.control;for(var a in i)if(!this._ignoreProp(a)||!l){var u=i[a];if(a in e){if(this._isEvent(e,a))o&&ee(u)&&e[a].addHandler(u);else if(!r||!this._sameValue(r[a],u))if(u==null)e[a]=u;else if(Tr(u)||ee(u)||this._objPropHash[a]&&e===(s||(s=this.control)))e[a]=u;else if(We(u)&&We(e[a])){var c=e[a],h=u;if(h.length==c.length)for(var d=0;d<h.length;d++)this._copy(c[d],h[d])}else rt(u)&&this._copy(e[a],i[a])}else this._setHostAttribute(e.hostElement,a,i[a])}}},t.prototype._setHostAttribute=function(e,i,r){if(e)switch(i){case"className":var o=this._appliedClassName;o!==r&&(kt(e,o),ie(e,r),this._appliedClassName=r);break;case"style":H(e,r);break;default:e[i]!=null?e[i]=r:typeof r=="string"&&i[0]!=="$"&&e.setAttribute(i,r)}},t.prototype._sameValue=function(e,i){return e==i||W.equals(e,i)},t.prototype._isEvent=function(e,i){var r=e&&e[i];return r!=null&&r instanceof P},t.prototype._getElement=function(){return this._hostRefValue},t.prototype._ignoreProp=function(e){return e==="children"},t._copyAttrs=function(e,i,r){if(e)for(var o in i)o.match(r)&&e.setAttribute(o,i[o])},t.isInStrictMode=function(e){return!!(e.hasOwnProperty("_reactInternalFiber")&&1&e._reactInternalFiber.mode)},t._propsParent="$parent",t._typeSiblingIdProp="_wjSiblingIdProp",t._siblingDirId=0,t.elemRootMap=[],t}(Ft.Component);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var Ke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Ei("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var qv=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._value=null,r._min=null,r._max=null,r._format="",r._step=null,r._showBtn=!0,r._readOnly=!1,r._handleWheel=!0,r._oldText="",r._fromKb=!0,r.textChanged=new P,r.valueChanged=new P;var o=r.hostElement;A(o,"role","spinbutton",!0);var s=r.getTemplate();r.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var l=oe.InputNumber.ariaLabels;Ve(r._btnUp.querySelector("button"),l.incVal),Ve(r._btnDn.querySelector("button"),l.decVal),r._tbx.type.match(/number/i)&&(r.inputType="");var a=r._tbx;a.autocomplete="off",a.spellcheck=!1,r._updateSymbols();var u=r.addEventListener.bind(r);u(a,"keypress",r._keypress.bind(r)),u(a,"keydown",r._keydown.bind(r)),u(a,"input",r._input.bind(r)),u(a,"blur",function(){r.text!=r._oldText&&r._setText(r.text)}),u(a,"paste",function(){r._fromKb=!1}),u(a,"compositionstart",function(){r._composing=!0}),u(a,"compositionend",function(){r._composing=!1,setTimeout(function(){var h=r.text,d=r._oldText,f=r._chrPct;d&&d.indexOf(f)>-1&&h.indexOf(f)<0&&(h+=f),r._setText(h)})});var c=r._clickSpinner.bind(r);return u(r._btnUp,"click",c),u(r._btnDn,"click",c),r._rptUp=new Wi(r._btnUp.querySelector("button")),r._rptDn=new Wi(r._btnDn.querySelector("button")),u(a,"wheel",function(h){if(r.handleWheel&&!h.defaultPrevented&&!h.ctrlKey&&r._isEditable()&&r.containsFocus()){var d=ce(-h.deltaY,-1,1);r._increment((r.step||1)*d),setTimeout(function(){return r.selectAll()}),h.preventDefault()}}),r.value=0,r.isRequired=!0,r.initialize(i),r}return Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value){if((e=j(e,!this.isRequired||e==null&&this._value==null))==null)this._setText("");else if(!isNaN(e)){var i=ne.format(e,this.format);this._setText(i)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=k(e),this.inputElement.readOnly=this._readOnly,te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=j(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=j(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=j(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=L(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=k(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!k(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;J(e,0,e.value.length)},t.prototype.clamp=function(e){return ce(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,n.prototype.dispose.call(this)},t.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var i=this.clamp(this.value);if(i==this.value||this.onInvalidInput(new we)){var r=ne.format(i,this.format);this._setText(r)}}n.prototype.onLostFocus.call(this,e)},t.prototype.refresh=function(e){if(e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){this._updateSymbols();var i=ne.format(this.value,this.format);this._setText(i)}},t.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},t.prototype._updateSymbols=function(){var e=oe.Globalize.numberFormat,i=ne._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=i.curr||e.currency.symbol||"$",this._fmtSpc=i.spec,this._fmtPrc=i.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("^\\s*(\\-|\\"+this._chrNeg+")|([^e](\\-|\\"+this._chrNeg+")|\\()")},t.prototype._isNumeric=function(e,i){var r=e==this._chrDec||e>="0"&&e<="9",o=this._fmtSpc=="x";return!r&&o&&(r=e>="a"&&e<="f"||e>="A"&&e<="F"),r||i||o||(r=e==this._chrPls||e==this._chrNeg||e=="("||e==")"),r},t.prototype._getInputRange=function(e){for(var i=[0,0],r=this.text,o=!1,s=0;s<r.length;s++)this._isNumeric(r[s],e)&&(o||(i[0]=s,o=!0),i[1]=s+1);return i},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,i=this._tbx.selectionStart,r=this._tbx.value,o=0;o<r.length&&o<i;o++)this._isNumeric(r[o],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var i=this._tbx.value,r=0;r<i.length&&e>=0;r++)if(this._isNumeric(i[r],!0)){if(!e){J(this._tbx,r);break}e--}else if(!e){J(this._tbx,r);break}},t.prototype._increment=function(e){if(e){var i=this.clamp(ue(this.value)?this.value+e:0),r=ne.format(i,this.format,!1,!1);this._setText(r)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,i=e;H([this._btnUp,this._btnDn],{display:e?"":"none"}),te(this.hostElement,"wj-input-show-spinner",e),It(this._btnUp,i),It(this._btnDn,i),this._updateAria()},t.prototype._setText=function(e,i){if(i===void 0&&(i=!1),!this._composing){var r=this._tbx,o=this._chrDec,s=this._rxNeg.test(e),l=this._delKey,a=this.containsFocus();if(e&&this._rxSym.test(e)&&a&&(e=this.isRequired||!l?(s?"-0":"0")+(e.indexOf(o)>-1?o:""):""),this._delKey=!1,l&&this.value==0&&!this.isRequired&&(e=""),!e){if(!this.isRequired){r.value="",this._value!=null&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),this._updateBtn();return}e="0"}var u=e.indexOf(o),c=this._format||(u>-1?"n2":"n0"),h=ne.parseFloat(e,c);if(isFinite(h)||(h=this.clamp(h)),isNaN(h))this.onInvalidInput(new we)?r.value=this._oldText:this.focus();else{var d=a&&u>-1?2:null,f=ne.format(h,c,!1,i,d);s&&h>=0&&!l&&(f=this._chrNeg+f),a&&u>-1&&this._fmtSpc=="g"&&this._fmtPrc!=0&&(f=e).indexOf(o)<0&&(f+=o),r.value!=f&&(r.value=f,h=ne.parseFloat(f,c)),h!=this._value&&(this._value=h,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},t.prototype._keypress=function(e){if(!e.defaultPrevented&&!this._composing&&this._isEditable()&&e.charCode&&!e.ctrlKey&&!e.metaKey&&e.keyCode!=x.Enter){var i=this._tbx,r=String.fromCharCode(e.charCode);if(this._isNumeric(r,!1)){var o=i.maxLength;if(o>-1&&i.value.length>=o&&i.selectionEnd==i.selectionStart){e.preventDefault();return}var s=this._getInputRange(!0),l=i.selectionStart,a=i.selectionEnd;if(l<s[0]&&a<i.value.length&&(a=Math.max(a,s[0]),J(i,s[0],a)),l>=s[1]){var u=this._fmtPrc!=null?this._fmtPrc:2,c=i.value.indexOf(this._chrDec);c>-1&&l-c>u&&e.preventDefault()}}else e.preventDefault();switch(r){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&i.selectionStart==i.selectionEnd?this._flipSign():this.clamp(-1)<0&&(i.value=this._chrNeg,J(i,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(this._fmtPrc==0)e.preventDefault();else{var h=i.value.indexOf(this._chrDec);h>-1&&(i.selectionStart<=h&&h++,J(i,h),e.preventDefault())}}if(!e.defaultPrevented&&ge()){var d=i.value;(l=i.selectionStart)==(a=i.selectionEnd)&&(i.value=d.substr(0,l)+r+d.substr(a),J(i,l+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var i=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing&&!de(this._tbx,"wj-grid-ime")){var r=this._tbx,o=r.value,s=r.selectionStart,l=r.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout(function(){i.selectAll()}),e.preventDefault());break;case x.Up:case x.Down:this.step&&this._isEditable()&&(this._increment(this.step*(e.keyCode==x.Up?1:-1)),setTimeout(function(){i.selectAll()}),e.preventDefault());break;case x.Back:if(this._delKey=!0,l-s<2&&this._isEditable()){var a=o[l-1];(a==this._chrDec||a==this._chrPct||a==this._chrTho||a==")")&&(setTimeout(function(){l=a==i._chrPct?i._getInputRange(!0)[1]:l-1,J(r,l)}),e.preventDefault())}break;case x.Delete:if(this._delKey=!0,l-s<2&&this._isEditable())if(o=="0"&&s==1)J(r,0);else{var u=o[s];(u==this._chrDec||u==this._chrPct)&&(setTimeout(function(){J(r,s+1)}),e.preventDefault())}break;case x.Escape:this.value=this._oldValue,this.selectAll()}}},t.prototype._input=function(){var e=this;this._composing?this._fromKb=!0:setTimeout(function(){var i=e._tbx,r=i.value,o=r.indexOf(e._chrDec),s=i.selectionStart,l=e._getSelStartDigits();if(e._fmtSpc=="p"&&r.length&&r.indexOf(e._chrPct)<0&&(r+=e._chrPct),e._setText(r,e._fromKb),e._fromKb=!0,e.containsFocus()){var a=i.value,u=a.indexOf(e._chrDec),c=e._getInputRange(!0);if(r==e._chrNeg+e._chrDec&&u>-1){J(i,u+1);return}if(r[0]==e._chrNeg&&a[0]!=e._chrNeg){a.length==1?J(i,1):e._setSelStartDigits(l);return}r?r==e._chrDec&&u>-1?s=u+1:s<=o&&u>-1||o<0&&u<0?s+=a.length-r.length:o<0&&u>-1&&(s=u):s=u>-1?u:c[1],s=ce(s,c[0],c[1]),J(i,s)}})},t.prototype._clickSpinner=function(e){var i=this;!e.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(q(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},t.prototype._updateAria=function(){var e=this.hostElement;e&&(A(e,"aria-valuemin",this.min),A(e,"aria-valuemax",this.max),A(e,"aria-valuenow",this.value),It(this._btnDn,this.min==null||this.value>this.min),It(this._btnUp,this.max==null||this.value<this.max))},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',t}(M),$v=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r.valueChanged=new P;var o=r.getTemplate();if(r.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),r._orgTag=="INPUT"){var s=r._tbx.getAttribute("value");s&&(r.value=s)}return r._msk=new Br(r._tbx),r.isRequired=!0,r.initialize(i),r.addEventListener(r._tbx,"input",function(){r.onValueChanged()}),r.addEventListener(r._tbx,"blur",r._commitText.bind(r)),r.addEventListener(r._tbx,"keydown",function(l){l.keyCode==x.Enter&&r._commitText()}),r}return Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=L(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=L(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(e){var i=this.value;this._msk.mask=L(e),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var i=this.value;this._msk.promptChar=e,this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(e){this._msk.overwriteMode=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();J(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){(this.rawValue||this.isRequired)&&(this.maskFull||this.onInvalidInput(new we)),this._updateState()},t.prototype.dispose=function(){this._msk.input=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},t.prototype.onGotFocus=function(e){n.prototype.onGotFocus.call(this,e),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(M),Yp=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._hsb=[.5,1,1],r._alpha=1,r.valueChanged=new P;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-colorpicker",o,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),r._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),r._updatePalette(),r._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",r._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(r._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",r._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),o=t._tplCursor,r._cSB=_e(o),r._cHue=_e(o),r._cHue.style.width="100%",r._cAlpha=_e(o),r._cAlpha.style.height="100%",r._eSB.appendChild(r._cSB),r._eHue.appendChild(r._cHue),r._eAlpha.appendChild(r._cAlpha);var s=r.addEventListener.bind(r),l=r.removeEventListener.bind(r),a=document;s(r.hostElement,"mousedown",function(h){s(a,"mousemove",u),s(a,"mouseup",c),r._mouseDown(h)}),s(r.hostElement,"touchstart",function(h){s(a,"touchmove",u),s(a,"touchend",c),r._mouseDown(h)});var u=function(h){r._mouseMove(h)},c=function(h){l(a,"mousemove",u),l(a,"mouseup",c),l(a,"touchmove",u),l(a,"touchend",c),r._mouseUp(h)};return s(r.hostElement,"click",function(h){var d=h.target;if(d&&d.tagName=="DIV"&&q(r._ePal,d)){var f=d.style.backgroundColor;f&&(r.value=new mt(f).toString())}}),r.value="#ffffff",r.initialize(i),r._updatePanels(),r}return Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!="none"},set:function(e){this._eAlpha.parentElement.style.display=k(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._eText.style.display!="none"},set:function(e){this._eText.style.display=k(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){e=L(e);var i=mt.fromString(e);if(i){this._value=e,this._eText.innerText=e;var r=i.getHsb();(this._hsb[0]!=r[0]||this._hsb[1]!=r[1]||this._hsb[2]!=r[2]||this._alpha!=i.a)&&(r[2]==0?(r[0]=this._hsb[0],r[1]=this._hsb[1]):r[1]==0&&(r[0]=this._hsb[0]),this._hsb=r,this._alpha=i.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){(e=(e=gt(e)).slice(0,10)).every(function(i){return mt.fromString(i)!=null})&&(this._palette=e,this._updatePalette())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var i=e.touches?e.touches[0]:e,r=this._htDown;if(r){var o=r.getBoundingClientRect(),s=this._hsb;r==this._eHue?s[0]=ce((i.clientY-o.top)/o.height,0,.99):r==this._eSB?(s[1]=ce((i.clientX-o.left)/o.width,0,1),s[2]=ce(1-(i.clientY-o.top)/o.height,0,1)):r==this._eAlpha&&(this._alpha=ce((i.clientX-o.left)/o.width,0,1)),this._updateColor()}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=mt.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new mt("#fff"),i=new mt("#000");this._ePal.innerHTML="";for(var r=0;r<this._palette.length;r++){var o=_e('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),s=new mt(this._palette[r]),l=s.getHsb();o.appendChild(this._makePalEntry(s,4));for(var a=0;a<5;a++){if(l[1]==0){var u=.1*a+(l[2]>.5?.05:.55);s=mt.interpolate(e,i,u)}else s=mt.fromHsb(l[0],.1+.2*a,1-.1*a);o.appendChild(this._makePalEntry(s,0))}this._ePal.appendChild(o)}},t.prototype._makePalEntry=function(e,i){var r=document.createElement("div");return H(r,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:i||""}),r.innerHTML="&nbsp",r},t.prototype._updatePanels=function(){var e=mt.fromHsb(this._hsb[0],1,1,1),i=mt.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var i=e.target;return q(this._eSB,i)?this._eSB:q(this._eHue,i)?this._eHue:q(this._eAlpha,i)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(M),Xv=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._view=null,r._byPage=!1,r._fmt="{current:n0} / {count:n0}";var o=r.getTemplate();return r.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),r._rptNext=new Wi(r._btnNext.querySelector("button")),r._rptPrev=new Wi(r._btnPrev.querySelector("button")),r.addEventListener(r.hostElement,"click",r._click.bind(r)),r.initialize(i),r._update(),r}return Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var i=this._view;i&&(i.collectionChanged.removeHandler(this._collectionChanged),i.currentChanged.removeHandler(this._currentChanged)),i=this._view=Le(e,"ICollectionView",!0),this._update(),i&&(i.collectionChanged.addHandler(this._collectionChanged,this),i.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=k(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=L(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!k(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,i=this._byPage,r=e?i?e.pageIndex:e.currentPosition:0,o=e?i?e.pageCount:e.itemCount:0;It(this._btnFirst,e&&r>0),It(this._btnPrev,e&&r>0),It(this._txtCurr,e!=null),It(this._btnNext,e&&r<o-1),It(this._btnLast,e&&r<o-1),this._txtCurr.value=Nr(this._fmt,{current:e?r+1:0,count:e?o:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var i=e.target,r=this._view,o=this._byPage;r&&(q(this._btnFirst,i)?o?r.moveToFirstPage():r.moveCurrentToFirst():q(this._btnPrev,i)?o?r.moveToPreviousPage():r.moveCurrentToPrevious():q(this._btnNext,i)?o?r.moveToNextPage():r.moveCurrentToNext():q(this._btnLast,i)&&(o?r.moveToLastPage():r.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(M),Vr=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e,null,!0)||this;r._cv=null,r._itemFormatter=null,r._pathDisplay=new st(""),r._pathValue=new st(""),r._pathChecked=new st(""),r._html=!1,r._shGroups=!1,r._checkedItems=[],r._itemRole="option",r._caseSensitive=!1,r._vThreshold=t._VTHRESH,r._isVirtual=!1,r._children=[],r._clientHeight=-1,r._itemHeight=30,r._itemsAbove=-1,r._itemsBelow=-1,r._eSizer=document.createElement("div"),r._ePadTop=document.createElement("div"),r._ePadBot=document.createElement("div"),r._checking=!1,r._ignoredItemChangedEvents=!1,r._search="",r._fmtItemHandlers=0,r._itemCount=0,r._oldSel=null,r._container=null,r.selectedIndexChanged=new P,r.itemsChanged=new P,r.loadingItems=new P,r.loadedItems=new P,r.itemChecked=new P,r.checkedItemsChanged=new P,r.formatItem=new P(function(){r.invalidate()}),r.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=r.hostElement;return A(o,"role","listbox",!0),r._orgTag=="SELECT"&&r._initFromSelect(r.hostElement),r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),r.addEventListener(o,"keypress",r._keypress.bind(r)),r.addEventListener(o,"wheel",function(s){o.scrollHeight>o.offsetHeight&&(s.deltaY<0&&o.scrollTop==0||s.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation())}),[r._eSizer,r._ePadTop,r._ePadBot].forEach(function(s){s.tabIndex=-1,A(s,"aria-hidden",!0),H(s,{pointerEvents:"none",opacity:"0"})}),r.initialize(i),r._updateViewRange(),r.hostElement.addEventListener("scroll",function(s){r._updateViewRange()}),r}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=No(e),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(e){if(e!=this._vThreshold){var i=this._getVirtual();this._vThreshold=j(e,!1,!0),i!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=k(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=k(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=ke(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=L(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=L(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=L(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var i=null;e>-1&&Ue(this._cv)&&(i=this._cv.items[e],this.displayMemberPath&&(i=this._pathDisplay.getValue(i)));var r=i!=null?i.toString():"";return this._itemFormatter&&(r=this._itemFormatter(e,r)),r},t.prototype.getDisplayText=function(e){var i=this._getChild(e);return i!=null?i.textContent:""},t.prototype.isItemEnabled=function(e){var i=this._getChild(e);return i!=null&&!i.hasAttribute("disabled")&&!de(i,"wj-state-disabled")&&!de(i,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(j(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var i=this._cv,r=i?i.items:null,o=this.selectedValuePath,s=-1;if(r){for(var l=0;l<r.length;l++){var a=r[l],u=o?this._pathValue.getValue(a):a;if(u===e||W.equals(u,e)){s=l;break}if(this.isContentHtml&&Q(u)&&u.indexOf("<")>-1&&Sn(u)===e){s=l;break}}this.selectedIndex=s}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement,i=e?parseFloat(e.style.maxHeight):null;return isNaN(i)?null:i},set:function(e){var i=this.hostElement;i&&(e=j(e,!0),i.style.maxHeight=e==null?"":e+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){e===void 0&&(e=this.containsFocus());var i=this.hostElement,r=this._children,o=this._getSelectedElement(!1),s=new yt(0,0,0,0);o!=this._oldSel&&(this._updateItemAttributes(o,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=o),o instanceof HTMLElement?s=this._getBoundingClientRect(o):this._children.length>0&&(s=this._getBoundingClientRect(this._getChild(0)));var l=this._getBoundingClientRect(i),a=0;if(this._shGroups&&(a=this._itemHeight,!this._isVirtual)){var u=r[0];u.offsetHeight&&de(u,"wj-header")&&(a=u.offsetHeight)}s.bottom>l.bottom?i.scrollTop+=s.bottom-l.bottom:s.top<l.top+a&&(i.scrollTop-=l.top+a-s.top),this._updateViewRange(),o=this._getSelectedElement(!0),e&&(o&&!q(o,Z())?o:i).focus(),i.tabIndex=o?-1:this._orgTabIndex},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var i=this._cv.items[e],r=this._pathChecked;if(rt(i)&&r.path)return r.getValue(i);var o=this._getCheckbox(e);return!!o&&o.checked},t.prototype.setItemChecked=function(e,i){this._setItemChecked(e,i,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(e){var i=gt(e,!1);this._arrayEquals(i,this._checkedItems)||(this._updateCheckedList(i),this._arrayEquals(i,this._checkedItems)||(this._checkedItems=i,this.onCheckedItemsChanged()))},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return(e=K(e,".wj-listbox-item"))?e[t._DIDX_KEY]:-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(e){if(e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var i=this._cv?this._cv.items.length:0,r=this.formatItem.handlerCount;i!=this._itemCount||r!=this._fmtItemHandlers?(this._fmtItemHandlers=r,this._populateList()):this._updateViewRange()}},t.prototype._updateCheckedList=function(e){var i=this,r=this._cv,o=this._pathChecked,s=new Map;if(o&&r){var l=r.sourceCollection;if(l&&l.length){rt(l[0])||(o=null),e.forEach(function(u){return s.set(u,!0)}),this._checking=!0;var a=[];l.forEach(function(u){var c=s.has(u);c&&a.push(u),o&&o.setValue(u,c)}),this._checking=!1,e=a}r.items.forEach(function(u,c){i._setItemChecked(c,s.has(u),!1)})}},t.prototype._getBoundingClientRect=function(e){if(!e.offsetHeight){var i=this.indexOf(e),r=this.hostElement;if(i>-1&&r){i=this._getElementIndex(i);var o=r.getBoundingClientRect();return new yt(0,o.top-r.scrollTop+i*this._itemHeight,o.width,this._itemHeight)}}return yt.fromBoundingRect(e.getBoundingClientRect())},t.prototype._updateItemAttributes=function(e,i){if(e){var r=this.checkedMemberPath?this._getCheckbox(this.indexOf(e)):null,o=r?r.checked:null;te(e,"wj-state-selected",i),A(e,"aria-selected",this._getAriaSelected(i,o)),e.tabIndex=i?this._orgTabIndex:-1}},t.prototype._getCheckedItems=function(){var e=this,i=this._cv,r=this._pathChecked,o=[];return i&&r&&r.path&&(o=i.sourceCollection.filter(function(s,l){if(i.filter&&!i.filter(s))return!1;if(rt(s))return r.getValue(s);var a=i.items[l]==s?l:i.items.indexOf(s);return e.getItemChecked(a)})),o},t.prototype._arrayEquals=function(e,i){if(e==i)return!0;if(!e||!i||e.length!=i.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==i[r])return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this._children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var i=this._children,r=0;r<=e&&r<i.length;r++){var o=i[r];de(o,"wj-header")&&e++}return e},t.prototype._setItemChecked=function(e,i,r){r===void 0&&(r=!0);var o=this._cv.items[e],s=this._pathChecked,l=!1,a=this.selectedIndex,u=this._checking;if(rt(o)&&s.path){if(!!s.getValue(o)!=i){var c=Gt(this._cv,"IEditableCollectionView");l=!0,this._checking=!0,c?(c.editItem(o),s.setValue(o,i),c.commitEdit()):(s.setValue(o,i),c.refresh()),this._checking=u}}else if(r){var h=this._checkedItems.indexOf(o);(i&&h<0||!i&&h>=0)&&(l=!0)}var d=this._getCheckbox(e);if(d){d.checked=i;var f=K(d,".wj-listbox-item");f&&(te(f,"wj-state-checked",i),A(f,"aria-selected",!!i||null))}return r&&(l&&(this._checkedItems=this._checkedItemsUpdate(o,i),this.onItemChecked(),this.onCheckedItemsChanged()),a!=this.selectedIndex&&this.onSelectedIndexChanged()),l},t.prototype._checkedItemsUpdate=function(e,i){var r=this._cv.sourceCollection,o=this._checkedItems,s=0;if(i){for(var l=0;l<r.length;l++){var a=r[l];if(a===o[s]&&s<o.length)s++;else if(a===e)return o.slice(0,s).concat([e]).concat(o.slice(s))}return o}var u=o.indexOf(e);return o.slice(0,u).concat(o.slice(u+1))},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this._ignoredItemChangedEvents||this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement,i=this._cv;if(this._itemCount=i?i.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,e){var r=this.containsFocus(),o=void 0;this.onLoadingItems();var s=this._children=[];if(e.textContent="",i){var l=0,a=void 0,u=[];if(this._shGroups&&i.groups&&i.groups.length){o={};for(var c=0;c<i.groups.length;c++){var h=i.groups[c];o[l]=h,a=this._createHeaderItem(h),u.push(a);for(var d=0;d<h.items.length;d++,l++)a=this._createItem(l),u.push(a)}}else for(d=0;d<i.items.length;d++,l++)a=this._createItem(l),u.push(a);var f=this._isVirtual?document.createElement("div"):e,p=0;for(f.innerHTML=u.join(""),d=0;d<f.children.length;d++){var _=f.children[d];p==i.currentPosition&&(this._oldSel=_),_[t._DIDX_KEY]=_.className.indexOf("wj-header")<0?p++:-1,s.push(_)}}if(this.formatItem.hasHandlers&&i){l=0;var w=i.items;for(_=new bc(0,null,null),d=0;d<s.length;d++)_._item=s[d],this._shGroups&&de(_._item,"wj-header")?(_._index=-1,_._data=o[l]):(_._index=l,_._data=w[l++]),this.onFormatItem(_)}if(this._isVirtual){var m=this._getCanvasContext(),g=null,v=0;for(d=0;d<s.length;d++){a=s[d];var y=m.measureText(a.textContent);y.width>v&&(g=a,v=y.width)}if(g){var b=!1,E=e.style.display,C=e.style.position;e.parentElement||(b=!0,(this._container||document.body).appendChild(e),H(e,{display:"",position:"absolute"})),e.appendChild(g);var S=g.style.whiteSpace;g.style.whiteSpace="nowrap",this._ePadTop.style.width=g.offsetWidth+"px",this._itemHeight=g.offsetHeight||this._itemHeight,g.style.whiteSpace=S,this._eSizer.style.height=s.length*this._itemHeight+"px",e.appendChild(this._eSizer),this._clientHeight=e.clientHeight,De(this._eSizer),b&&(De(e),H(e,{display:E,position:C})),De(g)}else this._ePadTop.style.width="";this._updateViewRange()}this.checkedItems=this._getCheckedItems();var O=this._getSelectedElement(!0);r?(O||e).focus():O&&this.showSelection(),e.tabIndex=O?-1:this._orgTabIndex,this.onLoadedItems()}},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return i.fontSize&&i.fontFamily&&(e.font=i.fontSize+" "+i.fontFamily.split(",")[0]),e},t.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var i=getComputedStyle(e);if(parseInt(i.columnCount)>1||i.display.indexOf("flex")>-1||i.display.indexOf("grid")>-1)return!1}return!0},t.prototype._getMaxSupportedCssHeight=function(){var e=265e5;return ge()?e=15e5:Gi()&&(e=175e5),e},t.prototype._updateViewRange=function(){var e=this.hostElement,i=this._itemHeight,r=this._children;if(!(e&&e.parentElement&&this._isVirtual&&r))return!1;var o=e.scrollTop;B(i*r.length<this._getMaxSupportedCssHeight(),"The number of items ("+r.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/i)+") allowed for this browser.");var s=Math.max(e.clientHeight,this._clientHeight),l=Math.floor(o/i),a=Math.min(r.length,Math.ceil((o+s)/i)-l),u=Math.max(0,r.length-l-a);if(l==this._itemsAbove&&u==this._itemsBelow)return!1;this._itemsAbove=l,this._itemsBelow=u;var c=document.createDocumentFragment(),h=this.containsFocus();if(this._ePadTop.style.height=l*i+"px",c.appendChild(this._ePadTop),this.showGroups&&!de(r[l],"wj-header")){for(var d=l;d>=0;d--)if(de(r[d],"wj-header")){c.appendChild(r[d]);break}}for(d=l;d<=l+a&&d<r.length;d++)c.appendChild(r[d]);this._ePadBot.style.height=u*i+"px",c.appendChild(this._ePadBot),e.textContent="",e.appendChild(c);var f=(l+a+u)*i-e.scrollHeight;this._ePadBot.style.height=this._ePadBot.offsetHeight-f+"px";var p=this._getSelectedElement(!0);return h&&(p||e).focus({preventScroll:!0}),e.tabIndex=p?-1:this._orgTabIndex,!0},t.prototype._getSelectedElement=function(e){var i=this.selectedIndex,r=this._getElementIndex(i),o=r>-1?this._children[r]:null;return e&&o&&!o.offsetHeight&&(o=null),o},t.prototype._handleResize=function(){this._updateViewRange()},t.prototype._createItem=function(e){var i=this._cv.items[e],r=e==this._cv.currentPosition,o=this.getDisplayValue(e);this._html!=1&&(o=Cn(o));var s=null;this.checkedMemberPath&&(s=!1,rt(i)?s=!!this._pathChecked.getValue(i):this._checkedItems&&(s=this._checkedItems.indexOf(i)>-1),o='<label><input type="checkbox" tabindex="-1"'+(s?" checked":"")+"><span></span> "+o+"</label>");var l="wj-listbox-item";if(r&&(l+=" wj-state-selected"),s&&(l+=" wj-state-checked"),this._html){var a=["wj-separator","wj-state-disabled"];if(o.indexOf(a[0])>-1||o.indexOf(a[1])>-1){var u=_e(o);a.forEach(function(c){de(u,c)&&(l+=" "+c)})}}return'<div class="'+l+'" role="'+this.itemRole+'" '+(this._getAriaSelected(r,s)?'aria-selected="true" ':"")+'tabindex="'+(r&&!this.isDisabled?this._orgTabIndex:-1)+'">'+o+"</div>"},t.prototype._getAriaSelected=function(e,i){return!!(i??e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+Cn(e.name)+"</div>"},t.prototype._click=function(e){if(e.button==0&&!e.defaultPrevented){var i=this.indexOf(e.target);if(i>-1)if(this.selectedIndex=i,this.checkedMemberPath){var r=this._getCheckbox(i),o=K(r,".wj-listbox-item");(e.target==r||e.target==o)&&(o.focus({preventScroll:!0}),this.setItemChecked(i,r.checked))}else(o=K(e.target,".wj-listbox-item")).focus({preventScroll:!0})}},t.prototype._keydown=function(e){var i=this.selectedIndex;if(!e.defaultPrevented){if(e.keyCode==65&&(e.ctrlKey||e.metaKey)){var r=this.collectionView;if(this.checkedMemberPath&&Ue(r)){this.checkedItems=this.checkedItems.length!=r.items.length?r.items:[],e.preventDefault();return}}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case x.Down:e.preventDefault(),this._selectNext();break;case x.Up:e.preventDefault(),this._selectPrev();break;case x.Home:e.preventDefault(),this._selectFirst();break;case x.End:e.preventDefault(),this._selectLast();break;case x.PageDown:e.preventDefault(),this._selectNextPage();break;case x.PageUp:e.preventDefault(),this._selectPrevPage();break;case x.Space:if(this.checkedMemberPath&&i>-1){var o=this._getCheckbox(i);o&&this.isItemEnabled(i)&&(this.setItemChecked(i,!o.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var i=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||e.charCode==32&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null,i._search=""},M._SEARCH_DELAY);var r=this._findNext();r<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],r=this._findNext()),r>-1&&(this.selectedIndex=r)}},t.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,i=this._children,r=this._cv?this._cv.items.length:0,o=0;if(e>0)for(var s=this.selectedIndex+1;s<r;s++){var l=i[s].scrollHeight||this._itemHeight;if(o+l>e&&this.isItemEnabled(s))return this.selectedIndex=s,!0;o+=l}return this._selectLast()},t.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,i=this._children,r=0;if(e>0)for(var o=this.selectedIndex-1;o>0;o--){var s=i[o].scrollHeight||this._itemHeight;if(r+s>e&&this.isItemEnabled(o))return this.selectedIndex=o,!0;r+=s}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,i=this.selectedIndex;(i<0||this._search.length==1)&&i++;var r=this._search,o=this.caseSensitiveSearch;o||(r=r.toLowerCase());for(var s=0;s<e;s++){var l=(i+s)%e;if(this.isItemEnabled(l)){var a=this.getDisplayText(l).trim();if(o||(a=a.toLowerCase()),a.indexOf(r)==0)return l}}}return-1},t.prototype._getCheckbox=function(e){var i=this._children;return e=this._getElementIndex(e),this.hostElement&&e>-1&&e<i.length?i[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var i=e.children,r=[],o=-1,s=0;s<i.length;s++){var l=i[s];l.tagName=="OPTION"&&(l.hasAttribute("selected")&&(o=r.length),l.innerHTML?r.push({hdr:l.innerHTML,val:l.getAttribute("value"),cmdParam:l.getAttribute("cmd-param")}):r.push({hdr:'<div class="wj-separator"></div>'}),e.removeChild(l),s--)}r&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=r,this.selectedIndex=o)},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this.isDisabled||this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.hostElement,i=this._getSelectedElement(!0);i?(i.tabIndex=this.isDisabled?-1:this._orgTabIndex,e.tabIndex=-1):e.tabIndex=this.isDisabled?-1:this._orgTabIndex},t._DIDX_KEY="$WJ-DIDX",t._VTHRESH=Number.MAX_VALUE/2,t}(M),bc=function(n){Ke(t,n);function t(e,i,r){var o=n.call(this)||this;return o._index=j(e),o._data=i,o._item=Le(r,HTMLElement,!0),o}return Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(Ci);Ei("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var qp=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._selectAllLabel=null,r._filterPlaceholder=null,r._filterText="",r._checkOnFilter=!0,r._delay=M._SEARCH_DELAY,r.checkedItemsChanged=new P,r.selectedIndexChanged=new P;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-multiselectlistbox",o,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),r._selectAll.style.display="none",r._filter.style.display="none",r._lbx=new Vr(r._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,loadedItems:function(){return r._updateCheckAllCheckbox()},checkedItemsChanged:function(l){return r.onCheckedItemsChanged(l)},selectedIndexChanged:function(){return r.onSelectedIndexChanged()}}),r._cbSelectAll=r._selectAll.querySelector("input[type=checkbox]"),r._spSelectAll=r._selectAll.querySelector("label>span");var s=oe.MultiSelectListBox;return _n(r._spSelectAll,s.selectAll),r._filter.placeholder=s.filterPlaceholder,r.initialize(i),r.addEventListener(r._filter,"input",function(){r._filter.value!=r._filterText&&(r._filterText=r._filter.value,r._toSearch&&clearTimeout(r._toSearch),r._toSearch=setTimeout(function(){r._toSearch=null,r._applyFilter()},r.delay))}),r.addEventListener(r._cbSelectAll,"click",function(l){var a=r._lbx.collectionView;Ue(a)&&(r.checkedItems=l.target.checked?a.items:[])}),r.addEventListener(r.hostElement,"keydown",function(l){var a=r.showFilterInput?r._filter:null,u=r._lbx;if(a&&l.keyCode==x.F3&&(J(a,0,a.value.length),l.preventDefault()),Z()==a){var c=!l.altKey;switch(l.keyCode){case x.Escape:case x.F4:c=!1}c&&l.stopPropagation()}if(!u.containsFocus())switch(l.keyCode){case x.Up:case x.Down:r._lbx.focus();var h=u.selectedIndex+(l.keyCode==x.Up?-1:1);u.selectedIndex=Math.max(0,h),l.preventDefault()}},!0),r.hostElement.tabIndex=-1,r._lbx.tabOrder=r._orgTabIndex,r}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=k(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._filter.style.display==""},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=k(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=L(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._selectAll.style.display==""},set:function(e){this._selectAll.style.display=k(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=L(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=L(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=gt(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){var i=this;this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e),typeof e._items[0]=="object"&&(this.checkedMemberPath||t._DEF_CHECKED_PATH)in e._items[0]&&setTimeout(function(){i._lbx._updateCheckedList(i.checkedItems)},0)},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){if(e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var i=oe.MultiSelectListBox;this._filter.placeholder=this._filterPlaceholder!=null?this._filterPlaceholder:i.filterPlaceholder,this._spSelectAll&&_n(this._spSelectAll,this._selectAllLabel!=null?this._selectAllLabel:i.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),n.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,i=this._lbx,r=i.collectionView,o=this._filter.value,s=o?new RegExp(_c(o),i.caseSensitiveSearch?"":"i"):null,l=this.displayMemberPath,a=l?new st(l):null,u=this.checkOnFilter?null:this.checkedItems;r.filter=function(c){return s!=null?u&&u.indexOf(c)>-1?!0:(a&&(c=a.getValue(c)),e.isContentHtml&&(c=Sn(c)),c!=null&&s.test(c.toString())):!0},i.selectedIndex=Math.max(0,i.selectedIndex),this._checkOnFilter&&(this.checkedItems=s?r.items:[])},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,i=this._cbSelectAll;if(Ue(e)){var r=e.items.length,o=this.checkedItems.length;Mr(i,o==r||o!=0&&null),i.disabled=!1}else Mr(i,!1),i.checked=!1,i.disabled=!0},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=-1,this.isDisabled?this._lbx.tabOrder=-1:this._lbx.tabOrder=this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._lbx.tabOrder=e},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(M);Ei("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}});var Rt;(function(n){n[n.None=0]="None",n[n.Day=1]="Day",n[n.Month=2]="Month",n[n.Range=3]="Range"})(Rt||(Rt={}));var Cr;(function(n){n[n.None=0]="None",n[n.FirstMonth=1]="FirstMonth",n[n.LastMonth=2]="LastMonth",n[n.FirstAndLastMonths=3]="FirstAndLastMonths",n[n.AllMonths=4]="AllMonths",n[n.Outside=5]="Outside"})(Cr||(Cr={}));var $p=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._yrPicker=!0,r._mtPicker=Cr.FirstMonth,r._wksBefore=0,r._wksAfter=0,r._rngMin=0,r._rngMax=0,r._min=null,r._max=null,r._readOnly=!1,r._handleWheel=!0,r._fdw=null,r._selMode=Rt.Day,r._tmYrHidden=0,r._fmtYrMo="y",r._fmtYr="yyyy",r._fmtDayHdr="ddd",r._fmtDay="d ",r._fmtMonths="MMM",r.valueChanged=new P,r.rangeEndChanged=new P,r.rangeChanged=new P,r.displayMonthChanged=new P,r.formatItem=new P(function(){r.invalidate()}),r._value=r._rngEnd=W.newDate(),r._month=r._getMonth(r._value),r._cals=[r],r._createChildren(),r._createYearPicker();var o=r.hostElement,s=r.addEventListener.bind(r);return s(o,"keydown",r._keydown.bind(r)),s(o,"click",r._click.bind(r)),r._rptUp=new Wi(r._btnPrv),r._rptDn=new Wi(r._btnNxt),r.addEventListener(o,"wheel",function(l){r.handleWheel&&!l.defaultPrevented&&!r.isReadOnly&&r.containsFocus()&&(l.deltaY<0?r._btnPrv.click():r._btnNxt.click(),l.preventDefault())}),r.initialize(i),r.refresh(!0),r}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value&&(this._clearingRangeEnd=!W.equals(this._value,e),this.rangeEnd=null,this._clearingRangeEnd=!1,e=zt(e,!0),e=this._clamp(e),(this._valid(e)||e==null)&&(this.ensureVisible(e||new Date),W.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged())),!this.value)){var i=this.min,r=this.max,o=this.displayMonth;r&&r<o?this.ensureVisible(r):i&&i>o&&this.ensureVisible(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(e){if(e=zt(e,!0),(e=this._clamp(e))&&this._value&&this._rngMode()){e<this._value&&(e=this._value);var i=this._rngMin,r=this._rngMax;if(i&&i>0||r&&r>0){var o=this._value,s=Math.ceil((e.getTime()-o.getTime())/864e5)+1;i&&i>0&&s<i&&(e=W.addDays(o,i-1)),r&&r>0&&s>r&&(e=W.addDays(o,r-1))}}(this._valid(e)||e==null)&&!W.equals(this._rngEnd,e)&&(this._rngEnd=e,this.ensureVisible(e),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(e){(e=j(e,!0,!0))!=this._rngMin&&(this._rngMin=e,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(e){(e=j(e,!0,!0))!=this._rngMax&&(this._rngMax=e,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){(e=zt(e,!0))!=this.min&&(this._min=e,this._syncProp(this,"min"),this.refresh(),!this.value&&e&&e>this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){(e=zt(e,!0))!=this.max&&(this._max=e,this._syncProp(this,"max"),this.refresh(),!this.value&&e&&e<this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){var i=Rt;(e=ye(e,i))!=this._selMode&&(this._selMode=e,this._mthMode()&&(this.monthView=!1),this._rngEnd=e==i.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=k(e),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!k(e),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){e!=this._yrPicker&&(this._yrPicker=k(e),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(e){if(e!=this._mtPicker){var i=Cr;Je(e)&&(e=e?i.FirstMonth:i.None),this._mtPicker=ye(e,i),te(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==i.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=j(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._month},set:function(e){e=zt(e),e=this._getMonth(e);var i=this._getDisplayMonthRange();i.to&&e>i.to&&(e=i.to),i.from&&e<i.from&&(e=i.from),W.equals(this.displayMonth,e)||(this._month=e,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(e){var i=this,r=this.hostElement;if(e!=this.monthCount&&r){var o=r.querySelectorAll(".wj-calendar");e=Ee(e,!1),B(e>0,"monthCount must be >= 1."),B(e==1||!K(r.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var s=0;s<o.length;s++){var l=o[s];De(l),this._getCalendar(l).dispose()}for(this._cals=[this],s=1;s<e;s++){(l=new t(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(c,h){return i.onFormatItem(h)}}))._selMode=this._selMode,l._value=this._value,l._rngEnd=this._rngEnd;for(var a in this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(a)){var u=this[a];ee(u)||u instanceof P||(l[a]=u)}this._cals.push(l),r.appendChild(l.hostElement)}te(r,"wj-calendar-multimonth",e>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=L(e),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=L(e),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=L(e),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=L(e),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=L(e),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._tbHdr.style.display!="none"},set:function(e){e!=this.showHeader&&(this._tbHdr.style.display=k(e)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return this._tbMth.style.display!="none"},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var i=oe.Calendar.ariaLabels;Ve(this._btnPrv,e?i.prvMo:i.prvYr),Ve(this._btnTdy,e?i.today:i.currMo),Ve(this._btnNxt,e?i.nxtMo:i.nxtYr),Ve(this._btnMth,e?i.monthView:i.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(e){e!=this._wksBefore&&(this._wksBefore=Math.floor(j(e,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(e){e!=this._wksAfter&&(this._wksAfter=Math.floor(j(e,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=ke(e),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=ke(e),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){var i=e instanceof MouseEvent?e.target:e instanceof Element?e:null;return B(i!=null,"MouseEvent or Element expected"),i?i[t._DATE_KEY]:null},t.prototype.ensureVisible=function(e){if(e!=null){var i=this._getCalendars(),r=i.indexOf(this),o=i[0],s=i[i.length-1];e<o.displayMonth?this.displayMonth=W.addMonths(this._getMonth(e),r):e>s.displayMonth&&(this.displayMonth=W.addMonths(this._getMonth(e),r-i.length+1))}},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(e)},t.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0);var i=this.hostElement,r=this.containsFocus();if(i){n.prototype.refresh.call(this,e),e&&this._updateContent(),this._updateSelection();var o=this._getDisplayMonthRange(),s=this.displayMonth;if(It(this._btnPrv,o.from==null||s>o.from),It(this._btnNxt,o.to==null||s<o.to),r){var l=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||i;l&&l.focus()}var a=this._getCalendars();a.length>1&&this==a[0]&&a.forEach(function(u,c){c>0&&u.refresh(e)})}},t.prototype._getShowMonthPicker=function(){var e=Cr,i=this._getCalendars(),r=i.indexOf(this),o=this.showMonthPicker;switch(o){case e.FirstMonth:case e.Outside:return r==0?o:0;case e.LastMonth:return r==i.length-1?o:0;case e.FirstAndLastMonths:return r==0||r==i.length-1?o:0;case e.AllMonths:return o}return 0},t.prototype._getDisplayMonthRange=function(){var e={from:null,to:null};if(this.min||this.max){var i=this._getCalendars(),r=i.indexOf(this),o=this._mthMode()?W.addYears:W.addMonths;this.min&&(e.from=o(this._getMonth(this.min),r)),this.max&&(e.to=o(this._getMonth(this.max),r-i.length+1))}return e},t.prototype._getCalendar=function(e){return M.getControl(e)},t.prototype._getCalendars=function(){var e=K(this.hostElement,".wj-calendar-multimonth");return(e?this._getCalendar(e):this)._cals},t.prototype._syncProp=function(e,i){var r=this;if(!this._syncing){var o=this._getCalendars();if(o&&o.length>1){var s=e[i],l=this._mthMode()?W.addYears:W.addMonths;i=="displayMonth"&&(s=l(s,-o.indexOf(e))),o[0].deferUpdate(function(){r._syncing=!0,o.forEach(function(a,u){if(a!=e){var c=a.displayMonth;a[i]=i=="displayMonth"?l(s,u):s,i=="value"&&(a.displayMonth=c,r._rngMode()&&(a.rangeEnd=null))}}),r._syncing=!1})}}},t.prototype._updateContent=function(){var e=this.displayMonth,i=ne.format,r=W,o=this._getShowMonthPicker();_n(this._spMth,i(e,this._fmtYrMo));var s=this._btnMth.querySelector(".wj-glyph-down");s&&(s.style.display=this._mthMode()||!o?"none":"");var l=K(this._btnTdy,".wj-btn-group");l&&(l.style.display=o?"":"none");for(var a=this._fdw!=null?this._fdw:ne.getFirstDayOfWeek(),u=r.addDays(e,-(e.getDay()-a+7)%7),c=r.monthLast(e),h=this._tbMth.querySelectorAll("td"),d=0;d<7&&d<h.length;d++){var f=r.addDays(u,d);_n(h[d],i(f,this._fmtDayHdr))}var p=this._tbMth.querySelectorAll("tr");for(d=1;d<p.length;d++)De(p[d]);var _=r.addDays(u,-7*this._wksBefore);for(d=0;d<this._wksBefore;d++)_=this._addWeek(_,"wj-week-before");for(;_<=c;)_=this._addWeek(_);for(d=0;d<this._wksAfter;d++)_=this._addWeek(_,"wj-week-after");for((h=this._tbYr.querySelectorAll("td")).length&&_n(h[0],i(e,this._fmtYr)),d=1;d<h.length;d++){_=r.newDate(e.getFullYear(),d-1,1);var w=h[d],m=!this._monthInValidRange(_);w[t._DATE_KEY]=_,_n(w,i(_,this._fmtMonths)),te(w,"wj-state-disabled",m),Ve(w,ne.format(_,"MMMM yyyy"))}},t.prototype._updateSelection=function(){for(var e=t._DATE_KEY,i=W,r=this._tbMth.querySelectorAll("td"),o=7;o<r.length;o++){var s=(d=r[o])[e],l=this.value,a=this.rangeEnd,u=this._selMode&&l!=null&&i.sameDate(s,l),c=this._selMode&&l!=null&&i.sameDate(s,a),h=this._selMode&&l!=null&&s>l&&a!=null&&s<=a;te(d,"wj-state-selected",u),te(d,"wj-state-multi-selected",h),te(d,"wj-state-last-selected",c),A(d,"aria-selected",!!u||null),this._customizeCell(o,s,d)}for(r=this._tbYr.querySelectorAll("td"),o=0;o<r.length;o++){var d;s=(d=r[o])[e],u=this._sameMonth(s,this.value),te(d,"wj-state-selected",u),A(d,"aria-selected",!!u||null)}},t.prototype._addWeek=function(e,i){for(var r=this._createElement("tr",this._tbMth,i),o=W,s=0;s<7;s++){var l=this._createElement("td",r),a=o.addDays(e,s);l[t._DATE_KEY]=a,_n(l,ne.format(a,this._fmtDay)),Ve(l,ne.format(a,"D"));var u=!this._valid(a),c=a.getDay(),h=a.getMonth()!=this.displayMonth.getMonth();te(l,"wj-day-today",o.sameDate(a,o.newDate())),te(l,"wj-day-weekend",c==0||c==6),te(l,"wj-day-othermonth",h||!this._inValidRange(a)||u),te(l,"wj-state-invalid",u)}return o.addDays(e,7)},t.prototype._customizeCell=function(e,i,r){if(ee(this.itemFormatter)&&this.itemFormatter(i,r),this.formatItem.hasHandlers){var o=new bc(e,i,r);this.onFormatItem(o)}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=Rt.None},t.prototype._valid=function(e){return!(!Me(e)||!W.sameDate(e,this._clamp(e)))&&(!ee(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){var i=W.fromDateTime;return!(this.min&&e<i(this.min,e))&&!(this.max&&e>i(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var i=e.getFullYear(),r=e.getMonth(),o=W,s=o.newDate(i,r,1),l=o.newDate(i,r+1,0);if(this.min&&this.min>l||this.max&&this.max<s)return!1}return!0},t.prototype._sameMonth=function(e,i){return Me(e)&&Me(i)&&e.getMonth()==i.getMonth()&&e.getFullYear()==i.getFullYear()},t.prototype._getValidDate=function(e,i){if(Me(e))for(var r=e.getFullYear(),o=e.getMonth()+(i?0:1),s=i?1:0,l=W,a=l.newDate(r,o,s),u=i?1:-1,c=0;c<31;c++){if(this._valid(a))return a;a=l.addDays(a,u)}return null},t.prototype._clamp=function(e){if(e){var i=W.fromDateTime;if(this.min){var r=i(this.min,e);e<r&&(e=r)}if(this.max){var o=i(this.max,e);e>o&&(e=o)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var i=oe.Calendar.ariaLabels;Ve(this._tbMth,i.calendar),Ve(this._tbYr,i.calendar),Ve(this._btnPrv,i.calendar),Ve(this._btnMth,i.monthView),Ve(this._btnPrv,i.prvMo),Ve(this._btnTdy,i.today),Ve(this._btnNxt,i.nxtMo);for(var r=this._createElement("tr",this._tbMth,"wj-header"),o=0;o<7;o++)this._createElement("td",r);r=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",r).setAttribute("colspan","4");for(var s=0;s<3;s++){r=this._createElement("tr",this._tbYr);for(var l=0;l<4;l++)this._createElement("td",r)}},t.prototype._createYearPicker=function(){var e=this,i=this.hostElement,r=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");r.tabIndex=this._orgTabIndex,this._lbYears=new Vr(r,{lostFocus:function(o){if(Zt(r),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),o.selectedIndex>-1){var s=W.clone(e.displayMonth);s.setFullYear(o.selectedIndex+o.itemsSource[0]),e.displayMonth=s}}}),this.addEventListener(r,"keydown",function(o){switch(o.keyCode){case x.Enter:i.focus();break;case x.Escape:e._lbYears.selectedIndex=-1,i.focus()}o.defaultPrevented&&o.stopPropagation()}),this.addEventListener(r,"click",function(o){i.focus()})},t.prototype._createElement=function(e,i,r){var o=document.createElement(e);return r&&ie(o,r),i&&i.appendChild(o),o},t.prototype._click=function(e){var i=this;if(!e.defaultPrevented&&e.button==0){var r=!1,o=e.target;if(q(this._btnMth,o)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,r=!0):q(this._btnPrv,o)?(this._navigate(-1),r=!0):q(this._btnNxt,o)?(this._navigate(1),r=!0):q(this._btnTdy,o)&&(this._navigate(0),r=!0),o&&!r&&this._yrPicker&&q(this._tbYr,o)&&K(o,".wj-header")){if(Date.now()-this._tmYrHidden<600){e.preventDefault();return}for(var s=this.displayMonth.getFullYear(),l=this.min?this.min.getFullYear():s-100,a=this.max?this.max.getFullYear():s+100,u=[],c=l;c<=a;c++)u.push(c);var h=this._lbYears,d=h.hostElement,f=K(o,".wj-header"),p=this.hostElement,_=K(p,".wj-inputdate-dropdown")||p;h.itemsSource=u,h.selectedIndex=s-u[0],A(d,"dir",this.rightToLeft?"rtl":null),H(d,{minWidth:"",width:f.offsetWidth}),Pn(d,f,!1,!1,_),requestAnimationFrame(function(){h.showSelection(!0)}),this.addEventListener(window,"touchstart",function(y){q(d,y.target)||(Zt(d),i._tmYrHidden=Date.now(),i.removeEventListener(window,"touchstart"))}),e.preventDefault();return}if(o&&!r){var w=K(o,"td");if(w){var m=this.hitTest(w),g=W.fromDateTime;if(this.monthView){if(m&&this._canChangeValue()){var v=g(m,this._value);this._inValidRange(v)&&this._valid(v)&&(this._rngMode()&&this.value&&!this.rangeEnd&&v>=this.value?this.rangeEnd=v:this.value=v),r=!0}}else m&&(this.displayMonth=m,this._mthMode()?this._canChangeValue()&&(v=g(this.displayMonth,this.value),this._inValidRange(v)&&(this.value=v)):this.monthView=!0,r=!0)}}r&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case x.Up:case x.Down:return;case x.End:this._navigate(0),e.preventDefault();return}if(!(e.ctrlKey||e.metaKey||e.shiftKey&&!this._rngMode())){var i=this._getKeyCode(e),r=0,o=0,s=!0;if(this.monthView)switch(i){case x.Left:r=-1;break;case x.Right:r=1;break;case x.Up:r=-7;break;case x.Down:r=7;break;case x.PageDown:o=e.altKey?12:1;break;case x.PageUp:o=e.altKey?-12:-1;break;case x.Home:case x.End:if(this._canChangeValue()&&!e.shiftKey){var l=this.value||this.displayMonth;(u=this._getValidDate(l,i==x.Home))&&(this.value=W.fromDateTime(u,this.value),this._rngEnd=null)}break;default:s=!1}else switch(i){case x.Left:o=-1;break;case x.Right:o=1;break;case x.Up:o=-4;break;case x.Down:o=4;break;case x.PageDown:o=e.altKey?120:12;break;case x.PageUp:o=e.altKey?-120:-12;break;case x.Home:o=this.value?-this.value.getMonth():0;break;case x.End:o=this.value?11-this.value.getMonth():0;break;case x.Enter:this._mthMode()?s=!1:this.monthView=!0;break;default:s=!1}if(this._canChangeValue()&&(r||o)){var a=e.shiftKey&&this.rangeEnd!=null?this.rangeEnd:this.value,u=W;if(a?(a=u.addDays(a,r),a=u.addMonths(a,o)):a=this._getValidDate(new Date,!0),o&&!this._valid(a)){l=a.getMonth();for(var c=1;c<31&&!this._valid(a);c++){var h=u.addDays(a,+c),d=u.addDays(a,-c);this._valid(h)&&h.getMonth()==l?a=h:this._valid(d)&&d.getMonth()==l&&(a=d)}}for(c=0;c<31&&!this._valid(a);c++)a=u.addDays(a,r>0||o>0?1:-1);e.shiftKey&&a>this.value?this.rangeEnd=a:this.value=a}s&&e.preventDefault()}}},t.prototype._getMonth=function(e){var i=W;return e=e||i.newDate(),i.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._mthMode=function(){return this.selectionMode==Rt.Month},t.prototype._rngMode=function(){return this.selectionMode==Rt.Range},t.prototype._navigate=function(e){var i=this.monthView,r=this.displayMonth,o=W;switch(e){case 0:var s=o.newDate();this._canChangeValue()&&(this.value=i?o.fromDateTime(s,this.value):this._getMonth(s)),r=this._getMonth(s);break;case 1:r=o.addMonths(r,i?1:12);break;case-1:r=o.addMonths(r,i?-1:-12)}this.displayMonth=r},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this._lbYears.tabOrder=this._orgTabIndex},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(M);Ei("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}});var oi;(function(n){n[n.Select=0]="Select",n[n.Open=1]="Open",n[n.Toggle=2]="Toggle"})(oi||(oi={}));var dn,Or=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._clickAction=oi.Select,r._showBtn=!0,r._autoExpand=!0,r._animate=!1,r._internalSettingText=!1,r._oldText="",r.textChanged=new P,r.isDroppedDownChanging=new P,r.isDroppedDownChanged=new P;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-dropdown",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),r._dropDown.style.display="none";var s=oe.DropDown.ariaLabels;Ve(r._btn.querySelector("button"),s.tgl);var l=r._elRef=r._tbx;El(l),r._createDropDown(),r._updateBtn();var a=r.hostElement;ie(a,"wj-state-collapsed"),r.addEventListener(window,"resize",function(){r.isDroppedDown&&r.invalidate()});var u=r.dropDown,c=r.addEventListener.bind(r),h=r._updateFocusState.bind(r);c(u,"blur",h,!0),c(u,"focus",h);var d=r._keydown.bind(r);c(a,"keydown",d),c(u,"keydown",d);var f=r._keypress.bind(r);return c(a,"keypress",f,!0),c(u,"keypress",f,!0),c(l,"input",function(){r._setText(r.text,!1)}),c(l,"blur",function(){r._commitText(!0)},!0),c(l,"click",function(){r._autoExpand&&r._expandSelection()}),c(l,"mousedown",function(p){switch(r._clickAction){case oi.Open:r.isDroppedDown||(p.preventDefault(),r.focus(),r.isDroppedDown=!0);break;case oi.Toggle:p.preventDefault(),r.focus(),r.isDroppedDown=!r.isDroppedDown}}),c(r._btn,"mousedown",function(p){r._btnclick(p)}),De(u),ge()&&r._elRef==r._tbx&&c(a,"mouseup",function(p){if(!p.defaultPrevented&&p.button==0&&de(p.target,"wj-btn")){var _=Z();_&&_!=p.target&&setTimeout(function(){_.focus()})}}),Qn()&&c(l,"keyup",function(){r._setText(r.text,!1)}),c(u,"click",r._dropDownClick.bind(r)),r}return Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=ye(e,oi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&e.style.display!="none"},set:function(e){var i=this,r=this.hostElement,o=this._dropDown,s=this.containsFocus();r&&o&&(e=k(e)&&!this.isDisabled&&!this.isReadOnly&&r.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new we)&&(e?(this._minWidthDropdown=o.style.minWidth,o.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",function(l){for(var a=l.target;a;){if(a==r)return;a=a[M._OWNR_KEY]||a.parentNode}M._touching=!0,i.isDroppedDown=!1,M._touching=!1})):(this.removeEventListener(window,"touchstart"),Zt(o),o.style.minWidth=this._minWidthDropdown),s&&(this.isTouching&&this.showDropDownButton?r.focus():this.selectAll()),this._updateFocusState(),te(r,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(kt(this._dropDown,this._cssClass),this._cssClass=L(e),ie(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=k(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=k(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&J(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(e){this.isTouching||q(this._dropDown,Z())||this.selectAll(),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,n.prototype.onLostFocus.call(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this.isDroppedDown&&q(this._dropDown,e)},t.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){this._dropDown=null,De(e);var i=M.getControl(e);i&&i.dispose()}n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e);var i=this.hostElement;if(i&&i.offsetHeight&&this.isDroppedDown){var r=Z();this.isAnimated&&this._dropDown.style.opacity!=""||Pn(this._dropDown,i,!1,!1,this.dropDownCssClass==null),r instanceof HTMLElement&&r!=Z()&&r.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,i=e.value,r=e.selectionStart,o=e.selectionEnd;if(i&&r==o){var s=this._getCharType(i,r);if(s>-1){for(;o<i.length&&this._getCharType(i,o)==s;o++);for(;r>0&&this._getCharType(i,r-1)==s;r--);r!=o&&J(e,r,o)}}},t.prototype._getCharType=function(e,i){var r=e[i];return r>="0"&&r<="9"?0:r>="a"&&r<="z"||r>="A"&&r<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented&&!this._isHiddenEditor()){switch(e.keyCode){case x.Tab:case x.Escape:case x.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==x.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case x.F4:case x.Up:case x.Down:if(e.keyCode==x.F4||e.altKey){var i=this.hostElement;i&&i.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}if(!e.defaultPrevented&&e.keyCode==x.Escape&&ge()){var r=this._tbx;if(e.target==r){var o=r.value;r.value=o+" ",r.value=o}}}},t.prototype._isHiddenEditor=function(){return de(this._tbx,"wj-grid-ime")},t.prototype._keypress=function(e){e.code!="AltLeft"&&e.code!="AltRight"||e.preventDefault()},t.prototype._btnclick=function(e){!e.defaultPrevented&&e.button==0&&(e.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(e,i){(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this._internalSettingText||this.onTextChanged()),this._updateState()},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(e){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;A(e,"dir",this.rightToLeft?"rtl":null),Pn(e,this.hostElement,!1,this._animate,this.dropDownCssClass==null)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(M),Be;(function(n){n[n.None=0]="None",n[n.ClickOwner=1]="ClickOwner",n[n.ClickPopup=2]="ClickPopup",n[n.Click=3]="Click",n[n.BlurOwner=4]="BlurOwner",n[n.BlurPopup=8]="BlurPopup",n[n.Blur=12]="Blur",n[n.ClickOrBlur=15]="ClickOrBlur",n[n.DownOwner=16]="DownOwner",n[n.DownPopup=32]="DownPopup",n[n.Down=48]="Down",n[n.EnterOwner=64]="EnterOwner",n[n.EnterPopup=128]="EnterPopup",n[n.Enter=192]="Enter",n[n.LeaveOwner=256]="LeaveOwner",n[n.LeavePopup=512]="LeavePopup",n[n.Leave=768]="Leave"})(Be||(Be={}));(function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=4]="Right",n[n.Bottom=8]="Bottom",n[n.LeftTop=3]="LeftTop",n[n.RightTop=6]="RightTop",n[n.RightBottom=12]="RightBottom",n[n.LeftBottom=9]="LeftBottom"})(dn||(dn={}));var Qv=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._owner=null,r._modal=!1,r._position=on.BelowLeft,r._showTrigger=Be.ClickOwner,r._hideTrigger=Be.Blur,r._hideAnim=[],r._fadeIn=!0,r._fadeOut=!0,r._removeOnHide=!0,r._draggable=!1,r._resizable=!1,r._result=null,r._resultEnter=null,r._resultSubmit=null,r._callback=null,r._visible=!1,r._ownerClickBnd=r._ownerClick.bind(r),r._ownerDownBnd=r._ownerDown.bind(r),r._ownerBlurBnd=r._ownerBlur.bind(r),r._ownerEnterBnd=r._ownerEnter.bind(r),r._ownerLeaveBnd=r._ownerLeave.bind(r),r._mousedownBnd=r._mousedown.bind(r),r._mousemoveBnd=r._mousemove.bind(r),r._mousedragBnd=r._mousedrag.bind(r),r._mouseupBnd=r._mouseup.bind(r),r._hideBnd=r.hide.bind(r),r._lastShow=0,r.showing=new P,r.shown=new P,r.hiding=new P,r.hidden=new P,r.resizing=new P,r.resized=new P,r.dragging=new P,r.dragged=new P,r.sizeChanging=new P,r.sizeChanged=new P,r.positionChanging=new P,r.positionChanged=new P;var o=r.hostElement;ie(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),Zt(o,!1);var s=r.addEventListener.bind(r);s(o,"compositionstart",function(){r._composing=!0}),s(o,"compositionend",function(){r._composing=!1}),s(window,"resize",function(){!r.isVisible||r._dragged||r.isTouching||r.invalidate()}),s(o,"keydown",function(u){if(!u.defaultPrevented){if(u.keyCode==x.Escape&&!r._composing&&(u.preventDefault(),r.hide()),u.keyCode==x.Enter&&!r._composing){var c=r.dialogResultEnter;c&&(u.preventDefault(),r._validateAndHide(c))}u.keyCode==x.Tab&&r.modal&&(u.preventDefault(),fo(o,u.shiftKey?-1:1))}}),s(o,"click",function(u){var c=u.target;if(c instanceof HTMLElement){if(c instanceof HTMLButtonElement&&c.type=="submit"){var h=r.hostElement,d=r.dialogResultSubmit;h instanceof HTMLFormElement&&d&&h.reportValidity()&&(u.preventDefault(),r.hide(d))}var f=c.className.match(/\bwj-hide[\S]*\b/);f&&f.length>0&&(u.preventDefault(),u.stopPropagation(),r.hide(f[0]))}});var l=r._toggle.bind(r),a=Be;return r.addEventListener(o,"click",function(u){r._ignoreClick||l(u,a.ClickPopup)},!0),r.addEventListener(o,"mousedown",function(u){r._ignoreClick=!1,l(u,a.DownPopup)},!0),r.addEventListener(o,"mouseenter",function(u){u.target==o&&l(u,a.EnterPopup)},!0),r.addEventListener(o,"mouseleave",function(u){u.target==o&&l(u,a.LeavePopup)},!0),r.addEventListener(o,"blur",function(u){r.containsFocus()||l(u,a.BlurPopup)},!0),s(document,"wheel",function(u){if(r.isVisible&&r._modal){for(var c=u.target;c&&c!=document.body;c=c.parentElement)if(c.scrollHeight>c.clientHeight)return;u.preventDefault()}}),r.initialize(i),r}return Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var i=this._owner;i&&(this.removeEventListener(i,"click"),this.removeEventListener(i,"mousedown"),this.removeEventListener(i,"mouseenter"),this.removeEventListener(i,"mouseleave"),this.removeEventListener(i,"blur")),(i=this._owner=e!=null?Un(e):null)&&(this.addEventListener(i,"click",this._ownerClickBnd,!0),this.addEventListener(i,"mousedown",this._ownerDownBnd,!0),this.addEventListener(i,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(i,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(i,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=ye(e,on)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=ye(e,Be)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=ye(e,Be)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){if((e=k(e))!=this.removeOnHide&&(this._removeOnHide=e,!this.isVisible)){var i=this.hostElement;e?De(i):i&&document.body&&(i.style.display="none",document.body.appendChild(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&e!=null&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,i){var r=this;if(this._lastShow=Date.now(),!this.isVisible){var o=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach(function(l){clearInterval(l)}),this._hideAnim.length>0&&(this._hideAnim.length=0,this._bkDrop&&(Zt(this._bkDrop,this.removeOnHide),this._bkDrop.style.opacity=""),Zt(o,this.removeOnHide),o.style.opacity="");var s=new we;this.onShowing(s)&&(e!=null&&(this.modal=k(e)),i!=null&&(this._callback=ke(i)),this._oldFocus=Z(),Pn(o,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(s),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",function(){if(!r.containsFocus()){var l=r._myFocus;l&&l.offsetHeight?l.focus():fo(o,0)}}),this.addEventListener(o,"focusin",function(){var l=Z();l&&q(o,l)&&(l.tabIndex>-1||!r._myFocus)&&(r._myFocus=l)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(l){r._hideTrigger&Be.Blur&&!q(o,l.target,!0)&&r.hide()}),setTimeout(function(){r.addEventListener(window,"click",function(l){r._hideTrigger&Be.BlurPopup&&r.isDisabled&&!q(o,l.target,!0)&&r.hide()})}),setTimeout(function(){if(!r.isDisabled&&!r.containsFocus()&&!r.isTouching){var l=o.querySelector("[autofocus]");l&&l.clientHeight>0&&!l.disabled&&l.tabIndex>-1&&!K(l,"[disabled],.wj-state-disabled")?(l.focus(),ee(l.select)&&l.select()):fo(o,0)}!r.isDisabled&&!r.containsFocus()&&(o.tabIndex=0,o.focus())},100))}},t.prototype.hide=function(e){var i=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){Vn(e)||(this.dialogResult=e);var r=new we,o=this.hostElement;if(this.onHiding(r)){for(var s=this.containsFocus()?this._oldFocus:null,l=o.querySelectorAll(".wj-control.wj-dropdown"),a=0;a<l.length;a++){var u=M.getControl(l[a]);u instanceof Or&&(u.isDroppedDown=!1)}var c=this.removeOnHide,h=this.fadeOut;setTimeout(function(){if(i._updateState(),i.onHidden(r),i._callback&&i._callback(i),i.hideTrigger&Be.LeavePopup){var d=M.getControl(K(i.owner,".wj-popup"));if(d instanceof t&&d.hideTrigger&Be.Leave){var f=t._evtHover,p=f?document.elementFromPoint(f.clientX,f.clientY):null,_=M.getControl(K(p,".wj-popup"));_ instanceof t&&!_.isVisible&&(p=null),p&&q(d.hostElement,p,!0)||d.hide()}}},M._FOCUS_INTERVAL+50),this._bkDrop&&this._hideAnim.push(Zt(this._bkDrop,c,h)),this._hideAnim.push(Zt(o,c,h)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(o,"focusin"),this.containsFocus()&&Z().blur(),this._clearTimeouts(),!this.isVisible&&s&&s.offsetHeight&&s.focus()}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(e){if(n.prototype.onLostFocus.call(this,e),this._hideTrigger&Be.BlurPopup&&!this.containsFocus()){var i=document.createEvent("Event");i.initEvent("blur",!0,!0),this._toggle(i,Be.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0);var i=this.hostElement;if(n.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing&&i){this._refreshing=!0;for(var r=Z(),o=this._owner?this._owner.getBoundingClientRect():null,s=[],l=i.querySelectorAll(".wj-dropdown"),a=0;a<l.length;a++){var u=M.getControl(l[a]);u instanceof Or&&u.isDroppedDown&&(s.push(u),u.dropDown.style.display="none")}Pn(i,o,this._position),s.forEach(function(c){c.dropDown.style.display="",c._updateDropDown()}),this._modal&&r instanceof HTMLElement&&r!=Z()&&r.focus(),this._refreshing=!1}},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},t.prototype._handleDragResize=function(e){var i=this.hostElement,r=this._draggable?this._getHeaderElement():null,o=this.addEventListener.bind(this),s=this.removeEventListener.bind(this),l=this._mousemoveBnd,a=this._mousedownBnd;e?(o(i,"mousemove",l),o(i,"mousedown",a),o(i,"touchstart",a),r&&(r.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,s(i,"mousemove",l),s(i,"mousedown",a),s(i,"touchstart",a),s(document,"mousemove",this._mousedragBnd),s(document,"mouseup",this._mouseupBnd),r&&(r.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var i=this.hostElement,r=this._getEdges(i,e),o="",s=dn;this._edges=r,this._resizable&&(r==s.LeftTop||r==s.RightBottom?o="nwse-resize":r==s.LeftBottom||r==s.RightTop?o="nesw-resize":r==s.Left||r==s.Right?o="ew-resize":r!=s.Top&&r!=s.Bottom||(o="ns-resize")),this._draggable&&!o&&this._getClosestHeader(e.target)&&(o="move"),i.style.cursor=o}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var i=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,i),this._edges||this._draggable&&this._getClosestHeader(e.target)){var r=new we;if(this._edges?this.onResizing(r):this.onDragging(r)){this._mousedownEvt=i,this._rcBounds=this.hostElement.getBoundingClientRect();var o=this.addEventListener.bind(this),s=document,l=this._mousedragBnd,a=this._mouseupBnd;o(s,"mousemove",l),o(s,"touchmove",l),o(s,"mouseup",a),o(s,"touchend",a)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),i=document,r=this._mousedragBnd,o=this._mouseupBnd;e(i,"mousemove",r),e(i,"touchmove",r),e(i,"mouseup",o),e(i,"touchend",o),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var i=this.hostElement,r=this._mousedownEvt,o=e.touches&&e.touches.length>0?e.touches[0]:e,s=o.clientX-r.clientX,l=o.clientY-r.clientY,a=this._rcBounds,u=this._edges,c=t._SZ_MIN,h=yt.fromBoundingRect(a);if(u){if(u&dn.Left?(h.left=a.left+s+(o.pageX-o.clientX),h.width=Math.max(a.width-s,c)):u&dn.Right&&(h.left=a.left,h.width=Math.max(a.width+s,c)),u&dn.Top?(h.top=a.top+l+(o.pageY-o.clientY),h.height=Math.max(a.height-l,c)):u&dn.Bottom&&(h.top=a.top,h.height=Math.max(a.height+l,c)),this.onSizeChanging(new fu(h))&&(H(i,{left:h.left,top:h.top,width:h.width,height:h.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var d=this.hostElement.children,f=0;f<d.length;f++)M.invalidateAll(d[f])}else this._draggable&&(this._dragged||Math.abs(s)+Math.abs(l)>t._DRAG_THRESHOLD)&&(h.left=Math.max(a.left+s+(o.pageX-o.clientX),50-a.width),h.top=Math.max(a.top+l+(o.pageY-o.clientY),0),this.onPositionChanging(new fu(h))&&(H(i,{left:h.left,top:h.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,i){var r=0;if(this._resizable){var o=e.getBoundingClientRect(),s=t._SZ_EDGE;i.clientX-o.left<s&&(r|=dn.Left),i.clientY-o.top<s&&(r|=dn.Top),o.right-i.clientX<s&&(r|=dn.Right),o.bottom-i.clientY<s&&(r|=dn.Bottom)}return r},t.prototype._ownerClick=function(e){this._toggle(e,Be.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,Be.DownOwner)},t.prototype._ownerBlur=function(e){q(this._owner,Z())||this._toggle(e,Be.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,Be.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,Be.LeaveOwner)},t.prototype._toggle=function(e,i){var r=this;if(e instanceof MouseEvent&&(t._evtHover=e),!(e.type=="mouseenter"&&Date.now()-this._lastShow<300||e.defaultPrevented)){var o=(this._hideTrigger&i)!=0,s=(this._showTrigger&i)!=0,l=Be;(o||s)&&this._clearTimeouts(),o&&this.isVisible&&(i&l.Leave?this._toHideLeave=setTimeout(function(){var a=t._evtHover,u=a?document.elementFromPoint(a.clientX,a.clientY):null;u&&q(r.hostElement,u,!0)||r.hide()},M._LEAVE_DELAY):i&l.Blur?this._toHideBlur=setTimeout(function(){r.containsFocus()||q(r._owner,Z())||r.hide()},M._FOCUS_INTERVAL+50):this.hide()),s&&i!=l.ClickPopup&&(this._wasVisible||(i&l.Enter?this._toShow=setTimeout(function(){r.show()},M._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return K(e,".wj-dialog-header")||K(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,ie(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",function(r){r.preventDefault(),r.stopPropagation(),e.hostElement.focus(),e.hideTrigger&Be.Blur&&e.hide()})),H(this._bkDrop,{zIndex:M._POPUP_ZINDEX,display:""});var i=this.hostElement;i.parentElement.insertBefore(this._bkDrop,i)},t.prototype._validateAndHide=function(e){var i=this.hostElement;if(i instanceof HTMLFormElement)i.reportValidity()&&this.hide(e);else{var r=this.hostElement.querySelector(":invalid");r?r.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(M),fu=function(n){Ke(t,n);function t(e){var i=n.call(this)||this;return i._rc=e,i}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(we),Cc=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._fmt="d",r._sep=" - ",r._rngs=null,r._showCal=!1,r._clsOnSel=!0,r._handleWheel=!0,r._clicked=!1,r._rangeChanged=!1,r._textInitialized=!1,r.valueChanged=new P,r.rangeEndChanged=new P,r.rangeChanged=new P,ie(r.hostElement,"wj-inputdate"),r._msk=new Br(r._tbx),Qn()||(r.inputType="tel"),r._tbx.type.match(/^(tel|text|)$/i)||(r.inputType="text"),r.addEventListener(r.hostElement,"wheel",function(u){if(r.handleWheel&&!u.defaultPrevented&&!r.isDroppedDown&&r.containsFocus()&&r.value!=null&&r._canChangeValue()){var c=ce(-u.deltaY,-1,1),h=r.value;r.value=r.selectionMode==Rt.Month?W.addMonths(h,c):W.addDays(h,c),r.selectAll(),u.preventDefault()}});var o=r._lbx=new Vr(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(u){var c=u.selectedItem,h=W.fromDateTime;if(c&&c.from&&c.to){var d=r.value;r.value=h(c.from,d),r.rangeEnd=h(c.to,d),r._selectAll()}else r._cal.hostElement.style.display=""}}),s=r._cal=new $p(document.createElement("div")),l=r._dropDown;if(ie(l,"wj-inputdate-dropdown"),l.appendChild(o.hostElement),l.appendChild(s.hostElement),r.addEventListener(l,"click",function(){r._clicked=!0,setTimeout(function(){r._clicked=!1},50)},!0),r._orgTag=="INPUT"){var a=r._tbx.getAttribute("value");a&&(s.value=s.rangeEnd=ne.parseDate(a,"yyyy-MM-dd"))}return r.isRequired=!0,r._tbx.value=r._oldText=r._getText(),r.initialize(i),r._textInitialized&&r._tbx.value!==r._oldText&&(r._oldText=r._tbx.value,r._commitText()),r._updateState(),s.valueChanged.addHandler(function(u,c){r._refreshText(),r.onValueChanged(c),r._closeOnChange()}),s.rangeEndChanged.addHandler(function(u,c){s._rngMode()&&(r.onRangeEndChanged(c),r._closeOnChange(),s._clearingRangeEnd||r._refreshText())}),s.hostElement.addEventListener("click",function(u){if(s.selectionMode&&!s._rngMode()){var c=u.target,h=s.hitTest(c);(W.sameDate(r.value,h)||K(c,"[wj-part=btn-today]"))&&(r._closeOnChange(),r._refreshText())}}),r}return Object.defineProperty(t.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){var i=(e||"").toString();i!=this.text&&(i!=this._tbx.value&&(this._tbx.value=i),i!=this._oldText&&(this._oldText=i),this._commitText(),this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){e!=this.format&&(this._fmt=L(e),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._sep},set:function(e){e!=this._sep&&(this._sep=L(e,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(e){this._clsOnSel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){e=k(e),this._handleWheel=e,e||(this.calendar.handleWheel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(e){this._rngs!=e&&(B(e==null||rt(e),"Object expected"),this._rngs=e,this._lbx.itemsSource=this._getRanges(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(e){this._showCal=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._cal.min},set:function(e){this._cal.min=zt(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._cal.max},set:function(e){this._cal.max=zt(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(e){this._cal.repeatButtons=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this._refreshText(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(e){e!=this.itemValidator&&(this._cal.itemValidator=ke(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(e){this._cal.itemFormatter=ke(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))},t.prototype.onRangeChanged=function(e){this._rangeChanged=!1,this.rangeChanged.raise(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},t.prototype.onIsDroppedDownChanging=function(e){if(this.isDroppedDown)(r=this._cal)._rngMode()&&r.value&&!r.rangeEnd&&(r.rangeEnd=r.value);else{var i=this._lbx,r=this._cal,o=i.collectionView,s=i.hostElement.style,l=r.hostElement.style;if(r._rngMode()&&Ue(o)){var a=this._updateRangeSelection();s.display="",l.display=!this._showCal&&a&&a.from&&o.items.some(function(u){return!u.to})?"none":""}else s.display="none",l.display="";r._mthMode()||(r.monthView=!0)}return n.prototype.onIsDroppedDownChanging.call(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e);var i=this.containsFocus();this.isDroppedDown?(i&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},t.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),n.prototype._updateDropDown.call(this)},t.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)){if(this._isHiddenEditor())return;switch(e.keyCode){case x.Enter:this.isDroppedDown?this._refreshText():this._commitText();break;case x.Escape:this.text=this._getText(),this.selectAll();break;case x.Tab:if(this._cal._rngMode()){var i=this._tbx,r=this._sep,o=i.value,s=o.indexOf(r);if(s>-1){var l=o.length,a=i.selectionStart,u=i.selectionEnd,c=null;i.selectionEnd<=s&&!e.shiftKey?c=a==0&&u==0:e.shiftKey&&i.selectionStart>=s+r.length&&(c=a<l||u<l),c!=null&&(c?J(i,0,s):J(i,s+r.length,l),e.preventDefault())}}break;case x.Up:case x.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var h=e.keyCode==x.Up?1:-1,d=this.selectionMode==Rt.Month?W.addMonths(this.value,h):W.addDays(this.value,h);this.value=this._fromDateTime(d),this.selectAll(),e.preventDefault()}}}n.prototype._keydown.call(this,e)},t.prototype._expandSelection=function(){if(this._cal._rngMode()){var e=this._tbx,i=e.value,r=e.selectionStart,o=e.selectionEnd,s=this._sep,l=i.indexOf(s);l>-1&&r==o&&(o<=l?J(e,0,l):r>=l+s.length&&J(e,l+s.length,e.value.length))}else n.prototype._expandSelection.call(this)},t.prototype._refreshText=function(){var e=this._getText();e!=this.text&&(this._tbx.value=this._oldText=e,this.onTextChanged())},t.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},t.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var i=this._cal;(!i._rngMode()||i.value&&i.rangeEnd)&&setTimeout(function(){e.isDroppedDown=!1})}},t.prototype._tryFocus=function(e){var i=e.hostElement;return i&&i.offsetHeight?(i.focus(),!0):!1},t.prototype._clamp=function(e){return this._cal._clamp(e)},t.prototype._getText=function(){var e=ne.format,i=this._fmt,r=e(this.value,i);return this._cal._rngMode()&&r&&(r+=this._sep+e(this.rangeEnd,i)),r},t.prototype._commitText=function(e){var i=this._tbx.value;if(i!=this._getText()){var r=!1,o=this._fmt,s=this._cal,l=ne.parseDate;if(i||this.isRequired)if(s._rngMode()){var a=i.split(this._sep);if(a.length==2&&a[0]&&(c=l(a[0],o,this.value))){var u=l(a[1],o,this.value);s.value=this._fromDateTime(c),s.rangeEnd=u&&u>=c?this._fromDateTime(u):c,r=!0}}else{var c;(c=l(i,o,this.value))&&(this.value=this._fromDateTime(c),r=!0)}else this.value=this.rangeEnd=null,r=!0;(r||!this._containsFocus()&&this.onInvalidInput(new we))&&(this.text=this._getText())}e||this._selectAll()},t.prototype._fromDateTime=function(e){return W.fromDateTime(e,this.value)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=Rt.None},t.prototype._isValidDate=function(e){return!(e&&(this._clamp(e)!=e||this.itemValidator&&!this.itemValidator(e)))},t.prototype._getRanges=function(e){var i=[];if(rt(e))for(var r in e){var o=e[r];i.push({name:r,from:o?o[0]:null,to:o?o[1]:null})}return new rn(i,{currentItem:null})},t.prototype._updateRangeSelection=function(){var e=this._lbx,i=-1;if(Ue(e.collectionView))for(var r=this._lbx.collectionView.items,o=W.sameDate,s=0;s<r.length;s++){var l=r[s];if(l.from){if(o(l.from,this.value)&&o(l.to,this.rangeEnd)){i=s;break}}else i=s}return e.selectedIndex=i,e.selectedItem},t.prototype._copy=function(e,i){if(e==="text"){var r=(i||"").toString();return r!==this.text&&(this._tbx.value=r,this._textInitialized=!0),!0}return!1},t}(Or),Jv=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e,{selectionMode:Rt.Range,showMonthPicker:"Outside",monthCount:2})||this;return ie(r.hostElement,"wj-inputdaterange"),r._tbx.value=r._oldText=r._getText(),r.initialize(i),r._tbx.value!==r._oldText&&(r._oldText=r._tbx.value,r._commitText()),r}return Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){e=ye(e,Rt),B(e==Rt.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),t}(Cc),Zv=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;return r.valueChanged=new P,ie(r.hostElement,"wj-inputcolor"),r._ePreview=_e('<div class="wj-inputcolorbox"></div>',r.hostElement.firstElementChild),r._orgTag=="INPUT"&&(r._tbx.type="",r._commitText()),r.value="#ffffff",r.isRequired=!0,r.initialize(i),r._commitText(),r.addEventListener(r._colorPicker.hostElement,"click",function(o){var s=o.target;s&&s.tagName=="DIV"&&(K(s,'[wj-part="div-pal"]')||K(s,'[wj-part="div-pv"]'))&&s.style.backgroundColor&&(r.isDroppedDown=!1)}),r}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){(e=L(e))!=this.text&&(e||!this.isRequired)&&(!e||mt.fromString(e))&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new Yp(this._dropDown),H(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){e.value=e._colorPicker.value})},t.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case x.Enter:this._commitText(),this.selectAll();break;case x.Escape:this.text=this.value,this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text,this._ePreview.style.backgroundColor="",this.onValueChanged();return}if(mt.fromString(this.text)){var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new we)&&(this.text=this._value?this._value:"")}},t.prototype._copy=function(e,i){if(e==="text"){var r=(i||"").toString();return r!==this.text&&(this._tbx.value=r),!0}return!1},t}(Or),Vo=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._editable=!1,r._trimText=!0,r._handleWheel=!0,r._delKey=0,r._pathHdr=new st(null),r._bsCollapse=!0,r._fmtItemHandlers=0,r.itemsSourceChanged=new P,r.selectedIndexChanged=new P;var o=r.hostElement;ie(o,"wj-combobox"),r.dropDown.id=gc(o.id+"_dropdown"),r.autoExpandSelection=!1;var s=r._tbx;r.addEventListener(s,"compositionstart",function(){r._composing=!0}),r.addEventListener(s,"compositionend",function(){r._composing=!1,r._setText(r.text,!0)}),r.addEventListener(o,"wheel",r._wheel.bind(r)),r._orgTag=="SELECT"&&r._lbx._initFromSelect(o);var l=r._lbx;return l.loadedItems.addHandler(function(a){r.selectedIndex>-1&&(r.selectedIndex=l.selectedIndex)}),r.isRequired=!0,r.initialize(i),r}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=L(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=k(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=k(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=ke(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&ue(e)&&(this._lbx.selectedIndex=e),e=this.selectedIndex;var i=this.getDisplayText(e);if(this.text!=i){var r=this._internalSettingText;this._internalSettingText=this._lbx._ignoredItemChangedEvents,this._setText(i,!0),this._internalSettingText=r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:e!=null&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,i=e?parseInt(e.style.maxWidth):null;return isNaN(i)?null:i},set:function(e){var i=this._dropDown.style;e=j(e,!0),i.maxWidth=e==null?"":e+"px",i.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,i){e===void 0&&(e=this.selectedIndex),i===void 0&&(i=this._trimText);var r,o=this.collectionView;if(this.headerPath&&e>-1&&Ue(o)){var s=o.items[e];r=(r=s?this._pathHdr.getValue(s):null)!=null?r.toString():"",this.isContentHtml&&(r=Sn(r))}else r=this._lbx.getDisplayText(e);return i?r.trim():r},t.prototype.indexOf=function(e,i){var r=this.collectionView,o=this.caseSensitiveSearch;if(Ue(r)&&e!=null){e=e.toString(),o||(e=e.toLowerCase()),this._trimText&&(e=e.trim());var s=this.selectedIndex,l=this.getDisplayText(s);if(i){if(o||(l=l.toLowerCase()),e==l)return s}else if(!e&&l=="")return s;for(var a=0;a<r.items.length;a++)if(this._lbx.isItemEnabled(a)){if(l=this.getDisplayText(a),o||(l=l.toLowerCase()),i){if(l==e)return a}else if(e&&l.indexOf(e)==0||!e&&l=="")return a}}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&Ue(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&Ue(this.collectionView)&&(this.selectedIndex=0),n.prototype.onLostFocus.call(this,e)},t.prototype.onIsDroppedDownChanging=function(e){return!this.isDroppedDown&&!this._hasItems()?(e.cancel=!0,!1):n.prototype.onIsDroppedDownChanging.call(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateBtn()},t.prototype._updateBtn=function(){var e=this.collectionView,i=this._tbx,r=this._hasItems();n.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&e!=null?"":"none",It(this._btn,r&&!this.isDisabled),A(i,"role",r?"combobox":null),A(i,"aria-autocomplete",r?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Ue(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,i=this.isDroppedDown,r=this.dropDown?this.dropDown.id:null,o=r&&Ue(this.collectionView);A(e,"aria-owns",o&&i?r:null),A(e,"aria-expanded",o?i:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new Vr(this._dropDown),this._lbx._container=this.hostElement),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn();var i=e._lbx.selectedIndex,r=e._lbx.hostElement.children,o=i>-1&&i<r.length?r[i].id:null;A(e._tbx,"aria-activedescendant",o&&o.length?o:null),e.selectedIndex=i,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()})},t.prototype._wheel=function(e){if(this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var i=this._findNext("",e.deltaY>0?1:-1);i>-1&&(this.selectedIndex=i),e.preventDefault()}},t.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),n.prototype._dropDownClick.call(this,e)},t.prototype._setText=function(e,i){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var r=this.formatItem.handlerCount;this._fmtItemHandlers!=r&&(this._fmtItemHandlers=r,this._lbx.loadList())}e==null&&(e=""),e=e.toString();var o=this.selectedIndex,s=this.collectionView,l=this._getSelStart(),a=-1,u=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(i=!0,u=!1),o=this.indexOf(e,i),u&&(o<0&&i&&(o=this.indexOf(e,!1)),o<0&&l>0&&(o=this.indexOf(e.substr(0,l),!1))),o<0&&!this.isEditable&&Ue(s)&&(this.isRequired||e)){var c=this._oldText||"";o=Math.max(0,this.indexOf(c,!1)),l=0;for(var h=0;h<e.length&&h<c.length;h++)if(e[h]!=c[h]){l=h;break}}o>-1&&(a=l,e=this.getDisplayText(o));var d=this._tbx;e!=d.value&&(d.value=e),a>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(a),s&&s.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,n.prototype._setText.call(this,e,i)}},t.prototype._findNext=function(e,i,r){r===void 0&&(r=this.selectedIndex);var o=this.collectionView,s=o?o.items.length:0,l=this._lbx,a=this.caseSensitiveSearch;if(o&&s&&i){a||(e=e.toLowerCase());for(var u=r+i;u>-1&&u<s;u+=i){var c=this.getDisplayText(u);if(a||(c=c.toLowerCase()),c.indexOf(e)==0&&(!this.dropDown.children[u]||l.isItemEnabled(u)))return u}}return r},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&Ue(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var i=this._getSelStart();switch(e.keyCode){case x.Back:if(this._bsCollapse&&!this.isEditable){var r=this._getSelEnd();i>0&&r==this._tbx.value.length&&Ue(this.collectionView)&&this._setSelRange(i-1,r)}this._delKey=e.keyCode;break;case x.Delete:this._delKey=e.keyCode;break;case x.Up:case x.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),e.keyCode==x.Up?-1:1),this._setSelRange(i,this.text.length),e.preventDefault();break;case x.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case x.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}}},t.prototype._updateInputSelection=function(e){var i=this._tbx;this._elRef==i&&this._setSelRange(e,i.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,i){var r=this._tbx;this._elRef!=r||r.readOnly||J(r,e,i)},t}(Or);Ei("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var ey=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;return r._maxHdrItems=2,r._readOnly=!1,r._hdrFmt=null,r.checkedItemsChanged=new P,ie(r.hostElement,"wj-multiselect"),r._tbx.readOnly=!0,r.checkedMemberPath=null,r.removeEventListener(r.dropDown,"click"),r._lbx.itemsChanged.addHandler(function(){r._updateHeader(!1)}),r._lbx.checkedItemsChanged.addHandler(function(){r._updateHeader(!1),r.onCheckedItemsChanged()}),r.clickAction=oi.Toggle,r.initialize(i),r}return Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=k(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=j(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=L(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=ke(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=e==null?[]:gt(e),this._updateHeader()},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this._lbx.dispose(),n.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(e){var i=this;n.prototype.onIsDroppedDownChanged.call(this,e),setTimeout(function(){if(i.isDroppedDown&&i.containsFocus())if(i.showFilterInput&&!i.isTouching)i._msLbx._filter.focus();else{var r=i.listBox;if(r.selectedIndex<0){var o=0,s=r.checkedItems;s.length&&(o=r.collectionView.items.indexOf(s[0])),r.selectedIndex=Math.max(0,o)}r.showSelection(!0),r.focus()}})},t.prototype._createDropDown=function(){var e=_e("<div></div>",this._dropDown);this._msLbx=new qp(e),this._lbx=this._msLbx.listBox,n.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,i){},t.prototype._keydown=function(e){n.prototype._keydown.call(this,e),de(this._tbx,"wj-grid-ime")||!e.defaultPrevented&&Ue(this.collectionView)&&e.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._hasItems=function(){var e=this.collectionView,i=e?e.sourceCollection:null;return Ue(e)||i&&i.length&&this.showFilterInput},t.prototype._updateHeader=function(e){e===void 0&&(e=!0);var i="";if(ee(this._hdrFormatter))i=this._hdrFormatter(this);else{var r=this.checkedItems;if(r.length>0)if(r.length<=this._maxHdrItems){if(this.headerPath){var o=new st(this.headerPath);r=r.map(function(a){return o.getValue(a)})}else if(this.displayMemberPath){var s=new st(this.displayMemberPath);r=r.map(function(a){return s.getValue(a)})}this.isContentHtml&&(r=r.map(function(a){return Sn(a)})),this.trimText&&(r=r.map(function(a){return a?a.toString().trim():""})),i=r.join(", ")}else i=Nr(this.headerFormat||oe.MultiSelect.itemsSelected,{count:r.length})}var l=this.inputElement;i!=l.value&&(l.value=i,this.onTextChanged()),e&&this._lbx._updateCheckedList(this.checkedItems),this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(Vo),ty=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;r._closing=!1,r._cmd=null,r._cmdPath=null,r._cmdParamPath=null,r._subPath=null,r._owner=null,r._isButton=!1,r._openOnHover=!1,r._closeOnLeave=!0,r._subMenu=null,r._hoverEnterBnd=r._hoverEnter.bind(r),r._hoverLeaveBnd=r._hoverLeave.bind(r),r._hoverOverBnd=r._hoverOver.bind(r),r.itemClicked=new P;var o=r.hostElement,s=r._tbx,l=r._lbx,a=r.dropDown;return ie(o,"wj-menu"),s.style.display="none",r._hdr=r._elRef=_e('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(r._hdr,r._tbx),o.tabIndex=r.isDisabled?-1:r._orgTabIndex,r.isRequired=!1,A(o,"role","menubar",!0),A(s,"role",null),A(s,"aria-autocomplete",null),A(s,"aria-owns",null),A(a,"role","menu"),l.itemRole="menuitem",r._orgTag=="SELECT"&&(r.header=o.getAttribute("header"),r._lbx.itemsSource&&(r.commandParameterPath="cmdParam")),r.isContentHtml=!0,r.maxDropDownHeight=500,r.addEventListener(r._hdr,"click",function(u){u.defaultPrevented||(r._clearHover(u),r._isButton?(r.isDroppedDown=!1,r._raiseCommand()):r.isDroppedDown=!r.isDroppedDown)}),l.lostFocus.addHandler(function(){r.containsFocus()||(r.isDroppedDown=!1)}),ie(a,"wj-menu-items"),l.formatItem.addHandler(r._formatMenuItem.bind(r)),r.initialize(i),r}return Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=k(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=k(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=Le(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new we))){var i=this.dropDown,r=this.owner;!r&&e instanceof MouseEvent&&(r=e.target),r instanceof HTMLElement&&(i[M._OWNR_KEY]=r),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new bt(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),Pn(i,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),i.focus()}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new we)&&(Zt(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown){this._closing=!0;var i=this._lbx._ignoredItemChangedEvents;this._lbx._ignoredItemChangedEvents=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this._lbx._ignoredItemChangedEvents=i,this.dropDown.focus()}else{if(!this.selectedItem){var r=this._lbx._checking;this._lbx._checking=!0,this.selectedItem=this._defaultItem,this._lbx._checking=r}var o=this._subMenu;o&&(o.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,i=this.dropDown,r=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),s="mouseleave";o(e,"mouseenter",this._hoverEnterBnd),o(e,s,this._hoverLeaveBnd),o(i,"mouseover",this._hoverOverBnd),o(i,s,this._hoverLeaveBnd),this._openOnHover&&(r(e,"mouseenter",this._hoverEnterBnd),r(i,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(r(e,s,this._hoverLeaveBnd),r(i,s,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var i=this.subItemsPath,r=e&&i?e[i]:null;return We(r)&&r.length?r:null},t.prototype._formatMenuItem=function(e,i){var r=i.item;this._getSubItems(i.data)?ie(r,"wj-subitems"):r.innerHTML=="-"&&(r.innerHTML="",ie(r,"wj-separator"))},t.prototype._keydown=function(e){if(!e.defaultPrevented){var i=this._getKeyCode(e);if(this.isDroppedDown)switch(i){case x.Enter:case x.Right:if(this._showSubMenu()){e.preventDefault();return}break;case x.Left:var r=M.getControl(this.owner);if(r instanceof t){var o=r.dropDown,s=r.selectedIndex;(s>-1?o.children[s]:o).focus(),e.preventDefault();return}}i==x.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,e.preventDefault()))}n.prototype._keydown.call(this,e)},t.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu()){e.preventDefault();return}this.selectedIndex>-1&&this._raiseCommand()}n.prototype._dropDownClick.call(this,e)},t.prototype._showSubMenu=function(){var e=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var r=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new bt(r.right,r.top);if(r.height==0)return null;var s=this.rightToLeft||this.dropDown.getAttribute("dir")=="rtl";s&&(o.x=r.left);var l=this._subMenu;l&&(l.isDroppedDown=!1),l=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(h,d){e.itemClicked.raise(h,d)},formatItem:function(h,d){e.formatItem.raise(h,d)}});var a=this.collectionView,u=l.collectionView;a&&a.filter&&u&&!u.filter&&(u.filter=a.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(h){l[h]=e[h]});var c=l.dropDown;return A(c,"dir",s?"rtl":null),l.show(o),c[M._OWNR_KEY]=this.dropDown,c.focus(),l},t.prototype._raiseCommand=function(e){var i=this.selectedItem,r=this._getSubItems(i),o=this._getCommand(i);if(o&&!r){var s=this._getCommandParm(i);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}var l=this.headerPath;if(l){var a=new st(l).getValue(i);a=a==null?"":a.toString(),this.header=this.isContentHtml?a:Cn(a)}if(this.onItemClicked(e),this.containsFocus()){for(var u=this;u&&u.owner;){var c=M.getControl(u.owner);if(!(c instanceof t))break;u=c}var h=u.owner;if(!h&&u.dropDown&&(h=u.dropDown[M._OWNR_KEY]),u.isDroppedDown=!1,u.focus(),!u.containsFocus()&&h instanceof HTMLElement&&h.offsetHeight){var d=document.documentElement,f=d.scrollLeft,p=d.scrollTop;h.focus(),d.scrollLeft=f,d.scrollTop=p}}},t.prototype._getCommand=function(e){var i=e&&this._cmdPath?e[this._cmdPath]:null;return i||this._cmd},t.prototype._getCommandParm=function(e){var i=this._cmdParamPath;return e&&i?e[i]:e},t.prototype._executeCommand=function(e,i){e&&!ee(e)&&(e=e.executeCommand),ee(e)&&e(i)},t.prototype._canExecuteCommand=function(e,i){if(e){var r=e.canExecuteCommand;if(ee(r))return r(i)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,i=0;i<e.length;i++){var r=e[i],o=this._getCommand(r);if(o){var s=this._lbx.hostElement.children[i],l=this._getCommandParm(r);te(s,"wj-state-disabled",!this._canExecuteCommand(o,l))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._isTargetDisabled=function(e){return de(e.target,"wj-state-disabled")},t.prototype._hoverEnter=function(e){var i=this;this._clearHover(e),this._toHover=setTimeout(function(){i._toHover=null,i.isDroppedDown=!0},M._HOVER_DELAY)},t.prototype._hoverOver=function(e){var i=this;this._clearHover(e),this._toHover=setTimeout(function(){i._toHover=null;var r=i.listBox.indexOf(e.target);r>-1&&!de(e.target,"wj-state-disabled")&&(i.selectedIndex=r,i._subMenu=i._showSubMenu())},M._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var i=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout(function(){var r=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,o=K(r,".wj-listbox.wj-menu-items"),s=i._subMenu;!o&&!q(i.hostElement,r,!0)&&(i.isDroppedDown=!1,s&&(s.isDroppedDown=!1))},M._LEAVE_DELAY))},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},t}(Vo),Xp=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;if(r._format="t",r.valueChanged=new P,ie(r.hostElement,"wj-inputtime"),r.isEditable=!0,r._value=W.newDate(),r._min=r._max=null,r._msk=new Br(r._tbx),Qn()||(r._tbx.type="tel"),r._orgTag=="INPUT"){var o=r._tbx.getAttribute("value");o&&(r.value=ne.parseDate(o,"HH:mm:ss"))}return r.step=15,r.autoExpandSelection=!0,r.initialize(i),r._commitText(),r}return Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=zt(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?ne.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=W.fromDateTime(e,this.selectedItem.value)),e!=this._value&&!W.equals(e,this._value)&&(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=zt(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=zt(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=j(e,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=L(e),this._tbx.value=ne.format(this.value,this.format),Ue(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=L(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(e){n.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=this.itemsSource!=null},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk.refresh(),this._tbx.value=ne.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:W.newDate(),r=this.selectedItem.value!=null?this.selectedItem.value:ne.parseDate(this.text,this.format,this.value);this.value=W.fromDateTime(i,r)}n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._clamp=function(e){return this._min!=null&&this._getTime(e)<this._getTime(this._min)&&(e=W.fromDateTime(e,this._min)),this._max!=null&&this._getTime(e)>this._getTime(this._max)&&(e=W.fromDateTime(e,this._max)),e},t.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&ue(this.step)&&this.step>0){var i=W.addMinutes(this.value,this.step*ce(e.deltaY,-1,1));this.value=this._clamp(i),this.selectAll(),e.preventDefault()}n.prototype._wheel.call(this,e)},t.prototype._updateInputSelection=function(e){if(this._delKey)n.prototype._updateInputSelection.call(this,e);else{for(var i=this._tbx.value;e<i.length&&!i[e].match(/[a-z0-9]/i);)e++;J(this._tbx,e,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],i=new Date(2020,0),r=new Date(2020,0,1,23,59,59),o=this.step;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),ue(o)&&o>=1)for(var s=i;s<=r;s=W.addMinutes(s,o))e.push({value:s,text:ne.format(s,this.format)});var l=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,!l&&this.isRequired||(this.value=l)}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case x.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case x.Escape:this.text=ne.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?ne.format(this.value,this.format):"";if(this.text!=e){var i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:ne.parseDate(this.text,this.format,this.value);i?(W.sameTime(i,this._clamp(i))||this.onInvalidInput(new we))&&(this.value=W.fromDateTime(this.value,i)):this.onInvalidInput(new we)&&(this.text=e)}}else this.value=null},t.prototype._copy=function(e,i){return e==="text"?((i||"").toString()!==this.text&&this._setText(i,!0),!0):!1},t}(Vo);Ei("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var ny=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;ie(r.hostElement,"wj-inputdatetime");var o=oe.InputDateTime.ariaLabels;Ve(r._btn,o.tglDate),Ve(r._btnTm,o.tglTime),r.value=new Date,r.format="g",r._inputTime=new Xp(document.createElement("div"),{valueChanged:function(a){var u=r.rangeEnd;r.value=W.fromDateTime(r.value,a.value),r.calendar._rngMode()&&u&&(r.rangeEnd=W.fromDateTime(u,a.value))},isDroppedDownChanged:function(a){a.listBox.containsFocus()&&r.inputElement.focus(),r._selectAll()}});var s=r.addEventListener.bind(r);r._btnTm=r.hostElement.querySelector('[wj-part="btn-tm"]'),s(r._btnTm,"mousedown",function(a){r._btnclick(a)}),r._ddDate=r._dropDown;var l=r._ddTime=r._inputTime.dropDown;return s(l,"keydown",r._keydown.bind(r),!0),s(l,"blur",function(){r._updateFocusState()},!0),s(l,"click",function(a){a.defaultPrevented||a.target!=l&&r.hostElement.focus()},!0),r.initialize(i),r._commitText(),r}return Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e,this._btnTm.style.display=ue(e)&&e>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._fromDateTime=function(e){return e},t.prototype._btnclick=function(e){var i=K(e.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(i),n.prototype._btnclick.call(this,e)},t.prototype.dispose=function(){this._setDropdown(this._ddDate),n.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(e){e===void 0&&(e=!0),this._inputTime.refresh(),n.prototype.refresh.call(this,e)},t.prototype._updateBtn=function(){n.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var i=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=i,!0},t.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),n.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&this.value!=null,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):n.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(Cc),Qp=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;return r._cssMatch="wj-state-match",r._minLength=2,r._maxItems=6,r._itemCount=0,r._beginsWith=!1,r._delay=M._SEARCH_DELAY,r._query="",r._inCallback=!1,r._srchProps=[],r._oldSelectedIndex=-1,ie(r.hostElement,"wj-autocomplete"),r._bsCollapse=!1,r.isEditable=!0,r.isRequired=!1,r.listBox.formatItem.addHandler(r._formatListItem,r),r._itemsSourceFnCallbackBnd=r._itemSourceFunctionCallback.bind(r),r.initialize(i),r}return Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(e){this._beginsWith=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=L(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=ke(e),ee(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=L(e)},enumerable:!0,configurable:!0}),t.prototype.onSelectedIndexChanged=function(e){this._settingText||n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case x.Up:case x.Down:this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._setText=function(e){var i=this;if(this._composing&&e!=this._oldText&&(this._oldText=e,this.onTextChanged()),!(this._inCallback||this._composing||this._settingText)){if(this._toSearch||(this._oldSelectedIndex=this.selectedIndex),this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),e!=this._oldText){var r=this._tbx;r.value!=e&&(r.value=e),this._oldText=e,this.onTextChanged();var o=this.collectionView;if(!e&&o){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,o.filter=null;var s=this.itemsSourceFunction;ee(s)&&(this.isDroppedDown=!1,s(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)),this.selectedIndex==-1&&this._oldSelectedIndex!=-1&&this.onSelectedIndexChanged();return}}this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){i._toSearch=null;var l=i.text.trim();if(l.length>=i._minLength&&l!=i._query){i._query=l,l=_c(l);var a=Cn(l),u=i.caseSensitiveSearch?"":"i";i._beginsWith||(u+="g"),i._rxSrch=i._beginsWith?new RegExp("^"+l+".*",u):new RegExp("(?=.*"+l.replace(/ /g,")(?=.*")+")",u),i._rxHighlight=i._beginsWith?new RegExp("^"+l,u):new RegExp("("+a.replace(/\s+/g,"|")+")",u);var c=i.itemsSourceFunction;ee(c)?c(i._query,i.maxItems,i._itemsSourceFnCallbackBnd):i._updateItems()}i.selectedIndex==-1&&i._oldSelectedIndex!=-1&&i.onSelectedIndexChanged()},this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var i=No(e||[]);if(i.moveCurrentToPosition(-1),this.itemsSource=i,this._inCallback=!1,this.containsFocus()){var r=this._tbx,o=r.selectionStart,s=r.selectionEnd,l=this.collectionView;this.isDroppedDown=l!=null&&l.items.length>0,J(r,o,s),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching){var i=this.collectionView;if(this.selectedIndex<0&&i){var r=i.items,o=this.text;r.length==1&&r[0]==o?this.selectedIndex=0:J(this._tbx,o.length)}}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var i=e.items.length,r=this._tbx,o=r.selectionStart,s=r.selectionEnd;if(this.isDroppedDown=i>0&&this.containsFocus(),i||this.isEditable||(this.selectedIndex=-1),i==1&&this.selectedIndex<0){var l=this._getItemText(e.items[0],!1),a=r.value;this.caseSensitiveSearch||(l=l.toLowerCase(),a=a.toLowerCase()),l==a&&(this.selectedIndex=0)}this.isDroppedDown&&J(r,o,s),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var i=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach(function(o){var s=e[o];s!=null&&i.push(s)}),this.isContentHtml&&(i=i.map(function(o){return o.replace(/(<[^>]*>|&[^;]*;)/g,"")}));for(var r=0;r<i.length;r++)if(this._rxSrch.test(i[r]))return this._itemCount++,!0;return!1},t.prototype._getItemText=function(e,i){var r=e?e.toString():"",o=i&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return o&&(r=(r=o.getValue(e))!=null?r.toString():""),r},t.prototype._formatListItem=function(e,i){var r=this;this._cssMatch&&this._rxHighlight&&(i.item.innerHTML=i.item.innerHTML.replace(this._rxHighlight,function(o,s,l,a){return r._enclosed(a,l,"<",">")||r._enclosed(a,l,"&",";")?o:'<span class="'+r._cssMatch+'">'+o+"</span>"}))},t.prototype._enclosed=function(e,i,r,o){for(var s=i;s>=0&&e[s]!=o;s--)if(e[s]==r){for(var l=i;l<e.length&&e[l]!=r;l++)if(e[l]==o)return!0}return!1},t}(Vo),iy=function(n){Ke(t,n);function t(e,i){var r=n.call(this,e)||this;return r._selItems=[],r._maxSelItems=null,r._lastInputValue="",r._selPath=new st(null),r._notAddItm=!1,r.selectedItemsChanged=new P,ie(r.hostElement,"wj-multi-autocomplete"),r._wjTpl=r.hostElement.querySelector(".wj-template"),r._wjInput=r.hostElement.querySelector(".wj-input"),r.showDropDownButton=!1,r.initialize(i),r.addEventListener(r.hostElement,"keyup",r._keyup.bind(r),!0),r.addEventListener(window,"resize",r._adjustInputWidth.bind(r)),r.addEventListener(r._tbx,"focus",function(){r._itemOff()}),r._addHelperInput(),r._initSeltems(),r.listBox.itemsChanged.addHandler(function(){return r.selectedIndex=-1}),r._refreshHeader(),r._updateTabIndex(),r}return Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=j(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=L(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){var i=this._selItems===e;if(i||this._selItems==null||e==null||this._selItems.length!==e.length||(i=this._selItems.every(function(s,l){return s===e[l]})),this._selItems=gt(e),!i){if(this.selectedMemberPath&&this.selectedMemberPath!==""&&this._selItems)for(var r=0;r<this._selItems.length;r++){var o=this._selItems[r];this._setSelItem(o,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()}},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,n.prototype.onIsDroppedDownChanged.call(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case x.Back:this._lastInputValue=this._tbx.value;break;case x.Enter:this._itemOff(),this._addItem(!0),ge()&&J(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case x.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,e.preventDefault()):this._updateFocus();break;case x.Space:if(this._tbx.value!=="")return;!this.isDroppedDown&&!this._tbx.disabled&&(this.isDroppedDown=!0,this._clearSelIndex());break;case x.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case x.Left:this._itemOn(!this.rightToLeft);break;case x.Right:this._itemOn(!!this.rightToLeft);break;case x.Up:case x.Down:var i=Z();if(e.altKey){if(this._tbx==i){this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),e.preventDefault();return}}else if(this._tbx!==i)return;default:if(e.keyCode===x.Back||e.keyCode===x.Delete)return;this._itemOff(),this._maxSelItems!=null&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||n.prototype._keydown.call(this,e)}},t.prototype._updateState=function(){n.prototype._updateState.call(this),this._wjTpl&&(de(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case x.Back:this._tbx.value.length===0&&this._lastInputValue.length===0&&this._delItem(!1);break;case x.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),i=0;i<e.length;i++)this._wjTpl.removeChild(e[i]);var r=this.selectedItems;if(r&&r.length!==0){for(i=0;i<r.length;i++)this._insertToken(r[i]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var i=this._getItemText(e,!0);this.isContentHtml||(i=Cn(i)),this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},t.prototype._updateMaxItems=function(){this._maxSelItems!=null&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,i=this._wjTpl.querySelector("."+t._clsActive);i?(kt(i,t._clsActive),setTimeout(function(){e._tbx.focus()})):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var i,r,o=this._wjTpl.querySelector("."+t._clsActive),s=!1;(!e||o)&&(o?(r=this._getItemIndex(o))>-1&&(i=this._selItems[r],s=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],s=!0),s&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,i){if(i){if(this._selItems&&this._selItems.length!==0||(this._selItems=[]),this._maxSelItems!=null&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var r=this._selItems.indexOf(e);this._selItems.splice(r,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,i),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var i=this,r=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return r.appendChild(o),r.appendChild(s),r.className="wj-token",o.className="wj-token-label",o.innerHTML=e,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="",r.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(r,"click",function(l){i._helperInput.focus();var a=i._wjTpl.querySelector("."+t._clsActive);a&&kt(a,t._clsActive),ie(r,t._clsActive),l.stopPropagation(),l.preventDefault()}),this.addEventListener(s,"click",function(l){if(!i.isReadOnly){var a=i._getItemIndex(r);if(a>-1){var u=i._selItems[a];i._updateSelItems(u,!1)}i._wjTpl.removeChild(r),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),l.stopPropagation(),l.preventDefault()}}),r},t.prototype._itemOn=function(e){var i,r,o,s=Z();if((this._tbx!=s||this._tbx.value.length===0)&&(i=this._wjTpl.querySelectorAll(".wj-token")).length!==0){if(r=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(r),e){if(o===0)return;o===-1?(ie(i[i.length-1],t._clsActive),this._helperInput.focus()):(kt(r,t._clsActive),ie(i[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(o===-1)return;o!==i.length-1?(kt(r,t._clsActive),ie(i[o+1],t._clsActive),this._helperInput.focus()):(kt(r,t._clsActive),this._tbx.focus())}}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&kt(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var i=0;i<e.sourceCollection.length;i++)this._getSelItem(i)&&this._selItems.push(e.sourceCollection[i])}},t.prototype._getSelItem=function(e){var i=this.collectionView,r=i?i.sourceCollection[e]:null;return!(!rt(r)||!this.selectedMemberPath)&&this._selPath.getValue(r)},t.prototype._setSelItem=function(e,i){this.itemsSource,rt(e)&&this._selPath.getValue(e)!=i&&this._selPath.setValue(e,i)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&this.selectedMemberPath!==""},t.prototype._disableInput=function(e){this._maxSelItems!=null&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var e,i=Zs(this.hostElement),r=Zs(this._tbx),o=getComputedStyle(this._tbx),s=parseInt(o.paddingLeft,10),l=parseInt(o.paddingRight,10);e=this.rightToLeft?r.left+r.width-i.left-s-l-8:i.left+i.width-r.left-s-l-8,this._tbx.style.width=e+"px"},t.prototype._getItemIndex=function(e){for(var i=this.hostElement.querySelectorAll(".wj-token"),r=0;r<i.length;r++)if(e===i[r])return r;return-1},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.hostElement;this._tbx.tabIndex=this.isDisabled?-1:this._orgTabIndex,e.tabIndex=-1},t._clsActive="wj-token-active",t}(Qp);Bo("wijmo.input",mg);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var td,Yt=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jp=null;function Zp(){return Jp}if(wr()){var aa=navigator.userAgent.match(/version\/([\d\.]+)/i);if(aa!=null){var nd=aa[1],id=(aa=nd.match(/(\d+)/g)).map(function(n){return parseInt(n)});Jp={full:nd,major:id[0],minor:id[1]}}}var Nt;(function(n){n[n.AutoComplete=0]="AutoComplete",n[n.DropDownList=1]="DropDownList",n[n.RadioButtons=2]="RadioButtons"})(Nt||(Nt={}));var pu=function(){function n(t,e,i){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this._serK=!0,this.mapChanged=new P,We(t)&&!e&&!i&&(t=t.map(function(r){return{value:r}}),e=i="value"),this._cv=No(t),this._keyPath=L(e,!1),this._displayPath=L(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(n.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(t){this._sortByVal=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serializeKeys",{get:function(){return this._serK},set:function(t){if((t=k(t))!==this._serK){var e=this._map,i=e&&e.size;this._map=null,this._serK=t,i&&this.onMapChanged(Ci.empty)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),n.prototype.getDataItem=function(t){var e=this;if(!this._map){var i=this._cv.sourceCollection,r=new zp(this.serializeKeys);We(i)&&this._keyPath&&i.forEach(function(o){var s=o[e._keyPath];r.has(s)||r.set(s,o)}),this._map=r}return this._map.get(t)},n.prototype.getDisplayValue=function(t){var e=this._displayPath,i=this.getDataItem(t);return e&&i?i[e]:t},n.prototype.getKeyValue=function(t,e){var i=this._displayPath,r=this._indexOf(t,i,e,!0);return r<0&&(r=this._indexOf(t,i,e,!1)),r>-1?this._cv.sourceCollection[r][this._keyPath]:null},n.prototype.getDisplayValues=function(t){var e=this;return this._cv&&this._displayPath?this._cv.items.map(function(i){return i[e._displayPath]}):[]},n.prototype.getKeyValues=function(){var t=this;return this._cv&&this._keyPath?this._cv.items.map(function(e){return e[t._keyPath]}):[]},Object.defineProperty(n.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"search",{get:function(){return this._search},set:function(t){this._search=ke(t)},enumerable:!0,configurable:!0}),n.prototype.onMapChanged=function(t){this._map=null,this.mapChanged.raise(this,t)},n.prototype._indexOf=function(t,e,i,r){var o=-1,s=-1;if(this._cv&&e){var l=t!=null?t.toString():"";l&&i&&(t=Sn(l));for(var a=r?l:l.toLowerCase(),u=this._cv.sourceCollection,c=0;c<u.length;c++){var h=u[c],d=h[e];if(i&&Q(d)&&(d=Sn(d)),d==t?o=c:r||d.length!=a.length||d.toLowerCase()!=a?d!=null&&d.toString()==l&&(o=c):o=c,o==c){if(!this._cv.filter||this._cv.filter(h))return o;s<0&&(s=o)}}}return s},n}(),z=function(){function n(t,e,i,r){t===void 0&&(t=-1),e===void 0&&(e=-1),i===void 0&&(i=t),r===void 0&&(r=e),this.setRange(t,e,i,r)}return n.prototype.setRange=function(t,e,i,r){t===void 0&&(t=-1),e===void 0&&(e=-1),i===void 0&&(i=t),r===void 0&&(r=e),this._row=Ee(t),this._col=Ee(e),this._row2=Ee(i),this._col2=Ee(r)},Object.defineProperty(n.prototype,"row",{get:function(){return this._row},set:function(t){this._row=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._col},set:function(t){this._col=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=Ee(t)},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this._row,this._col,this._row2,this._col2)},n.prototype.copy=function(t){this.setRange(t._row,t._col,t._row2,t._col2)},Object.defineProperty(n.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),n.prototype.contains=function(t,e){var i=Gt(t,n);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(Js(t)&&Js(e))return t>=this.topRow&&t<=this.bottomRow&&e>=this.leftCol&&e<=this.rightCol;throw"contains expects a CellRange or row/column indices."},n.prototype.containsRow=function(t){return Ee(t)>=this.topRow&&t<=this.bottomRow},n.prototype.containsColumn=function(t){return Ee(t)>=this.leftCol&&t<=this.rightCol},n.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},n.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},n.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},n.prototype.getRenderSize=function(t){var e=new $t(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)e.height+=t.rows[i].renderSize;for(var r=this.leftCol;r<=this.rightCol;r++)e.width+=t.columns[r].renderSize}return e},n.prototype.equals=function(t){return t instanceof n&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},n.prototype.combine=function(t){return t?new n(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},n.prototype.toString=function(){return Nr("({row}, {col})-({row2}, {col2})",this)},n}(),U;(function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.TopLeft=4]="TopLeft",n[n.ColumnFooter=5]="ColumnFooter",n[n.BottomLeft=6]="BottomLeft"})(U||(U={}));var St=function(){function n(t,e,i,r,o){this._offsetY=0,this._rng=new z,this._g=Le(t,an),this._ct=Ee(e),this._rows=Le(i,po),this._cols=Le(r,rl),this._e=Le(o,HTMLElement),this._vrb=new z}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),n.prototype.getCellData=function(t,e,i){var r,o=this._g,s=this._rows[j(t,!1,!0)],l=null;if(!s)return null;e=this._toIndex(e),r=this._cols[j(e,!1,!0)];var a=o?o._getBindingColumn(this,t,r):r,u=null;if(s instanceof Pe&&s.dataItem instanceof vn&&!o.childItemsPath&&(u=s.dataItem),a.binding&&s.dataItem&&!u?l=a._binding.getValue(s.dataItem):s._ubv&&(l=s._ubv[r._hash]),l==null){var c=U;switch(this._ct){case c.TopLeft:case c.ColumnHeader:t!=this._rows.length-1&&a==r||(l=a.header);break;case c.ColumnFooter:if(s instanceof Pe&&a.aggregate!=xe.None){var h=this._g.collectionView;if(h){var d=Gt(h,rn);l=d?d.getAggregate(a.aggregate,a.binding):Pl(a.aggregate,h.items,a.binding)}}break;case c.Cell:s instanceof Pe&&(e==this._cols.firstVisibleIndex?l=s.getGroupHeader():u&&a.aggregate!=xe.None&&(l=u.getAggregate(a.aggregate,a.binding,this._g.collectionView)))}}if(i){var f=a.dataMap||s.dataMap;this.cellType==U.Cell&&f&&(l=f.getDisplayValue(l)),l=l!=null?ne.format(l,a.format||s.format):""}return l},n.prototype.setCellData=function(t,e,i,r,o){r===void 0&&(r=!0),o===void 0&&(o=!0);var s=this._g,l=this._rows[j(t,!1,!0)],a=this._cols[j(this._toIndex(e),!1,!0)],u=ve;if(!l)return!1;var c=s?s._getBindingColumn(this,t,a):a,h=c.dataMap||l.dataMap;if(this._ct==U.Cell){var d=c.getIsRequired(l),f=c.isContentHtml||l.isContentHtml;if(h&&i!=null){var p=h.getKeyValue(i,f);if(p==null&&h.getDisplayValue(null)==null){if(h.getDisplayValue(i)==i){if(!h.isEditable||h.displayMemberPath!=h.selectedValuePath){if(i!=""||d)return!1;i=null}}}else i=p}var _=u.Object,w=c.dataType||l.dataType,m=this.getCellData(t,e,!1);if(_=w||vi(m),i==null||i===""&&r&&!h){if(d)return!1;_!=u.String&&(i=null),r=!1}if(r){var g=c.format||l.format;if(g||_!=u.Date||(g="d"),c.mask&&Q(i)&&_!=u.String&&(i=i.replace(/_/g,"")),i=bl(i,_,g,m),_!=u.Object&&vi(i)!=_)return!1}}if(l.dataItem&&c.binding){var v=c._binding,y=l.dataItem,b=v.getValue(y);if(i!==b&&(h&&!h.serializeKeys||!W.equals(i,b))){var E=s.collectionView,C=E instanceof rn&&y!=E.currentEditItem&&E.trackChanges,S=null;if(C&&(S=E._extend({},y)),v.setValue(y,i),C){var O=new Jt(Oe.Change,y,E.items.indexOf(y));E.onCollectionChanged(O),E._trackItemChanged(y,S)}}}else l._ubv||(l._ubv={}),l._ubv[a._hash]=i;return o&&s&&s.invalidate(),!0},n.prototype.getCellBoundingRect=function(t,e,i){var r=this._g,o=this.rows[t],s=this.columns[this._toIndex(e)],l=new yt(s.pos,o.pos,s.renderSize,o.renderSize);if(r.rightToLeft&&(l.left=this.hostElement.clientWidth-l.right,ge()||(l.left-=r._root.offsetWidth-r._root.clientWidth)),!i){var a=this.hostElement.getBoundingClientRect();l.left+=a.left,l.top+=a.top-this._offsetY}return t<this.rows.frozen&&(l.top-=r.scrollPosition.y),e<this.columns.frozen&&(l.left-=r.scrollPosition.x*(r.rightToLeft?-1:1)),l},n.prototype.getCellElement=function(t,e){var i=this.hostElement.children,r=Math.min(t+2,i.length);e=this._toIndex(e);for(var o=0;o<r;o++)for(var s=i[o].children,l=Math.min(e+2,s.length),a=0;a<l;a++){var u=s[a],c=u[n._INDEX_KEY];if(c&&(c.row==t&&c.col==e||c.rng&&c.rng.contains(t,e)))return u}return null},n.prototype.getSelectedState=function(t,e,i){var r=this._g,o=r.selectionMode,s=r._selHdl.selection,l=se,a=jr;if(o==l.None)return a.None;switch(e=this._toIndex(e),this._ct){case U.Cell:if(i||(i=r.getMergedRange(this,t,e)),i){if(i.contains(s.row,s.col))return r.showMarquee?a.Active:a.Cursor;if(i.intersects(s)&&o!=l.ListBox)return a.Selected;for(var u=i.leftCol;u<=i.rightCol;u++)if(r.columns[u].isSelected)return a.Selected;for(var c=i.topRow;c<=i.bottomRow;c++)if(r.rows[c].isSelected)return a.Selected}if(s.row==t&&s.col==e)return r.showMarquee?a.Active:a.Cursor;if(r.rows[t].isSelected||r.columns[e].isSelected)return a.Selected;if(o==l.MultiRange){for(var h=r._selHdl.extendedSelection,d=0;d<h.length;d++)if(h[d].contains(t,e)||i&&i.intersects(h[d]))return a.Selected}if(i)switch(o){case l.Row:case l.RowRange:if(i.containsRow(s.row))return a.Selected}return o==l.ListBox?a.None:(s=this._getAdjustedSelection(s)).containsRow(t)&&s.containsColumn(e)?a.Selected:a.None;case U.ColumnHeader:if(r.showSelectedHeaders&ze.Column&&(r.columns[e].isSelected||s.containsColumn(e)||s.intersectsColumn(i))&&(i&&(t=i.bottomRow),t==this.rows.length-1))return a.Selected;break;case U.RowHeader:if(r.showSelectedHeaders&ze.Row&&(r.rows[t].isSelected||s.containsRow(t)||s.intersectsRow(i))&&(i&&(e=i.rightCol),e==this.columns.length-1))return a.Selected}return a.None},Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),n.prototype._toIndex=function(t){if(Q(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";return t},n.prototype._getAdjustedSelection=function(t){var e=this._g,i=this._rng,r=se;switch(e.selectionMode){case r.Cell:i.setRange(t.row,t.col,t.row,t.col);break;case r.Row:i.setRange(t.row,0,t.row,e.columns.length-1);break;case r.RowRange:case r.ListBox:i.setRange(t.row,0,t.row2,e.columns.length-1);break;default:i.copy(t)}return i},n.prototype._getOffsetY=function(){return this._offsetY},n.prototype._updateContent=function(t,e,i){var r=this._g,o=this._e,s=this._rows,l=this._cols,a=this._ct;if(a==U.ColumnHeader||a==U.ColumnFooter||a==U.RowHeader){var u=r._ptScrl,c=o.style;a==U.RowHeader?c.top=u.y+"px":r.rightToLeft?c.right=u.x+"px":c.left=u.x+"px"}this._offsetY!=i&&(t=!1,this._offsetY=i);var h=this._getViewRange(),d=h;if(d.isValid){var f=s.length<=r._vtRows?s.length:0,p=l.length<=r._vtCols?l.length:0;d=new z(Math.max(h.row-f,s.frozen),Math.max(h.col-p,l.frozen),Math.min(h.row2+f,s.length-1),Math.min(h.col2+p,l.length-1))}if(t&&!e&&this._vrb.contains(h)&&!s.frozen&&!l.frozen)return this._activeCell;t&&d.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=U.TopLeft&&this._reorderCells(d,this._vrb),this._activeCell=null,this._vru=h,this._vrb=d,this._recycle=t;var _=0;this._ct==U.Cell&&(_=this._renderColHdrRow(d,e));for(var w=0;w<s.frozen&&w<s.length;w++)_=this._renderRow(w,d,e,_);for(w=d.topRow;w<=d.bottomRow&&w>-1;w++)_=this._renderRow(w,d,e,_);for(;o.childElementCount>_;){var m=o.lastElementChild;De(m),this._removeExtraCells(m,0)}return this._activeCell},n.prototype._clearCells=function(){for(var t=this.hostElement,e=this._g.cellFactory,i=t.childElementCount-1;i>=0;i--){var r=t.children[i];De(r);for(var o=r.childElementCount-1;o>=0;o--)e.disposeCell(r.children[o])}},n.prototype._reorderCells=function(t,e){var i=this;if(this._g._reorderCells&&e.isValid&&t.isValid&&t.intersects(e)){var r=function(p,_,w,m,g,v){B(w<0,"Scroll delta must be a negative number");var y,b,E=-w,C=_+(m-g+1),S=p.childElementCount-C;if(S<E?(y=S,b=E-S):(y=E,b=0),y>0){var O=i._createRange(p,C,C+y);O&&p.insertBefore(O.extractContents(),p.children[_])}if(b>0)for(var I=p.children[_],N=0;N<b;N++){var R=document.createElement("div");R.className=v,p.insertBefore(R,I)}};if(t.row!=e.row){var o=this._e;if((c=t.row-e.row)!=0){var s=this._ct==U.Cell?1:0,l=o.childElementCount;if(s+=this.rows.frozen,c>0){var a=s,u=Math.min(s+c,l);(f=this._createRange(o,a,u))&&o.appendChild(f.extractContents())}else r(o,s,c,t.row2,e.row,"wj-row")}}if(t.col!=e.col){var c;if(o=this._e,(c=t.col-e.col)!=0){s=this._ct==U.Cell&&this._g.rowHeaderPath?1:0,s+=this.columns.frozen;for(var h=0;h<o.children.length;h++){var d=o.children[h];if(l=d.children.length,de(d,"wj-row"))if(c>0){var f;a=s,u=Math.min(s+c,l),(f=this._createRange(d,a,u))&&d.appendChild(f.extractContents())}else r(d,s,c,t.col2,e.col,"wj-cell")}}}}},n.prototype._createRange=function(t,e,i){if(i>e&&i<=t.children.length&&e>-1){this._docRange||(this._docRange=document.createRange());var r=this._docRange;return r.setStart(t,e),r.setEnd(t,i),r}return null},n.prototype._renderColHdrRow=function(t,e){if(e)return 1;var i=this._e.children[0];i||(i=_e('<div class="wj-row" role="row"></div>',this._e));var r=this._g,o=r?r.columnHeaders.rows.ariaLabel:null;A(i,"aria-label",o),A(i,"aria-selected",null);var s=0,l=this._g._getRowHeaderPath();l&&(s=this._renderRowHdrCell(i,-1,l.path));for(var a=0;a<this.columns.frozen&&a<this.columns.length;a++)s=this._renderColHdrCell(i,a,t,e,s);for(a=t.leftCol;a<=t.rightCol&&a>-1;a++)s=this._renderColHdrCell(i,a,t,e,s);return this._removeExtraCells(i,s),1},n.prototype._renderColHdrCell=function(t,e,i,r,o){var s=this.grid,l=this.columns[e];if(l.renderSize<=0)return o;if(r)return o+1;var a=t.children[o];if(a||(a=_e(n._HTML_CELL,t)),A(a,"role","columnheader"),a&&this._recycle&&s._lazyRender){var u=a[n._INDEX_KEY];if(u&&u.row==-1&&u.col==e&&e>=this.columns.frozen)return o+1}if(a.textContent=this.columns[e].header,H(a,{position:"fixed",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),l.describedById||this.columns.describedById){var c=[l.describedById,this.columns.describedById].join(" ").trim();A(a,"aria-describedby",c||null)}if(s.allowSorting){var h="none";switch(s._getBindingColumn(this,0,l).currentSort){case"+":h="ascending";break;case"-":h="descending"}A(a,"aria-sort",h)}return s.isReadOnly||(A(a,"aria-readonly",l.isReadOnly),A(a,"aria-required",l.isReadOnly?null:l.getIsRequired())),a[n._INDEX_KEY]={row:-1,col:e,panel:this},o+1},n.prototype._renderRowHdrCell=function(t,e,i){var r=t.children[0];return r||(r=_e(n._HTML_CELL,t)),r.setAttribute("role",e<0?"columnheader":"rowheader"),r.textContent=i?i.toString():"",H(r,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),r[n._INDEX_KEY]={row:e,col:-1,panel:this},1},n.prototype._renderRow=function(t,e,i,r){var o=this._g,s=this.rows[t];if(s.renderSize<=0)return r;var l=this._e.children[r];if(l||(l=_e('<div class="wj-row"></div>',this._e)),this._ct==U.Cell){l.setAttribute("role","row");var a=se,u=s.isSelected;switch(o.selectionMode){case a.Row:case a.RowRange:u=u||this._g._selHdl.selection.containsRow(t)}A(l,"aria-selected",!!u||null),A(l,"aria-level",s instanceof Pe?s.level+1:null),A(l,"aria-expanded",s instanceof Pe?!s.isCollapsed:null),this.rows.ariaLabel&&A(l,"aria-label",this.rows.ariaLabel)}var c=0;if(this._ct==U.Cell){var h=this._g._getRowHeaderPath();h&&(c=this._renderRowHdrCell(l,t,h.getValue(s.dataItem)))}for(var d=0;d<this.columns.frozen&&d<this.columns.length;d++)c=this._renderCell(l,t,d,e,i,c);for(d=e.leftCol;d<=e.rightCol&&d>-1;d++)c=this._renderCell(l,t,d,e,i,c);return this._removeExtraCells(l,c),r+1},n.prototype._renderCell=function(t,e,i,r,o,s){var l=this._g,a=this._ct==U.Cell?l.getMergedRange(this,e,i,!1):l.getMergedRange(this,e,i);if(a){for(var u=Math.max(r.row,a.row);u<e;u++)if(this.rows[u].renderSize)return s;for(u=Math.max(r.col,a.col);u<i;u++)if(this.columns[u].renderSize)return s;var c=this.columns.frozen;if(c&&a.col<c&&a.col2>=c&&i>a.col)return s}var h=this.columns[i];if(h.renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return s;var d=t.children[s];if(d&&!o&&this._recycle&&l._lazyRender&&!l.activeEditor){var f=d[n._INDEX_KEY];f&&f.row==e&&f.col==i&&f.rng==a&&e>=this.rows.frozen&&i>=this.columns.frozen&&(o=!0)}var p=jr,_=this.getSelectedState(e,i,a),w=_==p.Cursor||_==p.Active;if(d&&o)return te(d,"wj-state-active",w),te(d,"wj-state-selected",_==p.Cursor),te(d,"wj-state-multi-selected",_==p.Selected),A(d,"aria-selected",!(!w&&_==p.None)||null),w&&(this._activeCell=d),s+1;if(d||(d=_e(n._HTML_CELL,t)),w&&(this._activeCell=d),this._ct==U.Cell){A(d,"role","gridcell"),A(d,"aria-selected",!(_==p.None&&!w)||null);var m=!l.canEditCell(e,i)||null;A(d,"aria-readonly",m),A(d,"aria-required",m?null:h.getIsRequired())}return l.cellFactory.updateCell(this,e,i,d,a),d[n._INDEX_KEY]={row:e,col:i,rng:a,panel:this},s+1},n.prototype._removeExtraCells=function(t,e){for(var i=this._g.cellFactory;t.childElementCount>e;){var r=t.lastElementChild;De(r),i.disposeCell(r)}for(var o=t.childElementCount-1;o>-1;--o){var s=[t.children[o],t.children[o-1]],l=s[1];if((r=s[0])&&l){var a=r.getAttribute("style")===l.getAttribute("style"),u=r.innerHTML===l.innerHTML;a&&u&&(De(r),i.disposeCell(r))}}},n.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,i=t._szClientSB,r=this._rows,o=this._cols,s=new z(0,0,r.length-1,o.length-1);if(this._ct==U.Cell||this._ct==U.RowHeader){var l=-e.y+this._offsetY,a=i.height;(d=Math.min(r.frozen,r.length-1))>0&&(l+=_=r[d-1].pos,a-=_),d>0&&r[d].pos>i.height?s.row=s.row2=-1:(s.row=Math.min(r.length-1,Math.max(d,r.getItemAt(l))),s.row2=Math.max(s.row,r.getItemAt(l+a)));var u=t.hostElement;if(t._clipToScreen&&u){var c=u.getBoundingClientRect(),h=-c.top-t.cells._e.offsetTop;c.top<0&&(s.row=Math.max(s.row,r.getItemAt(h)-1)),c.bottom>innerHeight&&(s.row2=Math.min(s.row2,r.getItemAt(h+innerHeight)+1))}}if(this._ct==U.Cell||this._ct==U.ColumnHeader){var d,f=-e.x,p=i.width;if((d=Math.min(o.frozen,o.length-1))>0){var _;f+=_=o[d-1].pos,p-=_}d>0&&o[d].pos>i.width?s.col=s.col2=-1:(s.col=Math.min(o.length-1,Math.max(d,o.getItemAt(f))),s.col2=Math.max(s.col,o.getItemAt(f+p)))}return r.length<=r.frozen&&(s.row=s.row2=-1),o.length<=o.frozen&&(s.col=s.col2=-1),s},n.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,i=t>0?this._rows[t-1]:null,r=e>0?this._cols[e-1]:null,o=i?i.pos+i.renderSize:0,s=r?r.pos+r.renderSize:0;return new bt(s,o)},n._INDEX_KEY="wj-cell-index",n._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',n}(),fe=function(n){Yt(t,n);function t(e,i,r){var o=n.call(this)||this;return o._p=Le(e,St,!0),o._rng=Le(i,z,!0),o._data=r,o}return Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var i=this._p,r=i&&this.col>-1?i.columns[this.col]:null;if(r&&e){var o=i.grid;r=i.cellType===U.ColumnHeader&&o._hasColumnGroups()?o._getColumnGroup(this.row,this.col):i.grid._getBindingColumn(i,this.row,r)}return r},t}(we),eg=function(n){Yt(t,n);function t(e,i,r,o){var s=n.call(this,e,i)||this;return s._updateContent=!0,s._cell=Le(r,HTMLElement),s}return Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),t}(fe),il=function(n){Yt(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._stayInEditMode=!1,e._refresh=!0,e}return Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=k(e)},enumerable:!0,configurable:!0}),t}(fe),se;(function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.CellRange=2]="CellRange",n[n.Row=3]="Row",n[n.RowRange=4]="RowRange",n[n.ListBox=5]="ListBox",n[n.MultiRange=6]="MultiRange"})(se||(se={}));var jr;(function(n){n[n.None=0]="None",n[n.Selected=1]="Selected",n[n.Cursor=2]="Cursor",n[n.Active=3]="Active"})(jr||(jr={}));var Ln;(function(n){n[n.None=0]="None",n[n.Next=1]="Next",n[n.Prev=2]="Prev",n[n.NextPage=3]="NextPage",n[n.PrevPage=4]="PrevPage",n[n.Home=5]="Home",n[n.End=6]="End",n[n.NextCell=7]="NextCell",n[n.PrevCell=8]="PrevCell",n[n.NextEditableCell=9]="NextEditableCell",n[n.PrevEditableCell=10]="PrevEditableCell"})(Ln||(Ln={}));var tg=function(){function n(t){this._sel=new z(0,0),this._xSel=new qt,this._mode=se.CellRange,this._g=t,this._e=new fe(t.cells,new z(0,0)),this._xSel.collectionChanged.addHandler(function(){t.invalidate()})}return Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&this._setSelectionMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),n.prototype.select=function(t,e,i){e===void 0&&(e=!0),i===void 0&&(i=!1);var r=this._g,o=this._e.range,s=this._sel,l=o,a=!1,u=se;if(ue(t)&&Q(e)){var c=r.columns.indexOf(e);if(c<0)throw"Invalid column name or binding.";o.setRange(t,c),e=!0}else ue(t)&&ue(e)?(o.setRange(t,e),e=!0):t instanceof z?o.copy(t):B(!1,"CellRange expected");switch(r.selectionMode){case u.Cell:l.row2=l.row,l.col2=l.col;break;case u.Row:l.row2=l.row;break;case u.ListBox:a=!0}var h=l.equals(s);if(h&&a){for(var d=0;d<r.rows.length;d++)if(r.rows[d].isSelected!==l.containsRow(d)){h=!1;break}}if(h)return e&&r.isRangeValid(l)&&this._showSelection(),!0;var f=M.getControl(K(Z(),".wj-flexgrid"));if(f&&f.activeEditor&&!f.finishEditing())return!1;var p=this._e;if(p._rng=l,p.cancel=!1,!r.onSelectionChanging(p)&&!i)return!1;a&&r.rows.forEach(function(m,g){m._setFlag($.Selected,l.containsRow(g),!0)}),l.row=Math.min(l.row,r.rows.length-1),l.row2=Math.min(l.row2,r.rows.length-1),this._sel.copy(l),r.refreshCells(!1,!0,!0),e&&this._showSelection();var _=r.collectionView;if(_){var w=r._getCvIndex(l.row);_.moveCurrentToPosition(w)}return r.onSelectionChanged(p),!0},n.prototype.moveSelection=function(t,e,i){var r=this._g,o=this._sel,s=i&&r.anchorCursor?new z(o.row2,o.col2):new z(o.row,o.col);this._adjustReferenceCell(s,t,e);var l=s.row,a=s.col,u=r.columns,c=Math.max(0,r._szClient.height-r.columnHeaders.height),h=Ln;switch(e){case h.NextCell:case h.NextEditableCell:(a=this._getNextColumnCell(l,a,e))==s.col&&(l=this._getNextRowCell(l,a,e))>s.row&&(a=this._getNextColumnCell(l,0,e),a=this._getNextColumnCell(l,a,e==h.NextCell?h.PrevCell:h.PrevEditableCell)),r.select(l,a);break;case h.PrevCell:case h.PrevEditableCell:(a=this._getNextColumnCell(l,s.col,e))==s.col&&(l=this._getNextRowCell(l,a,e))<s.row&&(a=this._getNextColumnCell(l,u.length-1,e),a=this._getNextColumnCell(l,a,e==h.PrevCell?h.NextCell:h.NextEditableCell)),r.select(l,a);break;default:l=this._getNextRowCell(l,a,t,c),a=this._getNextColumnCell(l,a,e,c),i?r.selection=r.anchorCursor?new z(o.row,o.col,l,a):new z(l,a,o.row2,o.col2):r.select(l,a)}},n.prototype._getNextColumnCell=function(t,e,i,r){return r===void 0&&(r=0),this._g.columns.getNextCell(e,i,r)},n.prototype._getNextRowCell=function(t,e,i,r){return r===void 0&&(r=0),this._g.rows.getNextCell(t,i,r)},n.prototype._setSelectionMode=function(t){var e=this._g,i=e.rows;this._mode=t,this._xSel.clear(),i.length&&(this._adjustSelection(this._sel,t,!0),e.invalidate())},n.prototype._adjustSelection=function(t,e,i){i===void 0&&(i=!1);var r=this._g.rows,o=se,s=this._g.hostElement.querySelector("input.wj-column-selector")instanceof HTMLInputElement;if(!s)for(var l=0;l<r.length;l++)r[l]._setFlag($.Selected,!1,!0);var a=t.clone();switch(e){case o.None:a=new z;break;case o.Cell:a=new z(t.row,t.col);break;case o.ListBox:if(s)return;for(l=0;l<r.length;l++)r[l]._setFlag($.Selected,a.containsRow(l),!0)}this.select(a,!1,i)},n.prototype._expandSelection=function(){var t=this._g,e=t.selectionMode;if(t.expandSelectionOnCopyPaste&&e){var i=this.selection,r=se;switch(e){case r.Cell:case r.Row:break;case r.ListBox:this._expandSelectedRows();break;case r.RowRange:i=new z(i.topRow,0,i.bottomRow,t.columns.length-1);default:var o=this._expandSelectionRange(i);o&&this.select(o,!1)}}},n.prototype._deselectRange=function(t){var e=this.selection,i=this.extendedSelection;if(e.contains(t)){var r=i.length;return this._sel=r?i[r-1]:new z,r&&i.removeAt(r-1),!0}for(var o=0;o<i.length;o++)if(i[o].contains(t))return i.removeAt(o),!0;return!1},n.prototype._expandSelectedRows=function(){B(this.selectionMode==se.ListBox,"ListBox mode expected");for(var t=this._g,e=t.selectedRows.map(function(a){return a.index}),i=[],r=0;r<e.length;r++)for(var o=new z(e[r],0,e[r],t.columns.length-1),s=this._expandSelectionRange(o)||o,l=s.topRow;l<=s.bottomRow;l++)i.indexOf(l)===-1&&i.push(l);i.sort(),this._selectRows(i)},n.prototype._expandSelectionRange=function(t){var e=this._g,i=e.cells,r=e.getMergedRange(i,t.topRow,t.leftCol,!1),o=e.getMergedRange(i,t.bottomRow,t.leftCol,!1),s=e.getMergedRange(i,t.topRow,t.rightCol,!1),l=e.getMergedRange(i,t.bottomRow,t.rightCol,!1);return r||o||s||l?(r=r||new z(t.topRow,t.leftCol),o=o||new z(t.bottomRow,t.leftCol),s=s||new z(t.topRow,t.rightCol),l=l||new z(t.bottomRow,t.rightCol),new z(Math.min(r.topRow,o.topRow,s.topRow,l.topRow),Math.min(r.leftCol,o.leftCol,s.leftCol,l.leftCol),Math.max(r.bottomRow,o.bottomRow,s.bottomRow,l.bottomRow),Math.max(r.rightCol,o.rightCol,s.rightCol,l.rightCol))):null},n.prototype._selectRows=function(t){B(this.selectionMode==se.ListBox,"ListBox mode expected");for(var e=this._g,i=0,r=!0;i<e.rows.length;i++){var o=e.rows[i],s=t&&t.indexOf(o.index)>-1;s&&r&&(r=!1,this.select(i,this.selection.col)),o.isSelected=s}},n.prototype._showSelection=function(){var t=this._g,e=this._sel;t.anchorCursor?t.scrollIntoView(e.row2,e.col2):t.scrollIntoView(e.row,e.col)},n.prototype._adjustReferenceCell=function(t,e,i){var r=this._g,o=r.getMergedRange(r.cells,t.row,t.col);if(o&&!o.isSingleCell){var s=Ln;switch(e){case s.Next:case s.NextCell:case s.NextEditableCell:t.row=o.bottomRow;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.row=o.topRow}switch(i){case s.Next:case s.NextCell:case s.NextEditableCell:t.col=o.rightCol;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.col=o.leftCol}}},n}(),$;(function(n){n[n.Visible=1]="Visible",n[n.AllowResizing=2]="AllowResizing",n[n.AllowDragging=4]="AllowDragging",n[n.AllowMerging=8]="AllowMerging",n[n.AllowSorting=16]="AllowSorting",n[n.AutoGenerated=32]="AutoGenerated",n[n.Collapsed=64]="Collapsed",n[n.ParentCollapsed=128]="ParentCollapsed",n[n.Selected=256]="Selected",n[n.ReadOnly=512]="ReadOnly",n[n.HtmlContent=1024]="HtmlContent",n[n.WordWrap=2048]="WordWrap",n[n.MultiLine=4096]="MultiLine",n[n.HasTemplate=8192]="HasTemplate",n[n.RowDefault=3]="RowDefault",n[n.ColumnDefault=23]="ColumnDefault"})($||($={}));var kl=function(){function n(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new P}return Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=L(t);if(this._binding=e?new st(e):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;if(i&&i.sourceCollection&&i.sourceCollection.length){var r=i.sourceCollection[0];this._type=vi(this._binding.getValue(r))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=L(t);this._bindingSort=e?new st(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataType",{get:function(){return this._type},set:function(t){t=ye(t,ve,!0),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=L(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=L(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=j(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),We(t)&&(t=new pu(t,null,null)),this._map=Le(t,pu,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMapEditor",{get:function(){return this._mapEditor!=null?this._mapEditor:Nt.DropDownList},set:function(t){t!=this._mapEditor&&(this._mapEditor=ye(t,Nt),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDropDown",{get:function(){return this.dataMapEditor==Nt.DropDownList},set:function(t){Cl("showDropDown","dataMapEditor"),this.dataMapEditor=t?Nt.DropDownList:Nt.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=L(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._getFlag($.Visible)},set:function(t){this._setFlag($.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return!!this._getFlag($.Visible)&&(!this._getFlag($.ParentCollapsed)||this instanceof Ie)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=j(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderSize",{get:function(){var t=0,e=this._list;return this.isVisible&&(((t=this._sz)==null||t<0)&&(t=e?e.defaultSize:0),e&&e.minSize!=null&&t<e.minSize&&(t=e.minSize),e&&e.maxSize!=null&&t>e.maxSize&&(t=e.maxSize),this._szMin!=null&&t<this._szMin&&(t=this._szMin),this._szMax!=null&&t>this._szMax&&(t=this._szMax)),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowResizing",{get:function(){return this._getFlag($.AllowResizing)},set:function(t){this._setFlag($.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowDragging",{get:function(){return this._getFlag($.AllowDragging)},set:function(t){this._setFlag($.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowMerging",{get:function(){return this._getFlag($.AllowMerging)},set:function(t){this._setFlag($.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelected",{get:function(){return this._getFlag($.Selected)},set:function(t){if(!!t!=this.isSelected){var e=this.grid;if(e){var i=new fe(e?e.cells:null,e.selection);e.onSelectionChanging(i)&&this._setFlag($.Selected,t,!0)&&(e.refreshCells(!1,!0,!0),e.onSelectionChanged(i))}else this._setFlag($.Selected,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._getFlag($.ReadOnly)},set:function(t){this._setFlag($.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=k(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._getFlag($.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag($.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._getFlag($.WordWrap)},set:function(t){this._setFlag($.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiLine",{get:function(){return this._getFlag($.MultiLine)},set:function(t){this._setFlag($.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=L(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(t){t!=this._cssClassAll&&(this._cssClassAll=L(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),n.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},n.prototype.onGridChanged=function(t){this.gridChanged.raise(this,t)},n.prototype._setList=function(t){t!=this._list&&(this._list=t,this.onGridChanged())},n.prototype._getFlag=function(t){return(this._f&t)!=0},n.prototype._setFlag=function(t,e,i){return!!e!=this._getFlag(t)?(this._f=e?this._f|t:this._f&~t,i||this.onPropertyChanged(),!0):!1},n}(),et=function(n){Yt(t,n);function t(e){var i=n.call(this)||this;return i._hdr=null,i._name=null,i._agg=null,i._quickSize=null,i._descById=null,i._tpl=null,i._f=$.ColumnDefault,i._hash=t._ctr.toString(36),t._ctr++,xi(i,e),i}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._szStar!=null?this._szStar:this.size},set:function(e){t._parseStarSize(e)!=null?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=j(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=j(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=j(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=k(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(Je(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag($.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(B(e==null||Q(e)||ee(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag($.HasTemplate,e!=null&&e!=""),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),e!=null&&(e=Le(e,M),this._edt=new sg(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag($.AllowSorting)},set:function(e){this._setFlag($.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,i=e?e.sortDescriptions:null,r=i&&i.length?this._getBindingSort():null;if(r){for(var o=0;o<i.length;o++)if(i[o].property==r)return o}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return this._agg!=null?this._agg:xe.None},set:function(e){(e=ye(e,xe))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=L(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return this._required!=null?this._required:e&&e.isRequired!=null?e.isRequired:this.dataType==ve.String?this.dataMap!=null||this._mask!=null&&this._mask.length>0:!e||e.dataType!=ve.String||e.dataMap!=null||e.mask!=null&&e.mask.length>0},t.prototype.getAlignment=function(e){if(this._align!=null)return this._align;if(e&&e.align!=null)return e.align;if(!this._map)switch(this.dataType){case ve.Boolean:return"center";case ve.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case ve.Boolean:return"center";case ve.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(Q(e)){var i=e.length;if(i>0&&e[i-1]=="*"){var r=i==1?1:parseFloat(e);if(r>0&&!isNaN(r))return r}}return null},t._ctr=0,t}(kl),xn=function(n){Yt(t,n);function t(e){var i=n.call(this)||this;return i._f=$.ColumnDefault,i._data=e||null,i}return Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(kl),Pe=function(n){Yt(t,n);function t(e){var i=n.call(this,e)||this;return i._level=-1,i.level=e instanceof vn?e.level:-1,i.isReadOnly=!0,i}return Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){Ee(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(this.grid!=null&&this._list!=null){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,i=Gt(e,t),r=Gt(e,Ie);return e!=null&&r==null&&(i==null||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag($.Collapsed)},set:function(e){!!e!=this.isCollapsed&&this._list!=null&&this._setCollapsed(k(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,i=e.groupHeaderFormat||oe.FlexGrid.groupHeaderFormat,r=this.dataItem;if(r instanceof vn&&i&&e.showGroups&&!e.childItemsPath){var o=r.groupDescription.propertyName,s=r.name,l=e.getColumn(o),a=this.isContentHtml;if(l){a=a||l.isContentHtml,l.header&&(o=l.header);var u=l.dataMap;u&&(s=u.getDisplayValue(s)),l.dataType==vi(s)&&(s=ne.format(s,l.format))}else o=xl(o);var c=r.getAggregate(xe.CntAll,null,e.collectionView);return Nr(i,{name:Cn(o),value:a?s:Cn(s),level:r.level,count:c})}return""},t.prototype._setCollapsed=function(e){var i=this,r=this.grid,o=r.rows,s=this.getCellRange(),l=new fe(r.cells,new z(this.index,-1));r.onGroupCollapsedChanging(l)&&(r.deferUpdate(function(){o.deferUpdate(function(){i._setFlag($.Collapsed,e,!0);for(var a=s.topRow+1;a<=s.bottomRow&&a>-1&&a<o.length;a++){o[a]._setFlag($.ParentCollapsed,e,!0);var u=o[a];u instanceof t&&u.isCollapsed&&(a=u.getCellRange().bottomRow)}})}),r.onGroupCollapsedChanged(l))},t.prototype.getCellRange=function(){for(var e=this._list,i=this.index,r=e.length-1,o=i+1;o<=r;o++){var s=e[o];if(s instanceof t&&s.level<=this.level){r=o-1;break}}return new z(i,0,r,this.grid.columns.length-1)},t}(xn),xc=function(n){Yt(t,n);function t(e,i){var r=n.call(this)||this;return r._frozen=0,r._lastFrozen=-1,r._firstVisible=-1,r._vlen=0,r._szDef=28,r._szTot=0,r._szCustom=!1,r._dirty=!1,r._g=Le(e,an),r._szDef=j(i,!1,!0),r}return Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=j(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=j(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=j(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=j(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var i,r,o=this.length,s=0,l=o-1;s<=l;)if((r=this[i=s+l>>>1])._pos>=e&&i>0)l=i-1;else{if(!(r._pos+r.renderSize<=e&&i<o-1)){for(;i>0&&!this[i].renderSize;)i--;for(;i<o-1&&!this[i].renderSize;)i++;return i}s=i+1}return l},t.prototype.getNextCell=function(e,i,r){r===void 0&&(r=0);var o,s=Ln;switch(i){case s.Next:case s.NextCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case s.NextEditableCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case s.Prev:case s.PrevCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case s.PrevEditableCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case s.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case s.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case s.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+r))<0?this.getNextCell(e,Ln.End,r):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case s.PrevPage:return(o=this.getItemAt(this[e].pos-r))<0?this.getNextCell(e,Ln.Home,r):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e},t.prototype.canMoveElement=function(e,i,r){if(r===void 0&&(r=!0),i==e||e<0||e>=this.length||i>=this.length)return!1;if(r){i<0&&(i=this.length-1);for(var o=Math.min(e,i),s=Math.max(e,i),l=o;l<=s;l++)if(!this[l].allowDragging)return!1}return!(this[i]instanceof Ie)},t.prototype.moveElement=function(e,i,r){if(r===void 0&&(r=!0),this.canMoveElement(e,i,r)){var o=this[e];if(this.removeAt(e),i<0&&(i=this.length),this.insert(i,o),r){var s=this.frozen;e<s&&i>=s?this.frozen--:e>=s&&i<s&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(e){e===void 0&&(e=Jt.reset),this._dirty=!0,this._g.invalidate(),n.prototype.onCollectionChanged.call(this,e)},t.prototype.push=function(e){return e._setList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,i){for(var r=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var l=e;l<e+i&&l<this.length;l++){var a=this[l];a instanceof kl&&a._setList(null)}return o.forEach(function(u){return u._setList(r)}),n.prototype.splice.apply(this,[e,i].concat(o))},t.prototype.beginUpdate=function(){this._update(),n.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,i=0,r=void 0,o=void 0,s=0;s<this.length;s++)(o=this[s])._idx=s,o._idxVis=e,o._pos=i,o._setList(this),(r=o.renderSize)>0&&(i+=r,e++,s<this._frozen&&(this._lastFrozen=s)),this._firstVisible<0&&o.visible&&(this._firstVisible=s);return this._vlen=e,this._szTot=i,!0}return!1},t}(qt),rl=function(n){Yt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){var i=ue(e)?e:this.indexOf(e);return i>-1?this[i]:null},t.prototype.indexOf=function(e){if(e instanceof et)return n.prototype.indexOf.call(this,e);for(var i=0;i<this.length;i++)if(this[i].name==e)return i;for(i=0;i<this.length;i++)if(this[i].binding==e)return i;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=L(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){var i,r=!1,o=0;e-=.5;for(var s=0;s<this.length;s++)(a=this[s]).isVisible&&(a._szStar?(o+=et._parseStarSize(a._szStar),i=a):e-=a.renderWidth);if(i){var l=e;for(s=0;s<this.length;s++){var a;if((a=this[s]).isVisible&&a._szStar){var u=a._sz;a==i&&l>0?u=l:l-=u=Math.max(0,Math.round(et._parseStarSize(a._szStar)/o*e)),u!=a._sz&&(a._sz=u,r=!0)}}return r&&(this._dirty=!0,this._update()),r}return!1},t}(xc),po=function(n){Yt(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._maxLevel=-1,e}return Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=L(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this;if(n.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,r=i?i.items:null,o=0;return this._maxLevel=-1,this.forEach(function(s){s instanceof Pe&&s.level>e._maxLevel&&(e._maxLevel=s.level);var l=s.dataItem;l&&r?l===r[o]?s._idxData=o:l===r[o+1]?s._idxData=++o:l!==r[s._idxData]&&(s._idxData=-1):s._idxData=-1}),!0}return!1},t}(xc),ng=function(){function n(t){this._updatingCollection=0,this._initialized=!1,this._grid=t,this._initializeColumnGroups(),this._initialized=!0}return Object.defineProperty(n.prototype,"columnGroups",{get:function(){return this._colGroups},enumerable:!0,configurable:!0}),n.prototype.createColumnGroups=function(t){this._initialized=!1,this._createColumnGroups(t),this._initialized=!0},n.prototype.hasColumnGroups=function(){return this._colGroups!=null&&this._colGroups.length>0},n.prototype.getGroupDefinitions=function(){return this._groupDefs},n.prototype.getColumnGroup=function(t,e){return this._getColumnGroup(t,e)},n.prototype.canMoveColumnGroup=function(t,e,i,r){if(t==i&&e==r)return!1;var o=this._grid,s=o.columnHeaders.rows,l=o.columns;if(t<0||t>=s.length||e<0||e>=l.length||i<0||i>=s.length||r<0||r>=l.length)return!1;var a=this._getColumnGroup(t,e),u=this._getColumnGroup(i,r);if(!a||!u||a==u||a.level<u.level&&a._containsGroup(u))return!1;var c=a.parentGroup,h=u.parentGroup;return!c||c===h||!c._isCollapseTo(a)},n.prototype.moveColumnGroup=function(t,e,i,r,o){if(this.canMoveColumnGroup(t,e,i,r)){var s=this._getColumnGroup(t,e),l=this._getColumnGroup(i,r);if(!s||!l||s==l||o&&!l.isEmpty)return!1;var a=this._getCollection(s),u=o?l.columns:this._getCollection(l);if(!a||!u)return!1;var c=o?0:u.indexOf(l);return c<0?!1:(!o&&a!=u&&r>e&&c++,this._deferCollectionUpdate(function(){if(!a.remove(s))return!1;u.insert(c,s)}),!0)}return!1},n.prototype.handleCollectionChange=function(){this._initialized&&!this._updatingCollection&&(this._initialized=!1,this._buildColumnGroups(),this._initialized=!0)},n.prototype.handlePropertyChange=function(t){if(t&&this._initialized){var e=this._grid,i=t._rng,r=t.header;if(r!=t._curr_header)for(var o=i.topRow;o<=i.bottomRow;o++)for(var s=i.leftCol;s<=i.rightCol;s++)e.columnHeaders.setCellData(o,s,r),t._curr_header=r;t.columns.length>0&&e.invalidate()}},n.prototype._initializeColumnGroups=function(){var t=this._grid,e=new Fi;this._groupDefs=e,this._colGroups=e,this._colGroups._setOwner(t),this._colGroups._setChangeHandler(this)},n.prototype._createColumnGroups=function(t){this._grid,this._groupDefs=gt(t),this._colGroups&&this._colGroups._setOwner(null),this._colGroups=Fi._parse(t),this._buildColumnGroups()},n.prototype._buildColumnGroups=function(){var t=this,e=this._grid;this._colGroups._removeChangeHandler(),this._assertColumnGroups(this._colGroups),e.autoGenerateColumns=!1,e.columns.clear(),this._colGroups._setOwner(e),this._colGroups.forEach(function(c){c._beginBuild()});var i=0;this._colGroups.forEach(function(c){t._addColumnGroup(c),i=Math.max(i,c._getMaxLevel())}),this._colGroups.forEach(function(c){c._expandRange(i)});var r=e.columnHeaders.rows;r.clear();for(var o=0;o<=i;o++){var s=new xn;r.splice(o,0,s),o<i&&(s.cssClassAll="wj-colgroup")}for(o=0;o<r.length;o++)for(var l=0;l<e.columns.length;l++){var a=this._getColumnGroup(o,l);if(a){var u=a.header||xl(a.binding);e.columnHeaders.setCellData(o,l,u),a._curr_header=a.header}}this._colGroups._setChangeHandler(this),this._colGroups.forEach(function(c){c._checkIfCollapsed()})},n.prototype._getColumnGroup=function(t,e){var i=this._grid;if(t<i.columnHeaders.rows.length&&e<i.columns.length)for(var r=this._colGroups;r;){for(var o=r,s=0;s<r.length;s++){var l=r[s],a=l._rng;if(a.containsColumn(e)){if(a.containsRow(t)||l.columns.length==0)return l;r=l.columns;break}}if(r==o)break}return null},n.prototype._getCollection=function(t){var e=t.parentGroup;return e?e.columns:this._colGroups},n.prototype._assertColumnGroups=function(t){var e=this;B(t instanceof Fi,"column groups contain items of invalid collection type"),t.forEach(function(i){B(i instanceof Ai,"column groups contain items of invalid type"),e._assertColumnGroups(i.columns)})},n.prototype._addColumnGroup=function(t){var e=this,i=this._grid;t._rng.col=i.columns.length,t.columns.length==0?i.columns.push(t):t.columns.forEach(function(r){e._addColumnGroup(r)}),t._rng.col2=i.columns.length-1},n.prototype._beginCollectionUpdate=function(){this._updatingCollection++},n.prototype._endCollectionUpdate=function(){this._updatingCollection--,this._updatingCollection<=0&&this.handleCollectionChange()},n.prototype._deferCollectionUpdate=function(t){try{this._beginCollectionUpdate(),t()}finally{this._endCollectionUpdate()}},n}(),Ai=function(n){Yt(t,n);function t(e,i){var r=n.call(this)||this;r._rng=new z(0,-1),r._lvl=0,r._collapsed=!1,r._cols=new Fi,xi(r,e);var o=i&&i.columns;return o&&o.indexOf(r)<0&&o.push(r),r}return t.prototype._copy=function(e,i){if(e=="columns"){var r=gt(i);return this._cols=Fi._parse(r),!0}return!1},Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._cols.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){var e=this._ownerList,i=e&&e.owner;return i instanceof t?i:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this,i=0;e.parentGroup;)e=e.parentGroup,i++;return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){B(We(e)||Q(e),"collapseTo should be an array or a string."),this._collTo!=e&&(this._collTo=e,this._updateCollapsedState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var i=this.grid,r=null;e!=this._collapsed&&(i?(r=new fe(i.columnHeaders,this._rng,this),i.onColumnGroupCollapsedChanging(r)?this._collapsed=k(e):r=null):this._collapsed=k(e)),this._updateCollapsedState(),i&&r&&i.onColumnGroupCollapsedChanged(r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this._ownerList,i=e&&e.owner;return i instanceof t?i.grid:i instanceof an?i:null},enumerable:!0,configurable:!0}),t.prototype._beginBuild=function(){this._lvl=0;for(var e=this.parentGroup;e;e=e.parentGroup)this._lvl++;this._rng=new z(0,-1),this._rng.row=this._rng.row2=this._lvl,this._cols.forEach(function(i){i._beginBuild()})},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this._cols._setChangeHandler(e)},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this._cols._removeChangeHandler()},t.prototype._setOwnerList=function(e){e!=this._ownerList&&(this._ownerList=e)},t.prototype._checkIfCollapsed=function(){var e=this.grid;e&&e.columns&&(this._collapsed?this._updateCollapsedState():this._cols.forEach(function(i){i._checkIfCollapsed()}))},t.prototype._updateCollapsedState=function(){var e=this.grid,i=e?e.columns:null,r=this._rng,o=this._collapsed;if(i){this._cols.forEach(function(u){u instanceof t&&(u._collapsed=o,u._updateCollapsedState())});for(var s=this._getCollapseToIndices(),l=r.leftCol;l<=r.rightCol;l++){var a=!o||s.indexOf(l)>-1;i[l]._setFlag($.ParentCollapsed,!a)}}},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach(function(i){e=Math.max(e,i._getMaxLevel())}),e},t.prototype._expandRange=function(e){var i=e-this._getMaxLevel();i>0&&(this._rng.row2+=i,this._cols.forEach(function(l){l._shiftRange(i)}));for(var r=this.grid.columns,o=this._rng,s=o.col;s<=o.col2;s++)r[s]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach(function(i){i._shiftRange(e)})},t.prototype._containsGroup=function(e){for(var i=0;i<this._cols.length;i++){var r=this._cols[i];if(r==e||r._containsGroup(e))return!0}return!1},t.prototype._isCollapseTo=function(e){var i=this.grid,r=i?i.columns:null;if(!e||!r)return!1;var o=this._getCollapseToBindings();if(o&&o.length)for(var s=0;s<o.length;s++)switch(o[s]){case"$first":case"$last":continue;default:if(e===r.getColumn(o[s]))return!0}return!1},t.prototype._getCollapseToBindings=function(){var e=this.collapseTo;return Q(e)?[e]:e},t.prototype._getCollapseToIndices=function(){var e=this.grid,i=this._rng,r=this._getCollapseToBindings();if(r&&r.length){for(var o=[],s=e.columns,l=0;l<r.length;l++)switch(r[l]){case"$first":o.push(i.leftCol);break;case"$last":o.push(i.rightCol);break;default:var a=s.getColumn(r[l]),u=s.indexOf(a);a&&i.containsColumn(u)&&o.push(u)}if(o.length)return o}return[i.rightCol]},t.prototype.onPropertyChanged=function(){var e=this._changeHdl;e&&e.handlePropertyChange(this),n.prototype.onPropertyChanged.call(this)},t}(et),Fi=function(n){Yt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){return ue(e)?this._getColByIdx(e):this._findColByProp("name",e)||this._findColByProp("binding",e)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),t.prototype.push=function(e){return e._setOwnerList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,i){for(var r=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var l=e;l<e+i&&l<this.length;l++){var a=this[l];a instanceof Ai&&a._setOwnerList(null)}return o.forEach(function(u){return u._setOwnerList(r)}),n.prototype.splice.apply(this,[e,i].concat(o))},t._parse=function(e){var i=null;return e?e instanceof t?i=e:(i=new t,e.forEach(function(r){var o=r instanceof Ai?r:new Ai(r);i.indexOf(o)<0&&i.push(o)})):i=new t,i},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this.forEach(function(i){return i._setChangeHandler(e)})},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this.forEach(function(e){return e._removeChangeHandler()})},t.prototype._setOwner=function(e){this._owner=e,this.forEach(function(i){return i.columns._setOwner(i)})},t.prototype._getColByIdx=function(e){return e>-1&&e<this.length?this[e]:null},t.prototype._findColByProp=function(e,i){for(var r=0;r<this.length;r++){var o=this[r];if(o[e]===i||(o=o.columns._findColByProp(e,i))!==null)return o}return null},t.prototype.onCollectionChanged=function(e){e===void 0&&(e=Jt.reset);var i=this._changeHdl;i&&i.handleCollectionChange(),n.prototype.onCollectionChanged.call(this,e)},t}(qt);Ei("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}});var Gn;(function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.MultiColumn=2]="MultiColumn"})(Gn||(Gn={}));var en;(function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.ColumnRange=2]="ColumnRange",n[n.Both=3]="Both"})(en||(en={}));var ze;(function(n){n[n.None=0]="None",n[n.Column=1]="Column",n[n.Row=2]="Row",n[n.All=3]="All"})(ze||(ze={}));var mn;(function(n){n[n.Default=0]="Default",n[n.CSV=1]="CSV",n[n.QuoteAll=2]="QuoteAll",n[n.SkipMerged=4]="SkipMerged",n[n.Unformatted=8]="Unformatted",n[n.InvisibleRows=16]="InvisibleRows",n[n.InvisibleColumns=32]="InvisibleColumns",n[n.InvisibleCells=48]="InvisibleCells"})(mn||(mn={}));var an=function(n){Yt(t,n);function t(e,i){var r=n.call(this,e,null,!0)||this;r._activeCell=null,r._szClient=new $t(0,0),r._szClientSB=new $t(0,0),r._offsetY=0,r._cssPage=0,r._ptScrl=new bt(0,0),r._cellPadLeft=3,r._cellPadHorz=3,r._cellPadVert=0,r._clipToScreen=!1,r._autoGenCols=!0,r._autoClipboard=!0,r._xOnCopyPaste=!0,r._autoScroll=!0,r._autoSearch=!1,r._caseSensitive=!1,r._readOnly=!1,r._indent=14,r._autoSizeMode=zn.Both,r._autoHeights=!1,r._quickSize=null,r._hdrVis=ze.All,r._alSorting=Gn.SingleColumn,r._alPinning=en.None,r._alAddNew=!1,r._alDelete=!1,r._alResizing=yn.Columns,r._alDragging=Hn.Columns,r._alMerging=Lr.None,r._ssHdr=ze.None,r._shSort=!0,r._shGroups=!0,r._shMarquee=!1,r._shPlcHld=!1,r._altStep=1,r._shErr=!0,r._shDropDown=!0,r._valEdt=!0,r._gHdrFmt=null,r._childItemsPath=null,r._sortRowIndex=null,r._editColIndex=null,r._deferResizing=!1,r._pSel=!0,r._pOutline=!0,r._stickyHdr=!1,r._anchorCursor=!1,r._copyHeaders=ze.None,r._bigChecks=!1,r._skipMerged=!1,r._fzClone=null,r._vt=0,r._vtRows=0,r._vtCols=0,r._lazyRender=!0,r._refreshOnEdit=!0,r._reorderCells=!0,r._isISChanging=!1,r._isScrollingByWheel=!1,r._touchEdit=!1,r.itemsSourceChanging=new P,r.itemsSourceChanged=new P,r.scrollPositionChanged=new P,r.selectionChanging=new P,r.selectionChanged=new P,r.loadingRows=new P,r.loadedRows=new P,r.updatingLayout=new P,r.updatedLayout=new P,r.resizingColumn=new P,r.resizedColumn=new P,r.autoSizingColumn=new P,r.autoSizedColumn=new P,r.starSizedColumns=new P,r.draggingColumn=new P,r.draggingColumnOver=new P,r.draggedColumn=new P,r.pinningColumn=new P,r.pinnedColumn=new P,r.resizingRow=new P,r.resizedRow=new P,r.autoSizingRow=new P,r.autoSizedRow=new P,r.draggingRow=new P,r.draggingRowOver=new P,r.draggedRow=new P,r.groupCollapsedChanging=new P,r.groupCollapsedChanged=new P,r.columnGroupCollapsedChanging=new P,r.columnGroupCollapsedChanged=new P,r.sortingColumn=new P,r.sortedColumn=new P,r.beginningEdit=new P,r.prepareCellForEdit=new P,r.cellEditEnding=new P,r.cellEditEnded=new P,r.rowEditStarting=new P,r.rowEditStarted=new P,r.rowEditEnding=new P,r.rowEditEnded=new P,r.rowAdded=new P,r.deletingRow=new P,r.deletedRow=new P,r.copying=new P,r.copied=new P,r.pasting=new P,r.pasted=new P,r.pastingCell=new P,r.pastedCell=new P,r.formatItem=new P(function(){r._clearCells()}),r.updatingView=new P,r.updatedView=new P,r._mappedColumns=null;var o=r.hostElement;ge()&&(o.style.borderRadius="0");var s=r.getTemplate();if(r.applyTemplate("wj-control wj-content wj-flexgrid",s,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),H(r._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),H(r._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),H(r._eCt,{position:"absolute"}),H(r._eMarquee,{display:"none"}),H(r._eMarquee.firstChild,{width:"100%",height:"100%"}),H(r._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),H(r._eFocus,{position:"fixed",left:"-32000px"}),H(r._eSz,{position:"relative",visibility:"hidden"}),[r._eRHdr,r._eCFtr,r._eCHdr,r._eBL,r._eTL].forEach(function(a){A(a,"aria-hidden",!0),H(a,{position:"absolute",overflow:"hidden",outline:"none"}),H(a.firstElementChild,{position:"relative"})}),[r._eFocus,r._eMarquee,r._fCt,r._eSz].forEach(function(a){A(a,"aria-hidden",!0)}),Qn()||Sp()){var l=r._eMarquee;["click","dblclick","mousedown","mouseup"].forEach(function(a){r.addEventListener(l,a,function(u){var c=l.style.display;l.style.display="none";var h=document.elementFromPoint(u.clientX,u.clientY);l.style.display=c;var d=document.createEvent("Event");d.initEvent(a,!0,!0);for(var f in u)try{d[f]=u[f]}catch{}h.dispatchEvent(d)})})}return o.tabIndex=-1,r.deferUpdate(function(){var a=r._getDefaultRowHeight();r._rows=new po(r,a),r._cols=new rl(r,4*a),r._hdrRows=new po(r,a),r._hdrCols=new rl(r,Math.round(1.25*a)),r._ftrRows=new po(r,a);var u=U;r._gpTL=new St(r,u.TopLeft,r._hdrRows,r._hdrCols,r._eTLCt),r._gpCHdr=new St(r,u.ColumnHeader,r._hdrRows,r._cols,r._eCHdrCt),r._gpRHdr=new St(r,u.RowHeader,r._rows,r._hdrCols,r._eRHdrCt),r._gpCells=new St(r,u.Cell,r._rows,r._cols,r._eCt),r._gpBL=new St(r,u.BottomLeft,r._ftrRows,r._hdrCols,r._eBLCt),r._gpCFtr=new St(r,u.ColumnFooter,r._ftrRows,r._cols,r._eCFtrCt),r._hdrRows.push(new xn),r._hdrCols.push(new et({align:"center"})),r._cf=new Se,r._keyHdl=new lg(r),r._mouseHdl=new ag(r),r._edtHdl=new og(r),r._selHdl=r._createSelHdl(),r._addHdl=new ig(r),r._grpHdl=new ng(r),r._mrgMgr=new gu,r._bndSortConverter=r._sortConverter.bind(r),r._errorTip=new tl({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),A(r.cells.hostElement,"role","grid"),r.selectionMode=se.CellRange,r._root.tabIndex=-1,r.initialize(i)}),r.addEventListener(r._root,"scroll",function(a){if(r._updateScrollPosition()||r._forceScrollUpdate){var u=r.activeEditor,c=r.activeCell,h=c?c.className:null;r._forceScrollUpdate||r.finishEditing(),r._forceScrollUpdate=!1,r._updateContent(!0);var d=r.activeEditor,f=r.activeCell;d&&f&&u&&h?(d.value=u.value,f.className=h,r._setFocusNoScroll(d)):d&&!f&&r.finishEditing(!0),r.frozenColumns&&setTimeout(function(){var p=r.columnHeaders.hostElement.style,_=parseInt(p.left),w=r._ptScrl.x;Math.abs(_-w)>1&&r.invalidate()})}}),r.addEventListener(o,"focus",function(a){if(o.tabIndex>-1){var u=a.target;u instanceof HTMLElement&&u.tabIndex<0&&r._setFocus(!0)}},!0),r}return t.prototype._handleResize=function(){var e=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout(function(){e.activeEditor||(e._touchEdit=!0,e.startEditing(!0))},50):n.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=ye(e,ze))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=k(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=ye(e,ze)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,ue(e)?this._vtRows=this._vtCols=j(e):e?We(e)&&e.length==2?(this._vtRows=j(e[0]),this._vtCols=j(e[1])):B(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e,i=this._hasColumnGroups(),r=i?Ai:et,o=i?"columnGroups":"columns",s=t._getSerializableProperties(r),l=i?["collapseTo"]:[],a=["size"],u=new r,c=i?this.getColumnGroups():this.columns,h=function(f){var p=[];return f.forEach(function(_){var w={};if(s.forEach(function(g){var v=_[g];(function(y,b){return b!=u[y]&&a.indexOf(y)<0&&(Tr(b)||l.indexOf(y)>-1)})(g,v)&&(w[g]=v)}),i){var m=_.columns;m.length&&(w.columns=h(m))}p.push(w)}),p},d=h(c);return JSON.stringify(((e={})[o]=d,e))},set:function(e){var i=this,r=JSON.parse(L(e));B(r,"Invalid columnLayout data."),this.columns.deferUpdate(function(){i.columns.clear(),i._hasColumnGroups()&&(i.columnGroups=new Fi),i.initialize(r)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(gt(e))},enumerable:!0,configurable:!0}),t.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=k(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),te(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipMerged",{get:function(){return this._skipMerged},set:function(e){this._skipMerged=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute("disabled")!=null},set:function(e){if((e=k(e,!0))!=this.isDisabled){var i=this._e;i&&(It(i,!e),this._updateTabIndex(),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return this._imeHdl!=null},set:function(e){if(k(e)!=this.imeEnabled&&this.finishEditing()){var i=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new Il(this)),i&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=ye(e,yn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=ye(e,zn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=k(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return Je(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&this.itemFormatter==null},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){Je(e)&&(e=e?Gn.SingleColumn:Gn.None),this._alSorting=ye(e,Gn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(Je(e)&&(e=e?en.SingleColumn:en.None),this._alPinning=ye(e,en),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=k(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=ye(e,Lr))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=ye(e,ze))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=k(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=k(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=k(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=Ee(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){Cl("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=Le(e,tl,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=ke(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=L(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=ye(e,Hn))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var i=this;if(e!=this._items){var r=new we;if(this.onItemsSourceChanging(r)){if(this._cv&&((o=this._cv).currentChanged.removeHandler(null,this),o.collectionChanged.removeHandler(null,this),o instanceof rn&&o.sortConverter==this._bndSortConverter&&(o.sortConverter=null),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv){var o;(o=this._cv).currentChanged.addHandler(function(s,l){return i._cvCurrentChanged(s,l)},this),o.collectionChanged.addHandler(function(s,l){return i._cvCollectionChanged(s,l)},this),o instanceof rn&&!o.sortConverter&&(o.sortConverter=this._bndSortConverter)}this._isISChanging=!0,this._bindGrid(!0),this._isISChanging=!1,this.onItemsSourceChanged(r)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return Gt(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(B(e==null||We(e)||Q(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=L(e),this._rowHdrPath=e?new st(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e,i){if(this._hasColumnGroups()&&i){var r=this.getColumnGroups();return r!==null?r.getColumn(e):null}return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(_n(this._fCt,null),this._fzClone=k(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=j(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=j(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var i=this._root,r=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":r=i.scrollWidth-i.clientWidth+e.x;break;case"neg":r=e.x;break;default:r=-e.x}i.scrollLeft=r,i.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=Zs(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new $t(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=Le(e,Se,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=ke(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,i){return this._edtHdl._allowEdit(e,i)},t.prototype.getCellData=function(e,i,r){return this.cells.getCellData(e,i,r)},t.prototype.getCellBoundingRect=function(e,i,r){return this.cells.getCellBoundingRect(e,i,r)},t.prototype.setCellData=function(e,i,r,o,s){return o===void 0&&(o=!0),s===void 0&&(s=!0),this.cells.setCellData(e,i,r,o,s)},t.prototype.hitTest=function(e,i){return ue(e)&&ue(i)&&(e=new bt(e,i)),Je(i)&&i&&(this._rcBounds=null),new Oo(this,e)},t.prototype.getClipString=function(e,i,r,o){var s;s=i==null||Je(i)?i?mn.CSV:mn.Default:i,B(ue(s),"Unexpected value for ClipStringOptions parameter.");var l=this.selection,a=this.getMergedRange(this.cells,l.row,l.col,!1);return(a&&(a.columnSpan>1||a.rowSpan>1)||this.skipMerged)&&(s|=mn.SkipMerged),this._edtHdl.getClipString(e,s,r,o)},t.prototype.setClipString=function(e,i){this._edtHdl.setClipString(e,i)},t.prototype.focus=function(e){this.isDisabled||this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl,this._updateDefaultSizes(),clearTimeout(this._toInv),this._toInv=null),this.refreshCells(e);var i=this._e;i&&(this._szCtl=new $t(i.offsetWidth,i.offsetHeight))},t.prototype.refreshCells=function(e,i,r){this.isUpdating||(e?this._updateLayout():this._updateContent(i,r))},t.prototype.refreshRange=function(e){for(var i=e.topRow;i<=e.bottomRow;i++)for(var r=e.leftCol;r<=e.rightCol;r++){var o=this.cells.getCellElement(i,r);if(o){var s=o[St._INDEX_KEY];this.cellFactory.updateCell(this.cells,i,r,o,s.rng)}}},t.prototype.autoSizeColumn=function(e,i,r){i===void 0&&(i=!1),r===void 0&&(r=4),this.autoSizeColumns(e,e,i,r)},t.prototype.autoSizeColumns=function(e,i,r,o){var s=this;r===void 0&&(r=!1),o===void 0&&(o=4);var l=0,a=r?this.topLeftCells:this.columnHeaders,u=r?this.bottomLeftCells:this.columnFooters,c=r?this.rowHeaders:this.cells,h=this.viewRange;e=e==null?0:Ee(e),i=i==null?c.columns.length-1:Ee(i),h.row=Math.max(0,h.row-1e3),h.row2=Math.min(h.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){H(s._eCt,{width:s._gpCells.width});for(var d=_e("<div "+t._WJS_MEASURE+'="true"/>',c.hostElement,{visibility:"hidden"}),f=s._getCanvasContext(),p=e;p<=i&&p>-1&&p<c.columns.length;p++){var _=c.columns[p];if(_.isVisible){if(l=0,s.autoSizeMode&zn.Headers){for(var w=0;w<a.rows.length;w++)a.rows[w].isVisible&&(l=Math.max(s._getDesiredWidth(a,w,p,d),l));for(w=0;w<u.rows.length;w++)u.rows[w].isVisible&&(l=Math.max(s._getDesiredWidth(u,w,p,d),l))}if(s.autoSizeMode&zn.Cells&&h.row>-1&&h.row2>-1)if(_._getQuickAutoSize())w=s._getWidestRow(c,h,p,f),l=Math.max(s._getDesiredWidth(c,w,p,d),l);else for(w=h.row;w<=h.row2&&w<c.rows.length;w++)c.rows[w].isVisible&&(l=Math.max(s._getDesiredWidth(c,w,p,d),l));l>0&&(_.width=l+o+2)}}s.cellFactory.disposeCell(d),De(d)})},t.prototype.autoSizeRow=function(e,i,r){i===void 0&&(i=!1),r===void 0&&(r=0),this.autoSizeRows(e,e,i,r)},t.prototype.autoSizeRows=function(e,i,r,o){var s=this;r===void 0&&(r=!1),o===void 0&&(o=0);var l=0,a=r==1?this.topLeftCells:r==null?this.bottomLeftCells:this.rowHeaders,u=r==1?this.columnHeaders:r==null?this.columnFooters:this.cells;if(o=j(o),e=e==null?0:Ee(e),(i=i==null?u.rows.length-1:Ee(i))>=e&&this.finishEditing()){H(this._eCt,{width:this._gpCells.width});var c=_e("<div "+t._WJS_MEASURE+'="true"/>',u.hostElement,{visibility:"hidden"});this.rows.deferUpdate(function(){for(var h={},d=s._autoSizeMode,f=zn,p=e;p<=i&&p>-1&&p<u.rows.length;p++)u.rows[p].isVisible&&(l=0,d&f.Headers&&(l=s._getDesiredRowHeight(a,p,c,h)),d&f.Cells&&(l=Math.max(s._getDesiredRowHeight(u,p,c,h),l)),l>0&&(u.rows[p].height=l+o))}),this.cellFactory.disposeCell(c),De(c)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=j(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var i=this;this.finishEditing()&&this.deferUpdate(function(){var r=i.rows;r.deferUpdate(function(){for(var o=0;o<r.length;o++){var s=r[o];s instanceof Pe&&(s.isCollapsed=s.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=ye(e,se))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,i){return i===void 0&&(i=!0),this._selHdl.select(e,i)},t.prototype.selectAll=function(){var e=this.rows.length,i=this.columns.length;return!(!e||!i)&&this.select(new z(0,0,e-1,i-1),!1)},t.prototype.getSelectedState=function(e,i){return this.cells.getSelectedState(e,i)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,i=this.selectionMode,r=this.rows.filter(function(s){return s.isSelected});if(r.length==0&&i!=se.None){var o=[];this.selectedRanges.forEach(function(s){for(var l=s.topRow;l<=s.bottomRow&&l>-1&&l<e.rows.length;l++)o.indexOf(l)<0&&o.push(l)}),o.sort(),r=o.map(function(s){return e.rows[s]})}return r},set:function(e){var i=this;B(this.selectionMode==se.ListBox,"This property can be set only in ListBox mode."),e=gt(e),this.deferUpdate(function(){for(var r=0,o=!0;r<i.rows.length;r++){var s=i.rows[r],l=e&&e.indexOf(s)>-1;l&&o&&(o=!1,i.select(r,i.selection.col)),s.isSelected=l}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach(function(i){var r=i?i.dataItem:null;r&&e.indexOf(r)<0&&e.push(r)}),e},set:function(e){var i=this;B(this.selectionMode==se.ListBox,"This property can be set only in ListBox mode."),e=gt(e),this.deferUpdate(function(){for(var r=0,o=!0;r<i.rows.length;r++){var s=i.rows[r],l=e&&e.indexOf(s.dataItem)>-1;l&&o&&(o=!1,i.select(r,i.selection.col)),s.isSelected=l}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(i){e.push(i)}),e},set:function(e){if((e=gt(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==se.MultiRange)){var i=this._selHdl.extendedSelection;i.deferUpdate(function(){i.clear();for(var r=1;r<e.length;r++)i.push(e[r])})}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,i,r){(this._maxOffsetY==null||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var o=this.scrollPosition,s=this._szClient,l=s.width,a=s.height-this._gpCFtr.rows.getTotalSize(),u=this.cells._getFrozenPos();if((e=Ee(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var c=this._rows[e],h=this._getCssPage(c.pos);if(h!=this._cssPage){for(var d=this._maxOffsetY,f=Math.round(d*h);f>c.pos;h-=.1)f=Math.round(d*h);this._offsetY=f}var p=c.pos-this._offsetY,_=p+c.renderSize;_>a-o.y&&(o.y=Math.max(-p,a-_)),p-u.y<-o.y&&(o.y=-(p-u.y)),h!=this._cssPage&&(this._cssPage=this._getCssPage(-o.y))}if(Q(i)&&(i=this.columns.indexOf(i)),(i=Ee(i))>-1&&i<this._cols.length&&i>=this._cols.frozen){var w=this._cols[i],m=w.pos+w.renderSize;m>-o.x+l&&(o.x=Math.max(-w.pos,l-m)),w.pos-u.x<-o.x&&(o.x=-(w.pos-u.x))}if(!o.equals(this._ptScrl))return this.scrollPosition=o,r&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),!0;if(this._activeCell&&e>-1&&i>-1){var g=this._root,v=g.scrollWidth==g.clientWidth,y=g.scrollHeight==g.clientHeight;if(v||y){var b=this._activeCell.getBoundingClientRect(),E=innerWidth,C=innerHeight,S=b.right<0||b.left>E,O=b.bottom<0||b.top>C;o.x=pageXOffset+(b.left<0?b.left:b.right>E?b.right-E:0),o.y=pageYOffset+(b.top<0?b.top:b.bottom>C?b.bottom-C:0),S&&v&&O&&y?scrollTo(o.x,o.y):S&&v?scrollTo(o.x,document.documentElement.scrollLeft):O&&y&&scrollTo(document.documentElement.scrollTop,o.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,i,r,o,s){return e===void 0&&(e=!0),this._edtHdl.startEditing(e,i,r,o,s)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=Le(e,gu,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,i,r,o){return o===void 0&&(o=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,i,r,o):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=ye(e,gi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=ye(e,gi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return de(this.hostElement,t._WJS_WSPRE)},set:function(e){te(this.hostElement,t._WJS_WSPRE,k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=k(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),this._edtHdl._lbx!=null},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this._addHdl._beginningEdit(this,e),e.cancel||this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this._addHdl._rowEditStarting(this,e),e.cancel||this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this._addHdl._rowEditEnding(this,e),this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._addHdl._rowEditEnded(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._createSelHdl=function(){return new tg(this)},t.prototype._getTabIndex=function(){return this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.isDisabled?-1:this._orgTabIndex,i=this._imeHdl;i&&i._updateImeFocus();var r=this._activeCell,o=this._eFocus;r?(r.tabIndex=e,o.tabIndex=-1):o.tabIndex=e},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach(function(i){i._updateContent(!0,!1,i._getOffsetY())}),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){e._toAutoHeights=null,e.editRange||e._autoSizeRows()},M._REFRESH_INTERVAL))},t.prototype._autoSizeRows=function(){var e=this.autoSizeMode,i=zn;e&i.Headers&&(this._autoSizeMode=i.Both,this.autoSizeRows(0,this.columnHeaders.rows.length-1,!0),this._autoSizeMode=e),e&i.Cells&&this.autoSizeRows()},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,i,r,o){if(ee(this.itemValidator)){if(e==this.cells)return this.itemValidator(i,r,o);if(e==this.rowHeaders){for(r=0;r<this.columns.length;r++)if(h=this.itemValidator(i,r,o))return h}}var s=this._cv,l=s?s.getError:null;if(ee(l)){var a=e.rows,u=this.columns,c=a[i].dataItem;if(c&&!(c instanceof vn)){if(e==this.cells)for(;i<a.length&&a[i].dataItem==c;i++)return l(c,this._getBindingColumn(this.cells,i,u[r]).binding,o);else if(e==this.rowHeaders){var h;if(!(h=l(c,null,!1))){for(var d=[];i<a.length&&a[i].dataItem==c;i++)for(r=0;r<u.length;r++){h=l(c,this._getBindingColumn(this.cells,i,u[r]).binding,!1);var f=this.getMergedRange(this.cells,i,r),p=f&&(f.columnSpan>1&&f.col<r||f.rowSpan>1&&f.row<i);h&&!p&&d.push(h)}if(d.length){var _=this.errorTip,w=!!_&&_.isContentHtml;h=d.join(w?"<br/>":`
`)}}return h}}}return null},t.prototype._setAria=function(e,i){A(this.cells.hostElement,"aria-"+e,i)},t.prototype._setFocus=function(e){if(this.hostElement){var i=Z(),r=this.activeEditor,o=this._activeCell,s=this._eFocus,l=this._root,a=this._getTabIndex(),u=this.containsFocus();if(!e&&u&&this.selectionMode!=se.None){var c=this._getBindingColumn(this.cells,this.selection.row,this.columns[this.selection.col]),h=c&&c._edt;!o||q(o,i)||this.imeEnabled||h||this._correctFocusOfActiveCell(o)}else(e||!u)&&(r?q(r,i)||(r.focus(),s.tabIndex=-1):o?q(o,i)||this._correctFocusOfActiveCell(o):!q(s,i)&&i!=l&&(s.tabIndex=a,this._setFocusNoScroll(s)),this.containsFocus()||(s.tabIndex=a,this._setFocusNoScroll(s)))}},t.prototype._correctFocusOfActiveCell=function(e){var i=this._getTabIndex();Z()!=this._root?(ge()&&de(e,"wj-group")&&(e=e.querySelector("."+Se._WJC_COLLAPSE)||e),e.tabIndex=i,this._setFocusNoScroll(e)):e.tabIndex=i,this._eFocus.tabIndex=-1},t.prototype._setFocusNoScroll=function(e){if(Z()!=e){if(Ip())e.focus({preventScroll:!0});else{var i=this.scrollPosition,r=e.style,o=r.position;r.position="fixed",e.focus(),r.position=o,this.scrollPosition=i}this._fixScroll()}},t.prototype._updateDefaultSizes=function(){var e=this._getDefaultRowHeight();return this._rows._setDefaultSize(e),this._cols._setDefaultSize(4*e),this._hdrRows._setDefaultSize(e),this._hdrCols._setDefaultSize(Math.round(1.25*e)),this._ftrRows._setDefaultSize(e),e},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,i=this._eFocus,r=null;i.offsetHeight||(r=_e('<div><div class="wj-cell">0</div></div>',document.body),e&&r.setAttribute("class",e.getAttribute("class")),i=r.children[0]);var o=i.offsetHeight;return(isNaN(o)||o<=6)&&(o=28),De(r),o},t.prototype._getCollectionView=function(e){return No(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return e.font=i.fontSize+" "+i.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,i,r,o){for(var s=0,l=0,a=this._getRowsPerItem()===1&&e.columns[r].dataType==ve.Boolean,u=i.row;u<=i.row2;u++)if(e.rows[u].isVisible){var c=e.getCellData(u,r,!0),h=o.measureText(c).width,d=this.getMergedRange(e,u,r,!1);if(d&&d.columnSpan>1&&(h/=d.columnSpan),h>l&&(l=h,s=u),a)break;u+=d?d.rowSpan-1:0}return s},t.prototype._getDesiredWidth=function(e,i,r,o){var s=this.getMergedRange(e,i,r,!1),l=o.style;return this.cellFactory.updateCell(e,i,r,o,s),l.width=l.top=l.left="",o.offsetWidth/(s&&s.columnSpan>1?s.columnSpan:1)},t.prototype._getDesiredHeight=function(e,i,r,o){var s=o.style,l=this.getMergedRange(e,i,r,!1),a=l?l.rowSpan:1;return this.cellFactory.updateCell(e,i,r,o,l),o.innerHTML.trim()||(o.innerHTML="&nbsp;"),s.height=s.top=s.left="",o.offsetHeight/a},t.prototype._getDesiredRowHeight=function(e,i,r,o){for(var s=0,l=(e.rows[i],this._getQuickAutoSize()),a=0;a<e.columns.length;a++)if(e.columns[a].isVisible){var u=this.getMergedRange(e,i,a,!1),c=void 0;if(l){var h={ct:e.cellType,col:a,spr:u&&u.rowSpan>1?u.rowSpan:1,spc:u&&u.columnSpan>1?u.columnSpan:1,data:e.getCellData(i,a,!0)||"1"},d=JSON.stringify(h);(c=o[d])==null&&(c=this._getDesiredHeight(e,i,a,r),o[d]=c)}else c=this._getDesiredHeight(e,i,a,r);s=Math.max(c,s),a+=u?u.columnSpan-1:0}return s},t.prototype._getSortRowIndex=function(){return this._sortRowIndex!=null?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return this._editColIndex!=null?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,i,r,o){var s,l=this;if(o&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach(function(u){(s=l.getColumn(u.property))&&s.dataMap&&(l._mappedColumns||(l._mappedColumns={}),l._mappedColumns[s.binding]=s.dataMap)}),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(s=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&s.dataMap&&(this._mappedColumns[s.binding]=s.dataMap))),this._mappedColumns){var a=this._mappedColumns[e.property];a&&a.sortByDisplayValues&&(r=a.getDisplayValue(r))}return r},t.prototype._bindGrid=function(e){var i=this;if(this.finishEditing(),this.deferUpdate(function(){i.autoGenerateColumns&&i._lastCount==0&&Ue(i._cv)&&(e=!0);var l;i.preserveSelectedState&&(l=i._getMap())&&i.rows.forEach(function(m){m.isSelected&&m.dataItem&&l.set(m.dataItem,!0)});var a,u=i._getMap();if(u&&i.rows.forEach(function(m){m.isReadOnly&&m.dataItem&&u.set(m.dataItem,!0)}),i.preserveOutlineState&&i.rows.maxGroupLevel>-1&&(a=i._getMap()))for(var c=0;c<i.rows.length;c++){var h=i.rows[c];if(h instanceof Pe&&h.isCollapsed&&h.dataItem){var d=h.dataItem;d instanceof vn&&(d=d._path),a.set(d,!0)}}e&&i.columns.deferUpdate(function(){i._bindColumns()});var f=new we;i.onLoadingRows(f)&&(i.rows.deferUpdate(function(){i._bindRows()}),i.onLoadedRows(f)),i._selHdl.extendedSelection.clear();var p=0;if(l&&l.size&&i.rows.forEach(function(m){var g=m.dataItem;g&&l.has(g)&&(m.isSelected=!0,p++)}),u&&u.size&&i.rows.forEach(function(m){var g=m.dataItem;g&&u.has(g)&&(m.isReadOnly=!0)}),p==0&&i.selectionMode==se.ListBox){var _=i.selection;for(c=_.topRow;c<=_.bottomRow&&c>-1&&c<i.rows.length;c++)i.rows[c]._setFlag($.Selected,!0,!0)}if(a&&a.size&&i.rows.deferUpdate(function(){i.rows.forEach(function(m){if(m instanceof Pe){var g=m.dataItem;g instanceof vn&&(g=g._path),a.has(g)&&(m.isCollapsed=!0)}})}),!i._lastCount){var w=i._cv;w&&w.items&&(i._lastCount=w.items.length)}}),this._cv){var r=e&&!this._toInv;this._syncSelection(r)}else{var o=this.selection,s=new z(-1,o.col,-1,o.col2);this._selHdl._adjustSelection(s,this.selectionMode)}},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,i){if(this.autoGenerateColumns&&this.columns.length==0)this._bindGrid(!0);else{var r=Oe;if(this.childItemsPath&&i.action!=r.Change)this._bindGrid(!1);else{switch(i.action){case r.Change:this.invalidate();return;case r.Add:if(i.index==this._cv.items.length-1){var o=this.rows.length;this.rows[o-1]instanceof Ie&&o--,this.rows.insert(o,new xn(i.item));return}B(!1,"added item should be the last one.");break;case r.Remove:var s=this._findRow(i.item);if(s>-1){this.rows.removeAt(s),this._syncSelection(!1);return}B(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,i){this._syncSelection(!1)},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=se.None){var i=this._selHdl,r=i.selection,o=r.row>-1&&r.row<this.rows.length?this.rows[r.row]:null,s=o?o.dataItem:null,l=this._cv;if(l instanceof rn&&l.isUpdating||this.newRowAtTop&&o instanceof Ie)return;s instanceof vn&&(s=null);var a=this._isISChanging;if(e||s!=l.currentItem||r.row>=this.rows.length||r.row2>=this.rows.length||a&&r.row!==r.row2){var u=this.editableCollectionView;if(!this.childItemsPath||!u||!u.currentAddItem){var c=this._getRowIndex(l.currentPosition);if(c!=r.row||!this.childItemsPath){var h=a?r.col:r.col2;r=new z(c,r.col,c,h),i._adjustSelection(r,this.selectionMode),this.selectionMode&&!this._updating&&this.scrollIntoView(r.row,-1)}}}}},t.prototype._getRowIndex=function(e){if(this._cv){var i=this.rows;if(e>-1){for(var r=this._cv.items[e];e<i.length;e++)if(i[e].dataItem===r)return e;return-1}if(i.length==1&&i[0]instanceof Ie)return 0;var o=this.selection.row,s=o>-1?i[o]:null;return s&&(s instanceof Pe||s.dataItem==null)?o:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var i=0;i<this.rows.length;i++)if(this.rows[i].dataItem==e)return i;return-1},t.prototype._preWidth=function(){var e=this._root,i=this._hdrVis&ze.Row?this._hdrCols.getTotalSize():0;return e.clientWidth-i},t.prototype._updateLayout=function(){var e=new we;if(this.onUpdatingLayout(e)){var i=this._hdrVis&ze.Row?this._hdrCols.getTotalSize():0,r=this._hdrVis&ze.Column?this._hdrRows.getTotalSize():0,o=this._ftrRows.getTotalSize(),s=this._rows.getTotalSize()+o;s<1&&(s=1),this._heightReal=s,this._heightBrowser=Math.min(s,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,s-this._heightBrowser);var l=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(l.paddingTop)+parseInt(l.paddingBottom),this._cellPadHorz=parseInt(l.paddingLeft)+parseInt(l.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?l.paddingRight:l.paddingLeft);var a=this._heightBrowser+r-o,u=this._gpCells.width,c=this._heightBrowser;!u&&this.rows.length&&(u=.1),!c&&this.columns.length&&(c=.1),this.rightToLeft?(H(this._eTL,{right:0,top:0,width:i,height:r}),H(this._eCHdr,{right:i,top:0,height:r}),H(this._eRHdr,{right:0,top:r,width:i}),H(this._eCt,{right:i,top:r,width:u,height:c}),H(this._fCt,{right:i,top:r}),H(this._eBL,{right:0,top:a,width:i,height:o}),H(this._eCFtr,{right:i,top:a,height:o})):(H(this._eTL,{left:0,top:0,width:i,height:r}),H(this._eCHdr,{left:i,top:0,height:r}),H(this._eRHdr,{left:0,top:r,width:i}),H(this._eCt,{left:i,top:r,width:u,height:c}),H(this._fCt,{left:i,top:r}),H(this._eBL,{left:0,top:a,width:i,height:o}),H(this._eCFtr,{left:i,top:a,height:o})),this._stickyHdr&&this._updateStickyHeaders();var h=this.frozenRows||this.frozenColumns?"3":"";H([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:h}),ge()&&(this._fCt.style.zIndex=h?"2":"");var d=this._root,f=d.offsetWidth-d.clientWidth,p=d.offsetHeight-d.clientHeight;H(this._eSz,{width:i+f+this._gpCells.width,height:r+p+this._heightBrowser});var _=null;this.columns._updateStarSizes(d.clientWidth-i)&&(_=d.clientWidth,H(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new $t(d.clientWidth-i,d.clientHeight-r),this._szClientSB=new $t(d.offsetWidth-i,d.offsetHeight-r),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),f=d.offsetWidth-d.clientWidth,p=d.offsetHeight-d.clientHeight,H(this._eSz,{width:i+f+this._gpCells.width,height:r+p+this._heightBrowser}),this._szClient=new $t(d.clientWidth-i,d.clientHeight-r),_&&_!=d.clientWidth&&this.columns._updateStarSizes(d.clientWidth-i)&&(H(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),H([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),H([this._eRHdr,this._fCt],{height:this._szClient.height}),o&&(a=Math.min(a,this._szClient.height+r-o),H([this._eBL,this._eCFtr],{top:a})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,i=0;if(this._stickyHdr){for(var r=0,o=null,s=this.hostElement;s;s=s.parentElement)if(getComputedStyle(s).display!="inline"){var l=s.getBoundingClientRect();o==null&&(o=l.top),r=Math.max(r,l.top)}i=-(o=Math.max(0,r-o-1)),e=o>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-i+"px":"",te(this._eTL,t._WJS_STICKY,e),te(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS||this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if(getComputedStyle(e).overflow=="auto")return!1;return!0},t.prototype._scroll=function(e){var i=this;q(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){i._afClip=null,i.finishEditing(),i._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){i._afSticky=null;var r=new we;i.onUpdatingLayout(r)&&(i._updateStickyHeaders(),i.onUpdatedLayout(r))})))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var i=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>i)return ce(Math.round(e/(this._heightBrowser-i)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,i=e.scrollTop,r=e.scrollLeft;this.rightToLeft&&t._getRtlMode()=="rev"&&(r=e.scrollWidth-e.clientWidth-r);var o=new bt(-Math.abs(r),-i);return this._ptScrl.equals(o)?!1:(this._ptScrl=o,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,i){var r=this,o=this._root,s=this.hostElement,l=this.cells.hostElement,a=this._activeCell,u=Z(),c=q(s,u),h=K(u,".wj-flexgrid")==s?u:null,d=new we;if(this.onUpdatingView(d)){A(l,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),A(l,"aria-label",this.ariaLabel),this._hasValidation=ee(this._itemValidator)||this._cv&&ee(this._cv.getError);var f=!i&&this._errorTip&&this._errorTip._tips.length,p=this._getCssPage(-this._ptScrl.y);p!=this._cssPage&&(this._cssPage=p,this._offsetY=Math.round(this._maxOffsetY*p)),this._updateScrollPosition(),this._updateMarquee();var _=this._gpCells._updateContent(e,i,this._offsetY),w=this._hdrVis;if(w&ze.Column&&(!i||this._ssHdr&w)&&(this._gpCHdr._updateContent(e,i,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),w&ze.Row&&(!i||this._ssHdr&w)&&(this._gpRHdr._updateContent(e,i,this._offsetY),this._eRHdr.scrollTop=0),w&&!i&&this._gpTL._updateContent(e,i,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,i,0),this._gpCFtr._updateContent(e,i,0)),f&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){var y=r._errorTip;if(y){y.hide();for(var b=y._tips,E=0;E<b.length;E++){var C=b[E].element;(!C.offsetHeight||!de(C,"wj-state-invalid"))&&(y.setTooltip(C,null),E--)}}},250)),this._useFrozenDiv()&&(this._updateFrozenCells(i),_&&de(_,"wj-frozen")&&(_=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=_,h)if(h!=o&&h!=this._eFocus&&q(s,h)&&!q(l,h)){if(Z()!==h&&h.focus(),ge()&&h instanceof HTMLInputElement&&!h.type.match(/checkbox|radio|range/i)){var m=h.selectionStart,g=h.selectionEnd;h.setSelectionRange(m,g)}}else{var v=_!==a;this._setFocus(v)}!h&&_&&(_.tabIndex=this.isDisabled?-1:this._orgTabIndex),a&&a!=_&&(a.tabIndex=-1),this._eFocus.tabIndex=_!=null||this.isDisabled?-1:this._orgTabIndex,c&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(d)}},t.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var i=this.hostElement,r=e?e.parentElement:null,o=this.rightToLeft;i&&(i.scrollTop&&(i.scrollTop=0),i.scrollLeft&&!o&&(i.scrollLeft=0)),r&&(r.scrollTop&&(r.scrollTop=0),r.scrollLeft&&!o&&(r.scrollLeft=0))}var s=Zp();e&&s&&s.major==14&&s.minor>=1&&(e.style.transform="",e.style.transform="translateZ(0)")},t.prototype._clearCells=function(){for(var e in this)if(e[0]=="_"){var i=this[e];i instanceof St&&i._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return Je(this._fzClone)?this._fzClone:ge()||Gi()||wr()||bp()},t.prototype._updateFrozenCells=function(e){var i=this._fCt;if(this.frozenRows||this.frozenColumns){var r=this._eCt.querySelectorAll(".wj-frozen");if(e&&i.children.length==r.length){for(var o=0;o<r.length;o++)i.children[o].className=r[o].className;return}if(_n(i,null),!this.activeEditor){var s=this._errorTip,l=navigator.userAgent.indexOf("MSIE")>=0;for(o=0;o<r.length;o++){var a=r[o];if(K(a,".wj-flexgrid")==this.hostElement){var u=a[St._INDEX_KEY],c=a.firstElementChild,h=null;if(u&&c){var d=u.panel,f=this._getBindingColumn(d,u.row,d.columns[u.col]);h=ee(f.cellTemplate)?c.onclick:null}if(l){var p="input[type=checkbox]",_=a.querySelector(p);a=a.cloneNode(!0),_&&(a.querySelector(p).checked=_.checked)}else a=a.cloneNode(!0);if(c=a.firstElementChild,h&&c&&(c.onclick=h),a[St._INDEX_KEY]=u,s){var w=s.getTooltip(r[o]);w&&s.setTooltip(a,w)}i.appendChild(a)}}}}else _n(i,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,i=this._getMarqueeRect();if(i&&i.width&&i.height){var r=e.firstChild,o=e.offsetWidth-r.offsetWidth,s=e.offsetHeight-r.offsetHeight,l=this.cells.hostElement;H(e,{left:i.left+l.offsetLeft-o/2,top:i.top+l.offsetTop-s/2,width:i.width+o,height:i.height+s,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var i=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),r=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),s=this.cells.getCellBoundingRect(o-1,0,!0);e.topRow>=o&&i.top<s.bottom&&(i.top=s.bottom),e.bottomRow>=o&&r.bottom<s.bottom&&(r.height=s.bottom-r.top)}if(this.columns.frozen){var l=Math.min(this.columns.length,this.columns.frozen);s=this.cells.getCellBoundingRect(0,l-1,!0),this.rightToLeft?(e.leftCol>=l&&i.right>s.left&&(i.left=s.left-i.width),e.rightCol>=l&&r.left>s.left&&(r.left=s.left)):(e.leftCol>=l&&i.left<s.right&&(i.left=s.right),e.rightCol>=l&&r.right<s.right&&(r.width=s.right-r.left))}return this.rightToLeft?new yt(r.left,i.top,i.right-r.left,r.bottom-i.top):new yt(i.left,i.top,r.right-i.left,r.bottom-i.top)},t.prototype._bindColumns=function(){for(var e=this.columns,i=0;i<e.length;i++)e[i]._getFlag($.AutoGenerated)&&(e.removeAt(i),i--);var r=this._cv,o=r?r.items:null;o&&o.length&&this.autoGenerateColumns&&this._getColumnTypes(o).forEach(function(s){var l=new et(s);l._setFlag($.AutoGenerated,!0),l.name=l.binding,l.header=xl(l.binding);var a=t._defTypeWidth[l.dataType];if(a!=null){if(Q(a)){var u=Math.round(parseFloat(a));a=a.indexOf("*")>-1?u*e.defaultSize:u}ue(a)&&a>0&&(l.width=a)}e.push(l)}),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return Op(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Ue(e)){var i=e.items[0];this.columns.forEach(function(r){r.dataType==null&&r._binding&&(r.dataType=vi(r._binding.getValue(i)))})}},t.prototype._getMapEditor=function(e,i){return i.editor?i.editor.isDroppedDown!=null?i.dataMapEditor:null:!e.dataMap||e instanceof Pe?i.dataMap?i.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,i,r){return r},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowsPerItem=function(){return 1},t.prototype._isTransposed=function(){return!1},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var i=e.items,r=e.groups;if(this.childItemsPath)for(var o=0;o<i.length;o++)this._addNode(i,o,0);else if(r!=null&&r.length>0&&this.showGroups)for(o=0;o<r.length;o++)this._addGroup(r[o]);else for(o=0;o<i.length;o++)this._addBoundRow(i,o)}},t.prototype._addBoundRow=function(e,i){var r=new xn(e[i]),o=this.rows;r._list=o,o[o.length++]=r},t.prototype._addGroupRow=function(e){this.rows.push(new Pe(e))},t.prototype._addNode=function(e,i,r){var o=e[i],s=this.childItemsPath,l=o[We(s)?s[r]:s],a=new Pe(o);if(a.level=r,this.rows.push(a),We(l))for(var u=0;u<l.length;u++)this._addNode(l,u,r+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var i=e.items,r=0;r<i.length;r++)this._addBoundRow(i,r);else for(r=0;r<e.groups.length;r++)this._addGroup(e.groups[r])},t._getSerializableProperties=function(e){var i=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var s=r[o],l=Object.getOwnPropertyDescriptor(e,s);l&&l.set&&l.get&&s[0]!="_"&&!s.match(/^(disabled|required|showDropDown)$/)&&i.push(s)}return i},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,i){return this._grpHdl.getColumnGroup(e,i)},t.prototype._canMoveColumnGroup=function(e,i,r,o){return this._grpHdl.canMoveColumnGroup(e,i,r,o)},t.prototype._moveColumnGroup=function(e,i,r,o,s){return this._grpHdl.moveColumnGroup(e,i,r,o,s)},t.prototype._copy=function(e,i){var r=this;if(e=="columns"){var o=gt(i);return o.some(function(s){return s.columns!=null})?this.columnGroups=o:(this.columns.clear(),o.forEach(function(s){var l=new et(s);r.columns.push(l)})),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!de(e,"wj-btn-glyph")&&(e.contentEditable=="true"||e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i)!=null)},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&e.type=="checkbox"&&!e.disabled&&!e.readOnly&&de(e,Se._WJC_CHECKBOX)&&K(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!de(e,"wj-grid-ime")&&q(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;ge()?e=15e5:Gi()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=_e('<div dir="rtl"><div></div></div>');H(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),H(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var i=e.scrollLeft;e.scrollLeft=-1e3;var r=e.scrollLeft;De(e),t._rtlMode=r<0?"neg":i>0?"rev":"std"}return t._rtlMode},t.prototype.getEmptyRequiredCell=function(e){if(e>=0)for(var i=0;i<this.columns.length;i++){var r=this.getCellData(e,i,!1);if(this.columns[i].getIsRequired(this.rows[e])&&(r===""||r==null))return i}return null},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((td={})[ve.Number]="0.714285714*",td),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(M),Il=function(){function n(t){var e=this;this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var i=_e('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');H(i,n._cssHidden),El(i),i.tabIndex=-1,this._tbx=i,this._maskProvider=new Br(i),t._root.appendChild(i),this._updateImeFocus();var r=t.hostElement,o=t.addEventListener.bind(t),s=this._updateImeFocusAsyncBnd;o(r,"blur",s,!0),o(r,"focus",s,!0),o(i,"compositionstart",this._cmpstartBnd),Cp()&&o(r,"keypress",this._keypressBnd),t.selectionChanged.addHandler(s,this),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),o(r,"mousedown",function(l){K(Z(),".wj-flexgrid")==t.hostElement&&t.hitTest(l).panel==t.cells&&de(t.hitTest(l).target,"wj-cell")&&l.preventDefault()}),t.gotFocus.addHandler(function(){return e._updateImeFocus()})}return n.prototype.dispose=function(){var t=this._g,e=t.hostElement,i=this._tbx,r=t.removeEventListener.bind(t),o=this._updateImeFocusAsyncBnd;r(e,"blur",o),r(e,"focus",o),r(e,"keypress",this._keypressBnd),r(i,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(o),t.cellEditEnded.removeHandler(this._cellEditEnded),t.cellEditEnding.removeHandler(this._cellEditEnding),De(i)},n.prototype._compositionstart=function(t){var e=this,i=this._g;if(!i.activeEditor){var r=i._selHdl.selection;if(i.startEditing(!1,r.row,r.col,!1,t)){if(i.activeEditor&&i.activeEditor.type!="checkbox"){r=i.editRange;var o=i._getBindingColumn(i.cells,r.row,i.columns[r.col]),s=o&&o._edt,l=i.activeEditor,a=this._tbx,u=i.cells.hostElement,c=i.columns[r.col].pos+u.offsetLeft,h=i.rows[r.row].pos+u.offsetTop,d=i.getCellBoundingRect(r.row,r.col),f=i.cells.getCellElement(r.row,r.col);d.width=f.offsetWidth,d.height=f.offsetHeight,r.row<i.frozenRows&&(h+=i._root.scrollTop),r.col<i.frozenColumns&&(c+=i._root.scrollLeft);var p=f.querySelector(".wj-btn.wj-right");p&&(d.width-=p.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(N){A(a,N,l.getAttribute(N))});var _=l instanceof HTMLTextAreaElement;A(a,"wrap",_?"soft":"off");var w=getComputedStyle(f),m=w.paddingTop;if(r.rowSpan>1&&!_){var g=parseFloat(w.lineHeight);isNaN(g)&&(g=1.2*parseFloat(w.fontSize)),m=Math.max(0,(d.height-g)/2)+"px"}var v={position:"absolute",left:c,top:h,width:d.width-1,height:d.height-1,paddingTop:m,paddingLeft:w.paddingLeft,paddingRight:w.paddingRight,textAlign:w.textAlign,zIndex:f.style.zIndex};if(i.rightToLeft&&(v.right=parseInt(f.style.right)+parseInt(i.cells.hostElement.style.right),v.left=""),H(a,v),s){var y=s._tbx.getBoundingClientRect(),b=a.getBoundingClientRect(),E=window.getComputedStyle(a),C=parseFloat(E.left),S=parseFloat(E.right),O=parseFloat(E.top);i.rightToLeft?H(a,{right:S+b.right-y.right+"px",top:O+y.top-b.top+"px",width:y.width+"px",height:y.height+"px"}):H(a,{left:C+y.left-b.left+"px",top:O+y.top-b.top+"px",width:y.width+"px",height:y.height+"px"})}i._edtHdl._edt=a,a.select();var I=l.value;setTimeout(function(){a.value!=""&&a.value!=" "||(a.value=I),J(a,a.value.length)},20),a.placeholder=l.placeholder,l.placeholder="",l.value=""}}else this._tbx.blur(),setTimeout(function(){e._tbx.focus(),i._setFocusNoScroll(i.hostElement)},20)}},n.prototype._cellEditEnding=function(){var t=this._maskProvider;t&&t.mask&&t._valueChanged()},n.prototype._cellEditEnded=function(){var t=this._tbx,e=this._g;if(this._enableIme()){var i=Z();i.blur(),e._isScrollingByWheel?setTimeout(function(){i.focus(),e._setFocusNoScroll(e.hostElement),i.focus()},20):(i.focus(),e._setFocusNoScroll(e.hostElement),i.focus())}t.value="",H(t,n._cssHidden),this._updateImeFocus()},n.prototype._keypress=function(t){!t.defaultPrevented&&t.target==this._tbx&&!(t.ctrlKey||t.altKey||t.metaKey||t.keyCode==27||this._g.activeEditor)&&(this._tbx.value="",this._compositionstart(t),t.stopPropagation())},n.prototype._updateImeFocus=function(){var t=this._g,e=this._tbx,i=Z(),r=t._getTabIndex();if(t.activeEditor||K(i,".wj-flexgrid")!=t.hostElement)(t.isDisabled||r<0)&&e.tabIndex>=0&&(e.tabIndex=-1);else if(this._enableIme()&&!t._wantsInput(i)){i!=e&&(t.activeCell&&(t.activeCell.tabIndex=-1),e.tabIndex=r,e.disabled=!1,e.value="",t.isTouching||(window&&window.top!=window.self?(J(e,0,0,!1),t._setFocusNoScroll(e)):(J(e,0),e.focus())));var o=t._selHdl.selection,s=o.isValid?t._getBindingColumn(t.cells,o.row,t.columns[o.col]):null;this._maskProvider.mask=s?s.mask:null}else if(e.tabIndex=-1,e.disabled=!0,e.value="",i==e){e.blur();var l=t.activeCell;l?(l.tabIndex=r,l.focus()):t.focus()}},n.prototype._updateImeFocusAsync=function(){var t=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout(function(){t._toFocus=null,t._updateImeFocus()},100)},n.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},n.prototype._enableIme=function(){var t=this._g,e=t._selHdl.selection;if(!t.canEditCell(e.row,e.col))return!1;var i=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!(!i||i.dataType==ve.Boolean)&&(!i||!i.dataMap||i.dataMapEditor!=Nt.RadioButtons)},n._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},n}(),ig=function(){function n(t){this._nrt=new Ie,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._pasting=!1,this._g=t,this._attach()}return Object.defineProperty(n.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){if(t!=this.newRowAtTop){this._top=k(t),this.updateNewRowTemplate();var e=this._g;this._top&&e.selectionMode==se.ListBox&&(e.rows.forEach(function(i,r){i._setFlag($.Selected,r==0,!0)}),e.select(0,e.selection.col))}},enumerable:!0,configurable:!0}),n.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,i=t.rows,r=this._nrt,o=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,s=i.indexOf(r),l=this._top?0:i.length-1,a=!1;if(!o&&s>-1){var u=t.selection;u.row==s&&t.select(u.row-1,u.col),i.removeAt(s)}else o&&(s<0?a=!0:s!=l&&(i.removeAt(s),a=!0),a&&(this._top?i.insert(0,r):i.push(r)),r&&(r._ubv=null,r._setFlag($.ParentCollapsed,!1),this._top&&t.selectionMode==se.ListBox||r._setFlag($.Selected,!1)))},n.prototype._attach=function(){var t=this._g;t&&(t.pasting.addHandler(this._pastingData,this),t.pasted.addHandler(this._pastedData,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},n.prototype._detach=function(){var t=this._g;t&&(t.pasting.removeHandler(this._pastingData,this),t.pasted.removeHandler(this._pastedData,this),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},n.prototype._keydown=function(t){!t.defaultPrevented&&t.keyCode==x.Escape&&this._g.activeEditor==null&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},n.prototype._beginningEdit=function(t,e){if(!e.cancel){var i=t.rows[e.row];i instanceof Ie&&this._handleEditStarting(t,e,i)}},n.prototype._pastingData=function(t,e){e.cancel||(this._pasting=!0)},n.prototype._pastedData=function(t,e){this._pasting=!1},n.prototype._rowEditStarting=function(t,e){if(this._pasting){var i=t.rows[e.row];i instanceof Ie&&this._handleEditStarting(t,e,i)}},n.prototype._rowEditEnding=function(t,e){var i=t.editableCollectionView,r=this._nrt.dataItem;if(i&&this._top&&r&&!e.cancel){var o=i.currentAddItem;if(!(o&&o==r)){o=i.addNew();for(var s in r)o[s]=r[s]}}},n.prototype._rowEditEnded=function(t,e){var i=this,r=t.editableCollectionView;if(r&&!this._committing)if(this._top){if(e.cancel)return;var o=this._nrt.dataItem;if(o){this._committing=!0,this._nrt.dataItem=null;var s=this._g.rows,l=r.items.indexOf(o)+1;l<s.length&&e._rng.setRange(l,-1),t.onRowAdded(e)?r.commitNew():r.cancelNew(),this._committing=!1}var a=t.rows[e.row];setTimeout(function(){a instanceof Ie&&t.select(0,t.columns.firstVisibleIndex),i.updateNewRowTemplate()},20)}else r.isAddingNew&&r.commitNew()},n.prototype._handleEditStarting=function(t,e,i){var r=t.editableCollectionView;if(r&&r.canAddNew)if(this._top)if(this._nrt.dataItem==null){var o=null,s=r.sourceCollection,l=r.newItemCreator;o=ee(l)?l():s&&s.length?new s[0].constructor:{},this._nrt.dataItem=o}else r.currentAddItem&&(t.onRowAdded(e)||r.cancelNew());else{o=r.currentAddItem&&r.currentAddItem==i.dataItem?r.currentAddItem:r.addNew(),r.moveCurrentTo(o);var a=this._nrt.isSelected;this.updateNewRowTemplate(),a&&e.row>-1&&(t.rows[e.row].isSelected=!0),t.isUpdating||t.refresh(!0),t.onRowAdded(e)||r.cancelNew()}},n}(),Ie=function(n){Yt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(xn),Lr;(function(n){n[n.None=0]="None",n[n.Cells=1]="Cells",n[n.ColumnHeaders=2]="ColumnHeaders",n[n.RowHeaders=4]="RowHeaders",n[n.AllHeaders=6]="AllHeaders",n[n.All=7]="All"})(Lr||(Lr={}));var gu=function(){function n(t){t!=null&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return n.prototype.getMergedRange=function(t,e,i,r){r===void 0&&(r=!0);var o=t.grid,s=t.cellType,l=t.columns,a=t.rows,u=a[e],c=l[i];if(u instanceof Ie||!(u instanceof xn&&c instanceof et))return null;if(t==o.columnHeaders){var h=o._getColumnGroup(e,i);if(h){var d=h._rng,f=t.columns;return f.isFrozen(d.col)!=f.isFrozen(d.col2)&&(d=d.clone(),f.isFrozen(i)?d.col2=f.frozen-1:d.col=f.frozen),d}}if(o.showGroups&&!o.childItemsPath&&u instanceof Pe&&u.dataItem instanceof vn&&s==U.Cell){if(d=new z(e,i),c.aggregate==xe.None){for(;d.col>0&&l[d.col-1].aggregate==xe.None&&d.col!=l.frozen;)d.col--;for(;d.col2<l.length-1&&l[d.col2+1].aggregate==xe.None&&d.col2+1!=l.frozen;)d.col2++}for(;d.col<i&&!l[d.col].visible;)d.col++;return d.isSingleCell?null:d}var p=!1,_=Lr,w=U;switch(o.allowMerging){case _.None:p=!0;break;case _.Cells:p=s!=w.Cell;break;case _.ColumnHeaders:p=s!=w.ColumnHeader&&s!=w.TopLeft;break;case _.RowHeaders:p=s!=w.RowHeader&&s!=w.TopLeft;break;case _.AllHeaders:p=s==w.Cell}if(p)return null;if(s==w.Cell){var m=o.editableCollectionView,g=m?m.currentAddItem:null;if(g&&u.dataItem==g)return null}if(l[i].allowMerging){d=new z(e,i);var v=t._vrb,y=0,b=a.length-1;e>=a.frozen?r&&(s==U.Cell||s==U.RowHeader)&&o._vtRows<a.length&&v&&(y=v.topRow,b=v.bottomRow):a.length>a.frozen&&(b=a.frozen-1);for(var E=e-1;E>=y&&this._mergeCell(t,E,i,e,i);E--)d.row=E;for(var C=e+1;C<=b&&this._mergeCell(t,e,i,C,i);C++)d.row2=C;for(;d.row<e&&!a[d.row].visible;)d.row++;if(!d.isSingleCell)return d}if(a[e].allowMerging){d=new z(e,i),v=t._vrb;var S=0,O=l.length-1;i>=l.frozen?r&&(s==U.Cell||s==U.ColumnHeader)&&o._vtCols<l.length&&v&&(S=v.leftCol,O=v.rightCol):O=l.frozen-1;for(var I=i-1;I>=S&&this._mergeCell(t,e,I,e,i);I--)d.col=I;for(var N=i+1;N<=O&&this._mergeCell(t,e,i,e,N);N++)d.col2=N;for(;d.col<i&&!l[d.col].visible;)d.col++;if(!d.isSingleCell)return d}return null},n.prototype._mergeCell=function(t,e,i,r,o){var s=t.rows[e],l=t.rows[r];if(!s||!l||s instanceof Pe||s instanceof Ie||l instanceof Pe||l instanceof Ie)return!1;var a=t.grid.editableCollectionView,u=a?a.currentAddItem:null;return u&&(s.dataItem==u||l.dataItem==u)||e!=r&&t.rows.isFrozen(e)!=t.rows.isFrozen(r)||i!=o&&t.columns.isFrozen(i)!=t.columns.isFrozen(o)||e!=r&&(i>0&&(s.allowMerging&&this._mergeCell(t,e,i-1,e,i)||l.allowMerging&&this._mergeCell(t,r,i-1,r,i))||o<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,e,o,e,o+1)||l.allowMerging&&this._mergeCell(t,r,o,r,o+1)))?!1:t.getCellData(e,i,!0)==t.getCellData(r,o,!0)},n}(),Oo=function(){function n(t,e){this._row=-1,this._col=-1,this._edge=0;var i;if(e instanceof Element){if(K(e,".wj-flexgrid")!=t.hostElement)return;t=e,this._target=e}if(!(t instanceof Element)||t instanceof an){if(t instanceof an)this._target=t.hostElement,i=this._g=t;else{if(!(t instanceof St))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,i=this._g=this._p.grid}e instanceof MouseEvent&&(this._target=e.target,e.type=="mousedown"&&(i._rcBounds=null)),e=dr(e),this._pt=e.clone();var r=i.controlRect,o=i._szClient,s=i.topLeftCells,l=i._eTL,a=i.headersVisibility,u=ze,c=a&u.Row?s.columns.getTotalSize():0,h=a&u.Column?s.rows.getTotalSize():0,d=a&u.Column?h+l.offsetTop:0,f=i._eBL,p=f.offsetHeight;if(e.x-=r.left,e.y-=r.top,i.rightToLeft&&(e.x=r.width-e.x),this._p||e.x>=0&&e.y>=l.offsetTop&&o&&e.x<=o.width+c&&e.y<=o.height+h&&(e.y<d?this._p=e.x<c?i.topLeftCells:i.columnHeaders:e.y<f.offsetTop?this._p=e.x<c?i.rowHeaders:i.cells:this._p=e.x<c?i.bottomLeftCells:i.columnFooters),this._p!=null){var _=this._p.rows,w=this._p.columns,m=this._p.cellType,g=U,v=this._p._getFrozenPos(),y=m==g.TopLeft||m==g.ColumnHeader?h:m==g.BottomLeft||m==g.ColumnFooter?p:_.getTotalSize(),b=m==g.TopLeft||m==g.BottomLeft||m==g.RowHeader?c:w.getTotalSize();m==g.RowHeader||m==g.Cell?(e.y-=h,(e.y>v.y||v.y<=0)&&(e.y-=i._ptScrl.y,e.y+=this._p._getOffsetY())):m!=g.BottomLeft&&m!=g.ColumnFooter||(e.y-=f.offsetTop),(m==g.ColumnHeader||m==g.Cell||m==g.ColumnFooter)&&(e.x-=c,(e.x>v.x||v.x<=0)&&(e.x-=i._ptScrl.x)),m!=g.ColumnHeader&&m!=g.TopLeft||(e.y-=d-h),this._edge=0;var E=n._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(E=n._SZEDGE[1],e.x-=E/2),this._row=e.y>y?-1:_.getItemAt(e.y),this._col=e.x>b?-1:w.getItemAt(e.x),this._row<0||this._col<0){this._p=null;return}if(this._col>-1){var C=w[this._col];e.x-C.pos<=E&&(this._edge|=1);var S=C.pos+C.renderSize-e.x;S<=E&&(this._edge|=4,S<=E/2&&(this._edge|=16))}if(this._row>-1){var O=_[this._row];e.y-O.pos<=E&&(this._edge|=2);var I=O.pos+O.renderSize-e.y;I<=E&&(this._edge|=8,I<=E/2&&(this._edge|=32))}}}else{var N=K(t,".wj-cell"),R=N?N[St._INDEX_KEY]:null;R&&(this._target=t,this._row=R.row,this._col=R.col,this._rng=R.rng,this._p=R.panel,this._g=R.panel.grid)}}return Object.defineProperty(n.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._p?this._p.cellType:U.None},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),n.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(n.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),n.prototype.getColumn=function(t){var e=this._p,i=e&&this._col>-1?e.columns[this._col]:null;if(i&&t){var r=e.grid;i=e.cellType===U.ColumnHeader&&r._hasColumnGroups()?r._getColumnGroup(this._row,this._col):r._getBindingColumn(e,this._row,i)}return i},Object.defineProperty(n.prototype,"range",{get:function(){return this._rng||(this._rng=new z(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeLeft",{get:function(){return(1&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeTop",{get:function(){return(2&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeRight",{get:function(){return(4&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarRight",{get:function(){return(16&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeBottom",{get:function(){return(8&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarBottom",{get:function(){return(32&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n._SZEDGE=[6,30],n}();function jo(){return Sl("wijmo.input")}var rd="$WJ-MSKP",Se=function(){function n(){}return n.prototype.updateCell=function(t,e,i,r,o,s){var l=t.grid,a=l.rightToLeft,u=t.rows,c=t.columns,h=u[e],d=c[i],f=e,p=i,_=h instanceof Pe?h:null,w=h instanceof Ie?h:null,m=d.renderWidth,g=h.renderHeight,v=t.cellType,y="wj-cell",b="",E={display:""},C=U;s!=0&&r.firstElementChild&&(r.childNodes.length==1&&r.firstElementChild.type=="checkbox"||(r.textContent="")),o&&!o.isSingleCell&&(e=o.row,i=o.col,f=o.row2,p=o.col2,h=u[e],d=c[i],_=h instanceof Pe?h:null,g=(G=o.getRenderSize(t)).height,m=G.width);var S=l._getBindingColumn(t,e,d),O=S.dataType||h.dataType,I=S.dataMap||h.dataMap,N=v==C.Cell?l._getMapEditor(h,S):null,R=v==C.RowHeader||v==C.Cell&&(!_||l.childItemsPath),V=R&&N==Nt.RadioButtons,X=O==ve.Boolean&&!I,tt=S.isContentHtml||h.isContentHtml,Fe=d.pos,Ye=h.pos,D=l._ptScrl;if(l._useFrozenDiv()&&v==C.Cell&&!l.editRange)i<c.frozen&&f>=u.frozen?Ye+=D.y:e<u.frozen&&p>=c.frozen&&(Fe+=D.x);else{var G=l._szClient;if(f<u.frozen&&(Ye=Math.min(Ye,G.height),g=Math.min(g,Math.max(0,G.height-Ye)),Ye-=D.y),p<c.frozen){var Y=G.width!=0?G.width:l._preWidth();Fe=Math.min(Fe,Y),m=Math.min(m,Math.max(0,Y-Fe)),Fe-=D.x}}a?E.right=Fe+"px":E.left=Fe+"px",f>=u.frozen&&(Ye-=t._getOffsetY()),E.top=Ye+"px",E.width=m+"px",E.height=g+"px",E.zIndex="",(e<u.frozen||i<c.frozen)&&(E.zIndex=e<u.frozen&&i<c.frozen?2:1);var le=!1,ae=l.alternatingRowStep;if(ae&&(!o||o.row==o.row2)&&(le=h.visibleIndex%(ae+1)==0,ae==1&&(le=!le)),v==C.Cell)_&&(y+=" wj-group"),le&&(y+=" wj-alt"),(e<u.frozen||i<c.frozen)&&(y+=" wj-frozen"),w&&(y+=" wj-new"),h.cssClass&&(y+=" "+h.cssClass),S.cssClass&&(y+=" "+S.cssClass);else{y+=" wj-header",le&&(y+=" wj-header-alt"),h.cssClass&&v==C.ColumnHeader&&(y+=" "+h.cssClass),S.cssClass&&v==C.RowHeader&&(y+=" "+S.cssClass);var nt=!1;v!=C.ColumnHeader&&v!=C.TopLeft||l.allowResizing&yn.Columns&&(nt=l._mouseHdl._getResizeCol(t,p)!=null),nt||v!=C.RowHeader||l.allowResizing&yn.Rows&&(nt=l._mouseHdl._getResizeRow(t,f)!=null),nt&&(y+=" wj-big-header")}h.cssClassAll&&(y+=" "+h.cssClassAll),S.cssClassAll&&(y+=" "+S.cssClassAll);var Xe=jr,Et=t.getSelectedState(e,i,o);switch(Et!=Xe.None&&v==C.Cell&&!X&&l.editRange&&l.editRange.contains(e,i)&&(Et=Xe.None),Et){case Xe.Active:y+=" wj-state-active";break;case Xe.Cursor:y+=" wj-state-selected wj-state-active";break;case Xe.Selected:y+=" wj-state-multi-selected"}f==u._lastFrozen&&(y+=" wj-frozen-row"),p==c._lastFrozen&&(y+=" wj-frozen-col"),(S.wordWrap||h.wordWrap)&&(y+=" wj-wrap"),(S.multiLine||h.multiLine)&&(y+=" wj-multiline");var lt=S.getAlignment(h);lt&&(b=" wj-align-"+lt);var at=v,In=l._isTransposed(),jt=(at==C.ColumnHeader&&!In||at==C.RowHeader&&In)&&l._hasColumnGroups()?l._getColumnGroup(e,i):null;if(jt&&jt.align&&(b=" wj-align-"+jt.align),E.paddingLeft=E.paddingRight=E.paddingTop=E.paddingBottom="",v==C.Cell&&l.rows.maxGroupLevel>-1&&i==c.firstVisibleIndex&&l.treeIndent){var un=_?Math.max(0,_.level):u.maxGroupLevel+1,cn=Math.min(l.treeIndent*un+l._cellPadLeft,m-l._cellPadHorz)+"px";a?E.paddingRight=cn:E.paddingLeft=cn}m<=l._cellPadHorz&&r.getAttribute(an._WJS_MEASURE)==null&&(E.paddingLeft=E.paddingRight=0);var Si=v==C.Cell&&i==c.firstVisibleIndex&&_&&_.hasChildren&&!ua(l,e,i);if(Si&&(b=""),s!=0){var qi=t.getCellData(e,i,!1),qe=t.getCellData(e,i,!0);if(Si){var hg=ay(_,r);qe=_.getGroupHeader()||Cn(qe),r.innerHTML=hg.outerHTML+" "+qe}else if(v!=C.ColumnHeader||f!=l._getSortRowIndex()&&S==d){if(!(v==C.RowHeader&&!qe&&function(){var $i=!1;if(i==l._getEditColumnIndex()){var Yo=l.editableCollectionView,qo=Yo?Yo.currentEditItem:null;qe=r.innerHTML=qo&&h.dataItem==qo?xr("pencil"):h instanceof Ie?xr("asterisk"):"",$i=!0}var Ur=S._tpl;return Ur&&(od(Ur,r,qi,qe,h,S),$i=!0),$i}()))if(v!=C.Cell||O!=ve.Boolean||I||_&&!Je(qi))if(v==C.Cell&&!V&&ua(l,e,i)){var Go=S.inputType||h.inputType;if(Go||(Go=O!=ve.Number||I?"text":"tel"),!I&&!S.mask&&!h.mask){var Ec=t.getCellData(e,i,!1);ue(Ec)&&(qe=ry(Ec,S.format||h.format))}r.innerHTML=(S.multiLine||h.multiLine)&&Go!="checkbox"?'<textarea wrap="soft"></textarea>':'<input type="'+Go+'"/>';var Lt=r.children[0];ie(Lt,"wj-grid-editor wj-form-control"),El(Lt),tt&&I&&!I.isEditable&&(qe=Sn(qe)),Lt.value=qe,Lt.tabIndex=-1,Lt.required=S.getIsRequired(h),A(Lt,"aria-required",Lt.required);var Sc=S.maxLength||h.maxLength;Sc&&(Lt.maxLength=Sc),Lt.style.textAlign=S.getAlignment(h);var Pc=S.mask||h.mask;Pc&&(Lt[rd]=new Br(Lt,Pc)),l.showPlaceholders&&(Lt.placeholder=S.header),l._edtHdl._edt=Lt}else{if(V){var kc=[],dg=t.getCellData(e,i,!1);I.getDisplayValues(h.dataItem).forEach(function($i){var Yo=I.getKeyValue($i)==dg?" checked":"",qo=l.isReadOnly||h.isReadOnly||d.isReadOnly?" disabled":"",Ur=Cn($i);kc.push('<label><input type="radio" tabindex="-1"'+Yo+qo+' value="'+Ur+'"><span>'+Ur+"</span></label>")}),r.innerHTML=kc.join(" "),y+=" "+n._WJC_RADIOMAP}var Ic=R?S._tpl:null;if(Ic?od(Ic,r,qi,qe,h,S):V||(v==C.Cell&&tt?r.innerHTML=qe:r.textContent=qe||""),jt&&jt.collapseTo){var Rl=jt._rng;if(Rl&&(v==C.ColumnHeader&&Rl.columnSpan>1||v==C.RowHeader&&Rl.rowSpan>1)){var Rc=jt.isCollapsed;r.innerHTML='<div role="button" class="'+n._WJC_COLLAPSE+'">'+xr(Rc?"plus":"minus")+"</div>&nbsp;"+r.innerHTML,Rc&&ie(r,"wj-state-collapsed")}}}else{var Pi=r.firstChild;l._isNativeCheckbox(Pi)||(r.innerHTML='<label><input type="checkbox" class="'+n._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',Pi=r.querySelector("input")),Mr(Pi,qi),Pi.disabled=!l.canEditCell(e,i),Pi.disabled&&(Pi.style.cursor="default"),l.editRange&&l.editRange.contains(e,i)&&(l._edtHdl._edt=Pi)}}else{r.innerHTML=Cn(qe);var Dc=S.currentSort;Dc&&l.showSort&&(y+=" wj-sort-"+(Dc=="+"?"asc":"desc"),r.innerHTML+="&nbsp;"+ly(S)),l.allowPinning&&q(l.hostElement,r)&&sy(r,i<l.frozenColumns)}if(N==Nt.DropDownList&&l.showDropDown&&l.canEditCell(e,i)&&jo()){var fg=oy();r.insertBefore(fg,r.firstChild),ua(l,e,i)&&(y+=" wj-hasdropdown")}}if(v==C.RowHeader||v==C.ColumnHeader){var pg=v==C.RowHeader?!_&&!w&&h.allowDragging&&(l.allowDragging&Hn.Rows)!=0:(jt||d).allowDragging&&(l.allowDragging&Hn.Columns)!=0;A(r,"draggable",pg?"true":null)}y+=b,r.className!=y&&(r.className=y);var Tc=r.style;for(var Wo in E)Tc[Wo]!==E[Wo]&&(Tc[Wo]=E[Wo]);if(l._edtHdl._edt&&l._edtHdl._edt.parentElement==r){var Dl=l._root,Mc=Dl.getBoundingClientRect(),Ko=r.getBoundingClientRect(),Oc=Mc.top+Dl.clientHeight-Ko.top,jc=Mc.left+Dl.clientWidth-Ko.left;Ko.height>Oc&&(r.style.height=Oc+"px"),Ko.width>jc&&(r.style.width=jc+"px")}if((v==C.Cell||v==C.RowHeader)&&l._getShowErrors()){var gg=l._getError(t,e,i,!1);l._edtHdl._setCellError(r,gg)}if(l.itemFormatter&&l.itemFormatter(t,e,i,r),l.formatItem.hasHandlers){var ki=n._fmtItemArgs;ki?(ki._p=t,ki._rng.setRange(e,i,f,p),ki._cell=r):ki=n._fmtItemArgs=new eg(t,new z(e,i,f,p),r),ki._updateContent=s!==!1,l.onFormatItem(ki)}},n.prototype.disposeCell=function(t){},n.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":return e.checked;case"radio":return e.value}if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var i=e[rd],r=i?i._applyMask():e.value,o=e.maxLength;if(ue(o)&&o>-1&&r.length>o){var s=oe.Globalize.numberFormat["%"]||"%",l=r.length&&r[r.length-1]==s;r=r.substr(0,o),l&&r.indexOf(s)<0&&(r+=s)}return r}return null},n._WJC_RADIOMAP="wj-radio-map",n._WJC_CHECKBOX="wj-cell-check",n._WJC_COLLAPSE="wj-elem-collapse",n._WJC_DROPDOWN="wj-elem-dropdown",n._WJC_PIN="wj-elem-pin",n._tplDdBtn=rg(n._WJC_DROPDOWN,"down"),n._tplCtx={row:null,col:null,value:null,text:null,item:null},n}();function od(n,t,e,i,r,o){var s=Se._tplCtx;s.value=e,s.text=i,s.item=r.dataItem,s.row=r,s.col=o;var l=Q(n)?Lp(n,s):n(s,t);l!=null&&(t.innerHTML=l)}function ry(n,t){t=t||"n";var e=ne._parseNumericFormat(t);switch(e.spec){case"d":case"x":break;case"e":t=t.replace(/[0-9]/g,"");break;default:t=e.spec=="p"?"P15":"r",e.scale&&(t+=Array(e.scale/3+1).join(","))}return ne.formatNumber(n,t,!0)}function ua(n,t,e){return n.editRange&&n.editRange.contains(t,e)}function oy(){var n=Se._ddBtn;return n||(n=Se._ddBtn=_e(Se._tplDdBtn),Ve(n,oe.FlexGrid.ariaLabels.toggleDropDown),A(n,"aria-expanded",!1)),n.cloneNode(!0)}function sy(n,t){var e=rg(Se._WJC_PIN,"pin"),i=_e(e);te(i,"wj-state-pinned",t),A(i,"aria-pressed",t),n.insertBefore(i,n.firstChild)}function ly(n){var t=xr(n.currentSort=="+"?"up":"down"),e=n.grid.collectionView;if(e&&e.sortDescriptions.length>1){var i=n.currentSortIndex;i>-1&&(t+='<span class="wj-sort-index">'+(i+1)+"</span>")}return t}function ay(n,t){var e=Se._WJC_COLLAPSE,i=(n.isCollapsed?"":"down-")+(n.grid.rightToLeft?"left":"right"),r=_e('<button class="wj-btn wj-btn-glyph '+e+'" type="button" tabindex="-1">'+xr(i)+"</button>");return Ve(r,oe.FlexGrid.ariaLabels.toggleGroup),A(r,"aria-expanded",!n.isCollapsed),A(t,"aria-expanded",!n.isCollapsed),r}function xr(n){return'<span class="wj-glyph-'+n+'"></span>'}function rg(n,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",n).replace("{glyph}",xr(t))}var uy=4,og=function(){function n(t){var e=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._mapSearch=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._composing=!1,this._g=t,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),t.selectionChanging.addHandler(function(r,o){if(e.finishEditing()){var s=t._selHdl.selection.row;if(s!=o.row){var l=t.rows.length;if((s>-1&&s<l?t.rows[s].dataItem:null)!=(o.row>-1&&o.row<l?t.rows[o.row].dataItem:null)&&(e._commitRowEdits(),t._getHasValidation())){var a=!t.rows[s]||t.rows[s]&&Object.getPrototypeOf(t.rows[s])!==xn.prototype?null:t.getEmptyRequiredCell(s);a!==null&&setTimeout(function(){t.select(new z(s,a)),e.startEditing(!0,s,a,!0,o)})}}}else o.cancel=!0}),t.lostFocus.addHandler(function(){var r=Z();r&&getComputedStyle(r).position=="fixed"?e.finishEditing():e._commitRowEdits()});var i=t.hostElement;t.addEventListener(i,"mousedown",function(r){if(!r.defaultPrevented&&r.button==0&&!t._mouseHdl._szRowCol){var o=t.hitTest(r);o.cellType!=U.Cell&&o.cellType!=U.None&&(e.finishEditing()||e.finishEditing(!0))}},!0),t.addEventListener(i,"compositionend",function(){e._composing=!1,e._keypress.bind(e)}),t.addEventListener(i,"compositionstart",function(){e._composing=!0})}return n.prototype.startEditing=function(t,e,i,r,o){t===void 0&&(t=!0);var s=this._g,l=s._selHdl.selection;if(e=j(e,!0,!0),i=Q(i)?s.columns.indexOf(i):j(i,!0,!0),e==null&&(e=l.row),i==null&&(i=l.col),r==null&&(r=!0),!this._allowEdit(e,i))return!1;var a=s.getMergedRange(s.cells,e,i,!1);a||(a=new z(e,i));var u=s.rows[e].dataItem;if(s.scrollIntoView(a.row,a.col,!0),!s.select(a,!0)||!s.rows[e]||u!=s.rows[e].dataItem)return!1;if(this.activeEditor){if(a.equals(this._rng))return!0;if(!this.finishEditing())return!1}var c=new fe(s.cells,a,o);if(!s.onBeginningEdit(c))return!1;var h=s.editableCollectionView,d=!1;h&&((d=(u=s.rows[e].dataItem)!=h.currentEditItem)&&s.onRowEditStarting(c),h.editItem(u),d&&(s.onRowEditStarted(c),this._edItem=u));var f=s.rows[e],p=s._getBindingColumn(s.cells,e,s.columns[i]),_=p.dataMap||f.dataMap,w=Nt.RadioButtons,m=f.dataMap&&f.dataMapEditor==w||p.dataMap&&p.dataMapEditor==w;if(this._fullEdit=k(t),this._rng=a,this._list=null,_&&!m&&!p.editor){var g=_.getDisplayValues(u);(p.isContentHtml||f.isContentHtml)&&(g=g.map(function(R){return Sn(R)})),this._list=g,this._mapSearch=_.search}if(m){var v=s._activeCell||s.hostElement.querySelector(".wj-cell.wj-state-active");if(v){var y=o?o.target:null;y instanceof HTMLSpanElement&&(y=K(y,"label")),y instanceof HTMLLabelElement&&(y=y.querySelector("input")),this._edt=y instanceof HTMLInputElement?y:v.querySelector("input"),this._updateRowHeaderCell(e)}}else a.isSingleCell?this._updateEditorCell(e,i,d):s.refresh(!1);var b=this._edt;if(b){if(b.type=="checkbox"||b.type=="radio")this._fullEdit=!1;else if(r){var E=0,C=b.value.length,S=!1,O=oe.Globalize.numberFormat["%"]||"%",I=s.getCellData(e,i,!1);if(ue(I)?S=b.value.indexOf(O)>-1:I==null&&(S=/^p/i.test(p.format))&&b.value.indexOf(O)<0&&(b.value+=O),S){var N=b.value;for(E=0,C=N.length;C>0&&(N[C-1]==O||N[C-1]==" ");)C--;for(;E<C&&N[E]==O;)E++}o&&o.type=="keydown"&&o.keyCode==x.Space&&(E=C),J(b,E,C),ge()&&b.style.textAlign=="right"&&(b.style.paddingRight="1px")}s.onPrepareCellForEdit(c)}return r&&!s.containsFocus()&&s.focus(),b!=null&&!b.disabled&&!b.readOnly},n.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var i=this._g,r=this._rng,o=new il(i.cells,r),s=i.containsFocus();if(!t){var l=i.hostElement.querySelector(".wj-control.wj-state-focused");if(l){var a=M.getControl(l);a&&(a.containsFocus()||a._focus)&&a.onLostFocus(o)}}if(o.cancel=t,!t&&i.validateEdits&&(g=this._getValidationError())){o.cancel=!0;var u=i.cells.getCellElement(r.row,r.col);u&&(this._setCellError(u,g),o.stayInEditMode=!0)}if(this._cstEdtValue=null,o.data=i.cells.getCellData(r.topRow,r.leftCol,!1),!i.onCellEditEnding(o)&&o.stayInEditMode)return s?setTimeout(function(){e.select()}):e.select(),this._fullEdit=!0,!1;if(!o.cancel){for(var c=this._cstEdtValue,h=c&&!Vn(c.value)?c.value:i.cellFactory.getEditorValue(i),d=r.topRow;d<=r.bottomRow&&d<i.rows.length;d++)for(var f=r.leftCol;f<=r.rightCol&&f<i.columns.length;f++){var p=i._getBindingColumn(i.cells,d,i.columns[f]),_=i.rows[d],w=p&&p.dataMap||_&&_.dataMap,m=!w||w.serializeKeys;if(!i.cells.setCellData(d,f,h,m,!1)&&i.validateEdits){var g;if(g=this._getValidationError(!0)){o.cancel=!0;var v=i.cells.getCellElement(r.row,r.col);return v&&(this._setCellError(v,g),o.stayInEditMode=!0),!1}}}e.value==this._edtValue&&e.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=o.cancel,this._removeListBox();var y=K(e,".wj-cell");return q(y,Z())&&i._setFocusNoScroll(y),!o.cancel&&o.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(r.row,r.col,!1),s&&i.focus(),i.onCellEditEnded(o),!0},n.prototype._setCustomEditorValue=function(t){this._cstEdtValue={value:t}},n.prototype._setCellError=function(t,e){var i=this._g;e==""&&(e=null),te(t,"wj-state-invalid",e!=null);var r=i.errorTip,o=i.activeEditor;r?(r.setTooltip(t,e),o&&q(t,o)&&A(o,"title","")):A(t,"title",e),o&&t==i.activeCell&&!q(t,o)&&r&&r.setTooltip(o,e)},Object.defineProperty(n.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),n.prototype.getClipString=function(t,e,i,r){var o,s=this,l=this._g,a=l.selectionMode,u=[],c=(e&mn.CSV)!=0,h=c?`\r
`:`
`,d=c?",":"	",f=(e&mn.InvisibleRows)!=0,p=se,_=t!=null;if(!t&&a!=p.ListBox){for(var w=l.rows,m=0;m<w.length;m++)if(w[m].isSelected){a=p.ListBox;break}}if(!t)switch(l._selHdl._expandSelection(),t=l.selection,a){case p.Row:case p.RowRange:case p.ListBox:t.col=0,t.col2=l.columns.length-1;break;case p.MultiRange:var g=l.selectedRanges;if(g.length>1){var v=this._sameCols(g),y=this._sameRows(g);if(v||y){(g=g.slice()).sort(function(R,V){var X=R.topRow-V.topRow;return X||R.leftCol-V.leftCol});for(var b=0;b<g.length;b++)for(var E=g[b],C=b+1;C<g.length;C++)E.contains(g[C])&&(g.splice(C,1),C--);if(v){var S=[];return g.forEach(function(R){S.push(s.getClipString(R,e,i,r)),i=!1}),S.join(h)}if(y){var O;return g.forEach(function(R){var V=s.getClipString(R,e,i,r).split(h);O==null?(O=V,r=!1):V.forEach(function(X,tt){O[tt]+=d+X})}),O.join(h)}}}}var I=t.col>-1&&t.col2>-1;if(i&&I&&(o=l.columnHeaders).rows.forEach(function(R,V){if(f||R.isVisible){var X=s._getRowClipString(o,V,t,e,r);u.push(X)}}),t.row>-1&&t.row2>-1)if(o=l.cells,a!=p.ListBox||_){for(B(t.bottomRow<o.rows.length,"Row index must be less than the number of rows."),b=t.topRow;b<=t.bottomRow;b++)if(f||o.rows[b].isVisible){var N=this._getRowClipString(o,b,t,e,r);u.push(N)}}else o.rows.forEach(function(R,V){if(R.isSelected&&(f||R.isVisible)){var X=s._getRowClipString(o,V,t,e,r);u.push(X)}});return u.join(h)},n.prototype._getRowClipString=function(t,e,i,r,o){var s=[],l=t.rows[e],a=mn,u=(r&a.CSV)!=0,c=(r&a.InvisibleColumns)!=0,h=(r&a.Unformatted)==0,d=(r&a.SkipMerged)!=0;if(l.isVisible){if(o){for(var f=t.cellType==U.ColumnHeader?t.grid.topLeftCells:t.grid.rowHeaders,p=0;p<f.columns.length;p++)if(c||f.columns[p].isVisible){var _=f.getCellData(e,p,!0);d&&this._skipMergedCell(t,null,e,p)&&(_=""),s.push(this._getCellClipString(_,r))}}if(i.col>-1&&i.col2>-1)for(B(i.rightCol<t.columns.length,"Column index must be less than the number of columns."),p=i.leftCol;p<=i.rightCol;p++)(c||t.columns[p].isVisible)&&(!(_=t.getCellData(e,p,h))&&l instanceof Pe&&p==t.columns.firstVisibleIndex&&(_=Sn(l.getGroupHeader())),d&&this._skipMergedCell(t,null,e,p)&&(_=""),s.push(this._getCellClipString(_,r)))}return s.join(u?",":"	")},n.prototype._skipMergedCell=function(t,e,i,r){var o=t.grid.getMergedRange(t,i,r,!1);return!!(o&&(e&&(o.row=Math.max(e.topRow,o.row),o.col=Math.max(e.leftCol,o.col)),o.row!=i||o.col!=r))},n.prototype._getCellClipString=function(t,e){Q(t)||(t=Me(t)?t.toJSON():t!=null?t.toString():""),t=t.replace(/\t/g," ");var i=(e&mn.QuoteAll)!=0;return(i=i||/\n|^"|"$/.test(t))||!(e&mn.CSV)||(i=t.indexOf(",")>-1),i&&(t='"'+(t=t.replace(/"/g,'""'))+'"'),t},n.prototype._sameRows=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].topRow!=e.topRow||t[i].bottomRow!=e.bottomRow)return!1;return!0},n.prototype._sameCols=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].leftCol!=e.leftCol||t[i].rightCol!=e.rightCol)return!1;return!0},n.prototype.setClipString=function(t,e){var i=this,r=this._g,o=r.editableCollectionView,s=e==null,l=se;if(s)switch(r._selHdl._expandSelection(),e=r.selection,r.selectionMode){case l.Row:case l.RowRange:case l.ListBox:e.col=0,e.col2=r.columns.length-1;break;case l.MultiRange:var a=r.selectedRanges;if(a.length>1){o&&o.beginUpdate(),a.forEach(function(R){r.setClipString(t,R)}),o&&o.endUpdate(),r.selectedRanges=a;return}}e=Le(e,z);var u=this._parseClipString(L(t));!s&&u.length>e.rowSpan&&(u=u.slice(0,e.rowSpan)),this._expandClipRows(u,e);var c=0;if(u.length)for(var h=e.leftCol,d=r.columns.length,f=0;f<u[0].length;f++)for(var p=h+f+c;p<d&&!r.columns[p].visible;)c++,p++;var _=s?new z(e.topRow,e.leftCol,Math.min(e.topRow+u.length-1,r.rows.length-1),Math.min(e.leftCol+u[0].length-1+c,r.columns.length-1)):e,w=new fe(r.cells,_,t);if(!r.onPasting(w))return!1;_=new z(e.topRow,e.leftCol);var m=new fe(r.cells,new z(e.topRow,-1)),g=!1,v=0,y=e.topRow,b=r.rows,E=r.columns,C=r._getRowsPerItem(),S=u.length>C,O=this._deferPaste(e,u.length);if(B(C>=1,"Invalid RPI value = "+C),r.deferUpdate(function(){var R=-1;o&&O&&(R=o.currentPosition,o.beginUpdate());for(var V=0;V<u.length&&y<b.length;V++,y++){var X=b[y];if(X.isVisible){if(!S||!X.isReadOnly){var tt=X.dataItem,Fe=o?o.currentEditItem:null;if(Fe&&tt!=Fe&&(r.onRowEditEnding(m),r.onRowEditEnded(m)),X instanceof Ie&&o){if(O){if(X.dataItem=o.addNew(),m._rng.setRange(r.newRowAtTop?0:y,-1),!r.onRowEditStarting(m)){y--,o.cancelNew();continue}r.onRowEditStarted(m)}else if(C==1||(y+1)%C==1){if(m._rng.setRange(r.newRowAtTop?y%C:y,-1),!r.onRowEditStarting(m)){y--;continue}r.onRowEditStarted(m)}}else tt!=Fe&&(m._rng.setRange(y,-1),r.onRowEditStarting(m),r.onRowEditStarted(m));for(var Ye=u[V],D=e.leftCol,G=0;G<Ye.length&&D<E.length;G++,D++){var Y=E[D];if(Y.isVisible){if(!S||!Y.isReadOnly){var le=r.getMergedRange(r.cells,y,D,!1);if(!(le&&(le.leftCol!=D||le.topRow!=y))&&i._allowEdit(y,D)){var ae=Ye[G],nt=ae.length;nt>1&&ae[0]=='"'&&ae[nt-1]=='"'&&ae.indexOf(`
`)>-1&&(ae=ae.substr(1,nt-2));var Xe=Y.maxLength||X.maxLength;Xe&&(ae=ae.substr(0,Xe));var Et=new fe(r.cells,new z(y+v,D),ae);if(r.onPastingCell(Et)){o&&(o.editItem(tt),i._edItem=o.currentEditItem);var lt=r.getCellData(y,D,!1),at=Et.data,In=jo();if(In){var jt=r._getBindingColumn(r.cells,y,r.columns[D]),un=jt.editor,cn=null,Si=null;un instanceof In.InputNumber?(cn=un.clamp.bind(un),Si=ve.Number):(un instanceof In.InputDate||un instanceof In.InputTime)&&(cn=un._clamp.bind(un),Si=ve.Date),cn&&(at=bl(at,Si,jt.format,lt),vi(at)==Si&&(at=cn(at)))}r.setCellData(y,D,at)&&(Et.data=lt,r.onPastedCell(Et),g=!0)}_.row2=Math.max(_.row2,y+v),_.col2=Math.max(_.col2,D)}}}else G--}if(i._edItem&&o instanceof rn){var qi=new Jt(Oe.Change,i._edItem,y);o.onCollectionChanged(qi)}X instanceof Ie&&o&&(O?(X.dataItem=null,g?(m._rng.setRange(r.newRowAtTop?0:y,-1),r.onRowEditEnding(m),r.onRowEditEnded(m),y--,v++,o.commitNew()):o.cancelNew()):S&&C>1&&(y+1)%C==0&&g&&(m._rng.setRange(r.newRowAtTop?y%C:y,-1),r.onRowEditEnding(m),r.onRowEditEnded(m),y-=C,v++))}}else V--}if(o)if(O)o.currentEditItem&&(o.commitEdit(),r.onRowEditEnding(m),r.onRowEditEnded(m)),o.moveCurrentToPosition(R),o.endUpdate(!0);else{var qe=o.currentAddItem;!qe&&e.row==0&&r.newRowAtTop&&b[0]instanceof Ie&&(qe=b[0].dataItem),qe&&(o.editItem(qe),i._edItem=qe)}_.rowSpan>1&&_.topRow==0&&b[0]instanceof Ie&&(_.row=_.row2=0),r.select(_)}),r.onPasted(w),g&&K(r.hostElement,"form")){var I=document.createEvent("HTMLEvents"),N=_e("<input>",r.hostElement);I.initEvent("change",!0,!1),N.dispatchEvent(I),De(N)}},n.prototype._deferPaste=function(t,e){var i=this._g.rows,r=i.length;return e>1&&(r>1&&i[0].dataItem!=i[1].dataItem||r==1&&i[0]instanceof Ie)},n.prototype._parseClipString=function(t){var e=[],i=(t=(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)).replace(/\n$/,"")).length,r=function(w){return w===`
`||w==="	"},o=0,s=0;for(o=0;o<i;o++){var l=!1,a=!1,u=!1;if(t[o]==='"'){for(var c=!1,h=!1,d=o+1;d<i;d++){var f=t[d];if(f==='"'){var p=d+1;p<i?r(t[p])&&(h=!0):h=!0}else!c&&r(f)&&(c=!0);if(h)break}h&&c&&(l=!0)}for(s=o;s<i&&!u;s++){var _=t[s];_==='"'?l&&(a=!a):r(_)&&!a&&(this._parseClipCell(e,t,o,s,_==`
`),o=s,s==i-1&&(o=s+1),u=!0)}if(s==i){this._parseClipCell(e,t,o,s,!1);break}}return e.length==0&&e.push([""]),e},n.prototype._parseClipCell=function(t,e,i,r,o){t.length||t.push([]);var s=e.substr(i,r-i),l=s.length;if(l>2&&s[0]=='"'&&s[l-1]=='"'){var a=s.substr(1,l-2),u=function(c){return a.indexOf(c)>-1};(u('""')||u("	")||u(`
`))&&(s=a.replace(/""/g,'"'))}else s=="	"&&(s="");t[t.length-1].push(s),o&&t.push([])},n.prototype._expandClipRows=function(t,e){for(var i=t.length,r=0,o=0;o<i;o++)r=Math.max(r,t[o].length);for(var s=this._g,l=0,a=0,u=e.topRow;u<=e.bottomRow;u++)s.rows[u].isVisible&&l++;for(var c=e.leftCol;c<=e.rightCol;c++)s.columns[c].isVisible&&a++;if((l>1||a>1)&&(l==1&&(l=i),a==1&&(a=r),a%r==0&&l%i==0)){for(c=r;c<a;c++)for(u=0;u<i;u++)t[u].push(t[u%i][c%r]);for(u=i;u<l;u++)t.push(t[u%i])}},n.prototype._updateEditorCell=function(t,e,i){var r=this._g,o=r.cells.getCellElement(t,e),s=r._useFrozenDiv()&&(t<r.frozenRows||e<r.frozenColumns);!o||s||r._hasPendingUpdates()?r.refresh(!1):r.onUpdatingView(new we)&&(this._updateCell(o),(i||r._getHasValidation())&&this._updateRowHeaderCell(t),r.onUpdatedView())},n.prototype._updateRowHeaderCell=function(t){var e=this._g;if(e.headersVisibility&ze.Row){var i=e.rowHeaders,r=e._getEditColumnIndex(),o=i.getCellElement(t,r);o&&this._updateCell(o)}},n.prototype._updateCell=function(t){var e=new Oo(t,null),i=an._WJS_UPDATING;e.panel&&(ie(t,i),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),kt(t,i))},n.prototype._getValidationError=function(t){var e=this,i=this._g,r="";if(i&&this._rng&&!this._validating){var o=this._rng.row,s=this._rng.col,l=i.activeEditor,a=i.cellFactory.getEditorValue(i),u=i.getCellData(o,s,!1);if(t&&(r=i._getError(i.cells,o,s,!0)),!r&&i._getHasValidation()){if(l&&(r=l.validationMessage),!r){var c=i.columns[s],h=i.rows[o];!i._getBindingColumn(i.cells,o,c).getIsRequired(h)||a!=null&&a!==""||(r=this._getRequiredMsg())}!r&&i.setCellData(o,s,a,!0,!1)&&(r=i._getError(i.cells,o,s,!1),i.setCellData(o,s,u,!1,!1))}if(!r){var d=M.getControl(K(l,".wj-control"));if(d&&d!=i&&d.invalidInput.hasHandlers){var f=function(w,m){m.cancel&&(r=i._getError(i.cells,o,s,!0)||e._getBadInputMsg(),m.cancel=!1)};this._validating=!0;var p=l.value;if(d.invalidInput.addHandler(f),d._containsFocus()){var _=K(d.hostElement,".wj-cell");_&&_.focus()}d.onLostFocus(),d.invalidInput.removeHandler(f),l.value=p,r&&l.select(),this._validating=!1}}}return r},n.prototype._getRequiredMsg=function(){if(!n._msgRequired){var t=document.createElement("input");t.required=!0,n._msgRequired=t.validationMessage}return n._msgRequired},n.prototype._getBadInputMsg=function(){if(!n._msgBadInput){var t=document.createElement("input");t.pattern="x",t.value="a",n._msgBadInput=t.validationMessage||"Bad Input"}return n._msgBadInput},n.prototype._allowEdit=function(t,e){var i=this._g;if(i.isReadOnly||i.selectionMode==se.None||i.collectionView&&!i.editableCollectionView)return!1;if(t!=null){if(t<0||t>=i.rows.length)return!1;var r=i.rows[t];if(!r||r.isReadOnly||!r.isVisible)return!1}if(e!=null){if(e<0||e>=i.columns.length)return!1;var o=i._getBindingColumn(i.cells,t,i.columns[e]);if(!o||o.isReadOnly||!o.isVisible)return!1}return!0},n.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var i=new fe(t.cells,t.selection);t.onRowEditEnding(i),e.commitEdit(),t.onRowEditEnded(i)}this._edItem=null}},n.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case x.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case x.F4:return this._toggleListBox(t),t.preventDefault(),!0;case x.Space:return e&&e.type=="checkbox"&&!e.disabled&&!e.readOnly&&(Mr(e,e.indeterminate||!e.checked),this.finishEditing(),t.preventDefault()),!0;case x.Enter:if(t.preventDefault(),e&&t.altKey){var i=t.target;if(i instanceof HTMLTextAreaElement&&i.wrap=="soft"){this._composing&&(i.blur(),i.focus()),i.style.setProperty("ime-mode","auto","important");var r=i.value,o=i.selectionStart,s=i.selectionEnd;i.value=r.substr(0,o)+`
`+r.substr(s),J(i,o+1),i.style.imeMode=""}return!0}return e&&this._lbx?(this._toggleListBox(t),this.finishEditing(),!0):!this.finishEditing();case x.Tab:return t.preventDefault(),!this.finishEditing();case x.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case x.Up:case x.Down:case x.Left:case x.Right:case x.PageUp:case x.PageDown:case x.Home:case x.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case x.Up:case x.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(this._fullEdit)switch(t.keyCode){case x.PageUp:case x.PageDown:t.preventDefault()}else if(this.finishEditing())return!1}return!0},n.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case x.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case x.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case x.Home:case x.PageUp:this._lbx.selectedIndex=0;break;case x.End:case x.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return e?(t.preventDefault(),!0):!1},n.prototype._keypress=function(t){if(t.code!="AltLeft"&&t.code!="AltRight"){var e=this._edt,i=t.charCode||32,r=this._list;if(e&&e.type!="checkbox"&&Z()==e&&r&&r.length>0&&i>=32){var o=e.selectionStart,s=e.value.substr(0,o);t.target==e&&t.charCode&&(s+=String.fromCharCode(t.charCode),o++);var l=this._mapSearch,a=-1;if(l)for(var u=0;u<r.length;u++){var c=r[u];if(l(c==null?c:c.toString(),s)){a=u;break}}else(a=this._findString(r,s,!0))<0&&!this._g.caseSensitiveSearch&&(a=this._findString(r,s,!1));if(a>-1){var h=this._lbx;h&&(h.selectedIndex=a),e.value=r[a],J(e,o,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault&&t.preventDefault()}}}else t.preventDefault()},n.prototype._findString=function(t,e,i){i||(e=e.toLowerCase());for(var r=0;r<t.length;r++){var o=t[r];if(o!=null&&(o=o.toString(),i||(o=o.toLowerCase()),o.indexOf(e)==0))return r}return-1},n.prototype._toggleListBox=function(t,e){var i=this._g,r=i._selHdl.selection,o=i.isTouching;if(e||(e=r),this._lbx&&(this._removeListBox(),r.intersects(e)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;if(!e.isValid)return!1;var s=i.rows[e.row],l=i._getBindingColumn(i.cells,e.row,i.columns[e.col]),a=s.dataMap||l.dataMap,u=i._getMapEditor(s,l);if(!a||u!=Nt.DropDownList||!jo()||l.editor!=null||!e.intersects(i.editRange)&&!this.startEditing(!0,e.row,e.col,!o,t))return!1;var c=this._lbx=this._createListBox();return requestAnimationFrame(function(){return c.showSelection()}),o&&c.focus(),!0},n.prototype._createListBox=function(){var t=this,e=this._g,i=e.activeEditor,r=this._rng,o=e.rows[r.row],s=e._getBindingColumn(e.cells,r.row,e.columns[r.col]),l=s.isContentHtml||o.isContentHtml,a=s.dataMap||o.dataMap,u=s.dropDownCssClass||o.dropDownCssClass,c=document.createElement("div");this._removeListBox(),ie(c,"wj-dropdown-panel wj-grid-listbox"),ie(c,u);var h=i?i.value:e.getCellData(r.row,r.col,!0),d=new Vr(c,{maxHeight:o.renderHeight*uy,isContentHtml:l,itemsSource:a.getDisplayValues(o.dataItem),selectedValue:h});d.addEventListener(c,"keydown",function(_){switch(_.keyCode){case x.Enter:case x.Escape:t._removeListBox(),e.focus()}}),d.addEventListener(c,"click",function(){t._removeListBox(),e.focus(),t.finishEditing()}),d.gotFocus.addHandler(function(){d.containsFocus()&&i&&i.focus()}),d.selectedIndexChanged.addHandler(function(){var _=e.activeEditor;_&&(_.value=t._list[d.selectedIndex],_.dispatchEvent(t._evtInput),J(_,0,_.value.length))});var f=e.cells.getCellElement(r.row,r.col);if(f){Pn(c,f,!1,!1,!1);var p=f.querySelector("."+Se._WJC_DROPDOWN);A(p,"aria-expanded",!0)}else Pn(c,e.getCellBoundingRect(r.row,r.col)),c[M._OWNR_KEY]=e.hostElement;return d},n.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,Zt(t.hostElement,function(){t.dispose()}))},n._msgRequired="",n._msgBadInput="",n}(),sg=function(){function n(t,e){this._col=Le(t,et),this._ctl=e,this._tbx=e.hostElement.querySelector("input"),B(this._col instanceof et,"Invalid Column"),B(this._ctl instanceof M,"Invalid edit control"),B(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var i=this._ctl;this._prop=Vn(i.value)?Vn(i.checkedItems)?Vn(i.text)?null:"text":"checkedItems":"value",B(this._prop!=null,"value, text properties not found in editor");var r=jo();r&&(this._isDropDown=i instanceof r.DropDown,this._isComboBox=i instanceof r.ComboBox,this._isAutoComplete=i instanceof r.AutoComplete,this._isInputDateTime=i instanceof r.InputDateTime,this._isInputMask=i instanceof r.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},n.prototype._connect=function(){var t=this._col?this._col.grid:null;if(t!=this._g&&(this._disconnect(),t)){var e=t.hostElement,i=t.addEventListener.bind(t),r=this._updateFocusBnd;this._g=t,this._hideEditor(),this._updateFocus(),i(e,"keydown",this._keydownBnd,!0),i(e,"mousedown",this._mousedownBnd,!0),i(e,"mouseup",r,!0),i(e,"blur",r,!0),i(e,"focus",r),i(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.addHandler(r,this),t.selectionChanged.addHandler(r,this),t.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}},n.prototype._disconnect=function(){var t=this._g;if(t){var e=t.hostElement,i=t.removeEventListener.bind(t),r=this._updateFocusBnd;i(e,"keydown",this._keydownBnd),i(e,"mousedown",this._mousedownBnd),i(e,"mouseup",r),i(e,"blur",r),i(e,"focus",r),i(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.removeHandler(r,this),t.selectionChanged.removeHandler(r,this),t.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),t.cellEditEnding.removeHandler(this._cellEditEnding,this),t.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},n.prototype._prepareCellForEdit=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,r=this._ctl,o=this._tbx,s=this._prop,l=e.range,a=e.data,u=a?a.type:"",c=i.getCellData(l.row,l.col,s=="text"||this._isInputMask),h=!1;if(this._isComboBox&&(this._isAutoComplete&&(r._oldText=""),r.isRequired||(r.selectedIndex=-1,o.value=""),this._isInputDateTime&&r._setDropdown(r._ddDate)),s=="checkedItems"&&(r.showFilterInput&&(r.showFilterInput=!1,r.showFilterInput=!0),(c==null||c.length==0)&&(r[s]=[],r.selectedIndex=0)),(c!=null||!r.isRequired)&&(r[s]=c,this._isAutoComplete&&(clearTimeout(r._toSearch),(f=r.collectionView)&&(f.filter||r._rxHighlight)&&(r._rxHighlight=null,f.filter=null),c))){var d=r._findNext(c,1,-1);r.selectedIndex!=d&&(r.selectedIndex=d)}switch(u){case"keydown":case"mousedown":if((Vn(a.keyCode)||a.keyCode==x.F4||a.altKey)&&(h=this._isDropDown,this._isAutoComplete&&(c==null||Q(c)))){var f;(f=r.collectionView)&&((f.filter||r._rxHighlight)&&(r._rxHighlight=null,f.filter=null),d=c?r._findNext(c,1,-1):-1,r.selectedIndex!=d&&(r.selectedIndex=d))}}if(i.showPlaceholders&&!r.placeholder&&(o.placeholder=this._col.header),this._showEditor(),i._edtHdl._fullEdit=!0,u.indexOf("key")==0&&a.keyCode==32&&(J(o,o.value.length),a.preventDefault()),ge()&&!i.imeEnabled){if(u=="keypress"&&a.key)setTimeout(function(){o.value=a.key,J(o,1);var _=document.createEvent("HTMLEvents");_.initEvent("input",!0,!1),o.dispatchEvent(_)}),a.preventDefault();else if(u=="compositionstart"){var p=o.value.length;J(o,p)}}this._isDropDown&&(r.isDroppedDown=h)}},n.prototype._cellEditEnding=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,r=this._ctl,o=this._prop;if(this._isAutoComplete){var s=r.selectedIndex;if(ue(s)&&s<0){var l=r.collectionView;l&&l.items.length==1?r.selectedIndex=0:this._col.isRequired&&(e.cancel=!0)}}!e.cancel&&o&&i._edtHdl._setCustomEditorValue(r[o])}},n.prototype._cellEditEnded=function(t,e){this._hideEditor(),this._updateFocus()},n.prototype._cmpstart=function(t){var e=this;ge()?setTimeout(function(){e._activateEditor(t)}):this._activateEditor(t)},n.prototype._keydown=function(t){if(!t.defaultPrevented&&this._checkColumn(t.target)){if(this.grid.activeEditor){if(t.keyCode==x.Enter&&this._isDropDown){var e=this._ctl;e.isDroppedDown&&(e.isDroppedDown=!1,t.preventDefault(),t.stopImmediatePropagation())}}else if(this._isDropDown){var i=t.keyCode;switch(i){case x.F4:case x.Up:case x.Down:(i==x.F4||t.altKey)&&(this._activateEditor(t),t.preventDefault())}}}},n.prototype._checkColumn=function(t){var e=this._g;if(q(t,this._tbx)||t!=null&&this._imeEditor()===t){var i=e._selHdl.selection;return e._getBindingColumn(e.cells,i.row,e.columns[i.col])==this._col}return!1},n.prototype._mousedown=function(t){if(!t.defaultPrevented&&t.button==0&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this._isDropDown&&Ht(t.target,Se._WJC_DROPDOWN)){var e=this.grid,i=e.hitTest(t);i.getColumn(!0)==this._col&&(e.select(i.range),e.refresh(),this._activateEditor(t),t.preventDefault())}},n.prototype._activateEditor=function(t){var e=this.grid;if(!e.activeEditor){var i=e._selHdl.selection;if(i.isValid)return e.startEditing(!0,i.row,i.col,!0,t)}return!1},n.prototype._showEditor=function(){var t=this.grid,e=t.activeEditor,i=K(e,".wj-cell");if(i){var r=this._tbx,o=this._ctl.hostElement;H(o,n._cssVisible),te(r,"wj-grid-ime",!1),i.innerHTML="",i.appendChild(o),t._edtHdl._edt=r,this._imeEditor()?this._initImeEditInput():(r.select(),r.focus(),e.value="")}},n.prototype._hideEditor=function(){var t=this.grid,e=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),i.setCustomValidity("");var r=i.value;i.value=r+" ",i.value=r,H(e,n._cssHidden),te(i,"wj-grid-ime",!0),t&&e.parentElement!=t._root&&t._root.appendChild(e)},n.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},n.prototype._updateFocus=function(){var t=this.grid;if(t&&!t.activeEditor){var e=t.hostElement,i=".wj-flexgrid",r=this._tbx,o=Z(),s=t._getTabIndex();if(K(o,i)==e)if(K(r,i)!=e)this._hideEditor();else if(t.imeEnabled)r.tabIndex>-1&&(r.tabIndex=-1);else{var l=t._selHdl.selection,a=t._getBindingColumn(t.cells,l.row,t.columns[l.col]);a&&a==this._col&&t.canEditCell(l.row,l.col)?o!==r&&(t.activeCell&&(t.activeCell.tabIndex=-1),r.tabIndex=s,t.isTouching||(r.select(),r.focus())):r.tabIndex>-1&&(r.tabIndex=-1,o==r&&t.focus(!0))}}},n.prototype._initImeEditInput=function(){var t=this,e=this._imeEditor();if(e){var i=this._tbx,r=i&&i.style.color,o=this._ctl,s=function(){if(e.removeEventListener("compositionend",s),H(e,Il._cssHidden),i){i.style.color=r;var l=function(){o.gotFocus.removeHandler(l),t._g._edtHdl._edt=i;var a=e.value;if(a){i.value=a,n._setSelectionRange(i,a.length,a.length);var u=document.createEvent("HTMLEvents");u.initEvent("input",!0,!1),i.dispatchEvent(u)}};o.gotFocus.addHandler(l),i.focus()}};e.addEventListener("compositionend",s),i&&(i.style.color="transparent")}},n._setSelectionRange=function(t,e,i){if(i===void 0&&(i=e),q(document.body,t)&&!t.disabled&&t.style.display!="none")try{t.setSelectionRange(j(e),j(i),ge()?null:"backward"),t.focus()}catch{}},n.prototype._imeEditor=function(){var t=this.grid;if(t&&t.imeEnabled){var e=Z();if(e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&de(e,"wj-grid-ime"))return e}return null},n._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},n._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},n}(),gi;(function(n){n[n.None=0]="None",n[n.MoveDown=1]="MoveDown",n[n.MoveAcross=2]="MoveAcross",n[n.Cycle=3]="Cycle",n[n.CycleOut=4]="CycleOut",n[n.CycleEditable=5]="CycleEditable"})(gi||(gi={}));var lg=function(){function n(t){this._kaTab=gi.None,this._kaEnter=gi.MoveDown,this._g=t;var e=t.hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return n.prototype._keydown=function(t){var e=this._g,i=e._edtHdl,r=e.selection,o=t.ctrlKey||t.metaKey,s=t.shiftKey,l=t.altKey,a=t.target,u=t.char||t.key,c=!0;if(!o&&!l&&u&&u.length==1&&K(a,".wj-cell")&&a.firstElementChild&&(u!=" "||!s)){var h=a.querySelectorAll("."+Se._WJC_RADIOMAP+" label input");if(h&&h.length){for(var d=-1,f=0;f<h.length;f++)if(h[f].checked){d=f;break}for(u=u.toLowerCase(),f=0;f<h.length;f++){var p=h[(d+f+1)%h.length];if(u==" "||p.value.toLowerCase()[0]==u){p.click();break}}t.preventDefault();return}}if(!e._wantsInput(a)){var _=Gt(e.rows[r.row],Pe),w=e.editableCollectionView,m=e._getKeyCode(t),g=Ln,v=se,y=t.defaultPrevented&&!(a instanceof HTMLInputElement);if((e.isRangeValid(r)&&!y||o&&m==65)&&(!e.activeEditor||!i._keydown(t)||e._isNativeCheckbox(e.activeEditor))){if(e.autoClipboard){if(o&&(m==67||m==45)){var b=new fe(e.cells,r);if(e.onCopying(b)){var E=ze,C=(e.copyHeaders&E.Column)!=0,S=(e.copyHeaders&E.Row)!=0,O=e.getClipString(null,!1,C,S)+`\r
`;e._eFocus.focus(),uu.copy(O),e.onCopied(b)}t.stopPropagation();return}if(o&&m==86||s&&m==45){e.isReadOnly||uu.paste(function(X){e.setClipString(X)}),t.stopPropagation();return}}switch((s||o)&&t.code=="Space"&&(m=x.Space),m){case x.Space:if(s&&r.isValid)switch(e.selectionMode){case v.CellRange:case v.MultiRange:case v.Row:case v.RowRange:case v.ListBox:e.select(new z(r.row,0,r.row,e.columns.length-1),!1)}else if(o&&r.isValid)switch(e.selectionMode){case v.CellRange:case v.MultiRange:e.select(new z(0,r.col,e.rows.length-1,r.col),!1)}else(c=this._startEditing(!0,t))&&setTimeout(function(){var X=e.activeEditor;X&&(X.disabled||X.readOnly&&!K(X,".wj-control")?e.finishEditing():X.type=="checkbox"&&(Mr(X,X.indeterminate||!X.checked),e.finishEditing()))}),c=!0;break;case 65:if(o)switch(e.selectionMode){case v.None:case v.Cell:break;default:e.selectAll()}else c=!1;break;case x.Left:if(o||l)c=!1;else if(r.isValid&&r.leftCol==0&&_&&!_.isCollapsed&&_.hasChildren)_.isCollapsed=!0;else{if(e.selectionMode==v.None)return;this._moveSel(g.None,o?g.Home:g.Prev,s)}break;case x.Right:if(o||t.altKey)c=!1;else if(r.isValid&&r.leftCol==0&&_&&_.isCollapsed)_.isCollapsed=!1;else{if(e.selectionMode==v.None)return;this._moveSel(g.None,o?g.End:g.Next,s)}break;case x.Up:if(o)c=!1;else if(t.altKey&&i._toggleListBox(t))c=!0;else{if(e.selectionMode==v.None)return;this._moveSel(g.Prev,g.None,s)}break;case x.Down:if(o)c=!1;else if(t.altKey&&i._toggleListBox(t))c=!0;else{if(e.selectionMode==v.None)return;this._moveSel(g.Next,g.None,s)}break;case x.PageUp:if(this._moveSel(t.altKey?g.Home:g.PrevPage,g.None,s),e.rows.frozen&&e.selection.row<e.rows.frozen){var I=e.scrollPosition;I.y&&(e.scrollPosition=new bt(I.x,0))}break;case x.PageDown:this._moveSel(t.altKey?g.End:g.NextPage,g.None,s);break;case x.Home:this._moveSel(o?g.Home:g.None,g.Home,s);break;case x.End:this._moveSel(o?g.End:g.None,g.End,s);break;case x.Tab:if(!(c=this._performKeyAction(e.keyActionTab,s))&&!e.activeCell)if(e.focus(!0),e.imeEnabled){var N=e._imeHdl;N&&N._resetTabIndex()}else{var R=this._getCustomEditor(e,r.row,r.col);R&&R._resetTabIndex()}break;case x.Enter:c=this._performKeyAction(e.keyActionEnter,s),this._getCustomEditor(e,r.row,r.col)||e.focus(!0),!s&&w&&w.currentEditItem!=null&&i._commitRowEdits();break;case x.Escape:if(c=!1,w&&(w.currentAddItem||w.currentEditItem)){var V=new fe(e.cells,e.selection);V.cancel=!0,e.onRowEditEnding(V),w.currentAddItem&&w.cancelNew(),w.currentEditItem&&w.cancelEdit(),e.onRowEditEnded(V),c=!0}e._mouseHdl.resetMouseState();break;case x.Delete:case x.Back:c=this._deleteSel(t);break;case x.F2:c=this._startEditing(!0,t);break;case x.F4:c=i._toggleListBox(t);break;default:c=!1}c&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}},n.prototype._performKeyAction=function(t,e){var i=gi,r=Ln;switch(t){case i.MoveDown:return this._moveSel(e?r.Prev:r.Next,r.None,!1),!0;case i.MoveAcross:return this._moveSel(r.None,e?r.Prev:r.Next,!1),!0;case i.Cycle:return this._moveSel(r.None,e?r.PrevCell:r.NextCell,!1),!0;case i.CycleEditable:return this._moveSel(r.None,e?r.PrevEditableCell:r.NextEditableCell,!1),!0;case i.CycleOut:var o=this._g.selection;return this._moveSel(r.None,e?r.PrevCell:r.NextCell,!1),!o.equals(this._g.selection)}return!1},n.prototype._keypress=function(t){var e=this,i=this._g;if(!i._wantsInput(t.target)&&!t.defaultPrevented){var r=i._edtHdl;if(i.activeEditor)r._keypress(t);else if(t.charCode>x.Space&&t.code!="AltLeft"&&t.code!="AltRight"){if(this._startEditing(!1,t)&&i.activeEditor){var o=Z();if(o instanceof HTMLInputElement&&o.type!="checkbox"||o instanceof HTMLTextAreaElement){var s=i._selHdl.selection,l=i.getCellData(s.row,s.col,!0),a=i.getCellData(s.row,s.col,!1),u=oe.Globalize.numberFormat["%"]||"%",c=String.fromCharCode(t.charCode),h=ue(a)&&l.indexOf(u)>-1||l==""&&o.value==u,d=!0,f=function(){o.value=h?c+u:c,J(o,1),o.dispatchEvent(r._evtInput),r._keypress(t),r._edtValue=o.value!=l?o.value:null};if(i.imeEnabled){var p=this._getCustomEditor(i,s.row,s.col),_=p&&p.control;if(_&&!_._focus){var w=function(){_.gotFocus.removeHandler(w),d=!1,f()};_.gotFocus.addHandler(w)}}d&&f(),t.preventDefault()}}else if(i.autoSearch){var m=!1;if(s=i._selHdl.selection,t.charCode>32||t.charCode==32&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},M._SEARCH_DELAY);var g=this._findNext(s.row,s.col);g<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],g=this._findNext(s.row,s.col)),g>-1&&(m=!0,i.select(g,s.col))}m||(this._search="")}}}},n.prototype._getCustomEditor=function(t,e,i){var r=t._getBindingColumn(t.cells,e,t.columns[i]);return r&&r._edt},n.prototype._findNext=function(t,e){var i=this._g,r=i.rows.length;(t<0||this._search.length==1)&&t++;var o=this._search,s=i.caseSensitiveSearch;s||(o=o.toLowerCase());for(var l=i.columns[e].isContentHtml,a=0;a<r;a++){var u=(t+a)%r,c=i.getCellData(u,e,!0).trim();if(l&&(c=Sn(c)),s||(c=c.toLowerCase()),c.indexOf(o)==0)return u}return-1},n.prototype._moveSel=function(t,e,i){var r=this._g,o=r.selectionMode,s=r._selHdl;o!=se.None&&(o==se.MultiRange&&s.extendedSelection.clear(),s.moveSelection(t,e,i))},n.prototype._deleteSel=function(t){var e=this,i=this._g,r=i.rows,o=i.editableCollectionView,s=i.selection,l=[],a=new z,u=new il(i.cells,a,t),c=se;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(o==null||o.canRemove&&!o.isAddingNew&&!o.isEditingItem)&&(l=r.filter(function(_){return _.isSelected})).length==0)switch(i.selectionMode){case c.CellRange:case c.MultiRange:var h=i._getDeleteColumnIndex();i.selectedRanges.forEach(function(_){if(_.leftCol==h&&_.rightCol==i.columns.length-1)for(var w=_.topRow;w>-1&&w<=_.bottomRow;w++){var m=r[w];l.indexOf(m)<0&&l.push(m)}});break;case c.Row:s.topRow>-1&&l.push(r[s.topRow]);break;case c.RowRange:for(var d=s.topRow;d>-1&&d<=s.bottomRow;d++)l.push(r[d])}if(l.length>0){var f=0;if(i.deferUpdate(function(){o&&o.beginUpdate();for(var _=l.length-1;_>=0;_--){var w=l[_];w instanceof Ie||(a.setRange(w.index,-1),i.onDeletingRow(u)&&(o&&w.dataItem?o.remove(w.dataItem):i.rows.removeAt(w.index),f++,i.onDeletedRow(u)))}o&&o.endUpdate(!1)}),f>0){var p=s.topRow;for(p=Math.min(p,i.rows.length-1);p>0&&i.rows[p]instanceof Ie;)p--;s.row=s.row2=p,i.select(s,!1),i.childItemsPath&&o&&o.refresh()}return!0}return l.length==0?(i.deferUpdate(function(){var _=i.scrollPosition,w=-1;l=r.filter(function(y){return y.isSelected});var m=i.selectedRanges.length>1||l.length>1||s.isValid&&r[s.row].dataItem!=r[s.row2].dataItem;if(o&&o.beginUpdate(),l.length){var g=new z(0,0,0,i.columns.length-1);l.forEach(function(y){g.row=g.row2=y.index,e._deleteRange(t,g),w=g.bottomRow})}else e._deleteRange(t,s),w=s.bottomRow,i.selectionMode==c.MultiRange&&i._selHdl.extendedSelection.forEach(function(y){e._deleteRange(t,y),w=y.bottomRow});if(i.select(s,!1),i.scrollPosition=_,o){if(m&&o.currentEditItem){o.commitEdit();var v=new fe(i.cells,new z(w,-1));i.onRowEditEnding(v),i.onRowEditEnded(v)}o.endUpdate(!1)}}),!0):!1},n.prototype._deleteRange=function(t,e){for(var i=this._g,r=i.editableCollectionView,o=new z,s=new il(i.cells,o,t),l=new fe(i.cells,new z(e.topRow,-1)),a=e.topRow;a<=e.bottomRow;a++){var u=i.rows[a];if(!u.isReadOnly)for(var c=e.leftCol;c<=e.rightCol;c++){var h=i._getBindingColumn(i.cells,a,i.columns[c]);if(!h.getIsRequired(u)&&!h.isReadOnly&&i.getCellData(a,c,!0)&&(o.setRange(a,c),s.cancel=!1,i.onBeginningEdit(s))){var d=u.dataItem,f=r?r.currentEditItem:null;f&&d!=f&&(i.onRowEditEnding(l),i.onRowEditEnded(l)),d!=f&&(l._rng.setRange(a,-1),i.onRowEditStarting(l),i.onRowEditStarted(l)),r&&(r.editItem(d),i._edtHdl._edItem=d),i.setCellData(a,c,"",!0,!1),i.onCellEditEnding(s),i.onCellEditEnded(s)}}}},n.prototype._startEditing=function(t,e,i,r){return this._g._edtHdl.startEditing(t,i,r,!0,e)},n}(),ji=4,sd="wj-state-dragsrc",ca="wj-flexgrid",yn;(function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both",n[n.ColumnsAllCells=n.Columns|ji]="ColumnsAllCells",n[n.RowsAllCells=n.Rows|ji]="RowsAllCells",n[n.BothAllCells=n.Both|ji]="BothAllCells"})(yn||(yn={}));var zn;(function(n){n[n.None=0]="None",n[n.Headers=1]="Headers",n[n.Cells=2]="Cells",n[n.Both=3]="Both"})(zn||(zn={}));var Hn;(function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both"})(Hn||(Hn={}));var ag=function(){function n(t){var e=this,i=t.hostElement,r=t.addEventListener.bind(t),o=t.removeEventListener.bind(t);this._g=t,this._dvMarker=_e('<div class="wj-marker">&nbsp;</div>'),r(i,"mousedown",function(a){if(t._rcBounds=null,!a.defaultPrevented&&a.button==0){var u=a.target;if(!t.containsFocus()){var c=u instanceof HTMLElement&&u.tabIndex>-1?u:t._eFocus;t._setFocusNoScroll(c)}setTimeout(function(){a.defaultPrevented||t.focus()});var h=Ht(u,ca);if(h&&h!=t.hostElement||!t.activeEditor&&t._isInputElement(u)&&!e._hasRadioMap(a)&&!t._isNativeCheckbox(u)){var d=t.hitTest(a),f=U;switch(d.cellType){case f.Cell:t.select(d.range,!1),u instanceof HTMLElement&&u.getAttribute("wj-part")!="root"&&u.focus();break;case f.ColumnHeader:case f.ColumnFooter:t.scrollIntoView(-1,d.col);break;case f.RowHeader:t.scrollIntoView(d.row,-1)}ge()&&d.cellType!=f.Cell&&t._isInputElement(u)&&u.focus();return}var p=document;o(p,"mousemove"),o(p,"mouseup"),r(p,"mousemove",s),r(p,"mouseup",l),e._isDown=!0,e._mousedown(a)}});var s=function(a){e._mousemove(a)},l=function(a){e._isDown=!1,o(document,"mousemove"),o(document,"mouseup"),e._mouseup(a)};r(i,"mouseenter",function(a){t._rcBounds=null}),r(i,"mousemove",this._hover.bind(this)),r(i,"dblclick",this._dblclick.bind(this)),r(i,"click",this._click.bind(this)),r(i,"selectstart",function(a){t._isInputElement(a.target)||a.preventDefault()}),r(i,"wheel",function(a){if(!a.defaultPrevented&&a.deltaY&&!a.ctrlKey&&!a.metaKey){var u=t._root,c=a.deltaY;if((a.shiftKey?u.scrollWidth>u.clientWidth:u.scrollHeight>u.clientHeight)&&Ht(a.target,ca)==t.hostElement){switch(a.deltaMode){case 1:c=t.rows.defaultSize*(c<0?-1:1);break;case 2:c=(a.shiftKey?u.clientWidth:u.clientHeight)*(c<0?-1:1);break;case 0:default:wr()&&(c=ce(c,-150,150))}t._isScrollingByWheel=!0;var h=t.finishEditing(!1);t._isScrollingByWheel=!1,h&&(a.shiftKey?u.scrollLeft+=c:u.scrollTop+=c),a.preventDefault(),a.stopImmediatePropagation()}}}),r(i,"dragstart",this._dragstart.bind(this)),r(i,"dragover",this._dragover.bind(this)),r(i,"dragleave",this._dragleave.bind(this)),r(i,"drop",this._drop.bind(this)),r(i,"dragend",this._dragend.bind(this))}return n.prototype.resetMouseState=function(){var t=this._g,e=t.hostElement;this._updating&&(this._updating=!1,t.endUpdate()),this._dragSrc&&kt(this._dragSrc,sd),this._showDragMarker(null),e&&(e.style.cursor=""),wr()&&this._szRowCol&&t.invalidate(),t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._lbSelStateRows={},this._lbSel=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null},n.prototype._mousedown=function(t){var e=this._g,i=t.target,r=e.hitTest(t),o=r.cellType,s=U,l=t.ctrlKey||t.metaKey;if(this._selDown=e.selection,this._ignoreClick=!1,r.panel==e.cells){if(Ht(i,Se._WJC_DROPDOWN)){var a=e.hitTest(i);e._edtHdl._toggleListBox(t,a.range),t.preventDefault(),this._ignoreClick=!0;return}var u=e.editRange;if(u&&u.contains(r.range))return}var c=Z();if(i!=c||!e._isInputElement(i))if(o!=s.None)if(this._htDown=r,this._eMouse=t,this._szRowCol==null){var h=e.allowResizing,d=yn;if((o==s.RowHeader||o==s.TopLeft)&&r.edgeBottom&&h&d.Rows&&this._getResizeRowHt(r))this._ignoreClick=!0;else if((o==s.ColumnHeader||o==s.TopLeft)&&r.edgeRight&&h&d.Columns&&this._getResizeColHt(r))this._ignoreClick=!0;else{var f=e.allowDragging,p=Hn;switch(o){case s.Cell:case s.RowHeader:l&&e.selectionMode==se.ListBox&&(this._lbSelState=e.rows[r.row].isSelected,K(i,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(t,t.shiftKey),o==s.RowHeader&&!(f&p.Rows)&&(t.preventDefault(),e.focus());break;case s.ColumnHeader:e.allowSorting||f&p.Columns||K(i,"button")||this._mouseSelect(t,t.shiftKey)}}}else{var _=e._eFocus;c!=_&&(_.tabIndex=0,_.focus()),this._ignoreClick=!0,this._handleResizing(t)}else e.finishEditing(),i!=e._root&&i!=e._fCt&&e._edtHdl._commitRowEdits()},n.prototype._mousemove=function(t){if(this._htDown&&!t.defaultPrevented){if(t.buttons==0&&this._eMouse&&t.timeStamp-this._eMouse.timeStamp>600){this.resetMouseState();return}if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else{var e=this._g,i=e.allowDragging,r=Hn,o=U;switch(this._htDown.cellType){case o.Cell:this._mouseSelect(t,!0);break;case o.RowHeader:i&r.Rows||this._mouseSelect(t,!0);break;case o.ColumnHeader:i&r.Columns||e.allowSorting||this._mouseSelect(t,!0)}}}},n.prototype._mouseup=function(t){var e=this._g;if(!e.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var i=e.hitTest(t),r=this._htDown;if(r&&!t.defaultPrevented&&(this._szArgs&&this._finishResizing(t),!this._szArgs&&i.panel==r.panel&&i.row==r.row&&i.col==r.col)){var o=i.getColumn();if(o&&!(o._getFlag($.HasTemplate)&&!o.cellTemplate)){var s=i.target;if(s!=r.target&&s instanceof HTMLElement){if(r.target instanceof HTMLInputElement){var l=i.point,a=r.point;Math.abs(l.x-a.x)+Math.abs(l.y-a.y)<10&&(s=s.querySelector("input")||s)}var u=document.createEvent("Event");u.initEvent("click",!0,!0);for(var c in t)/Key$|X$|Y$|^button|^(x|y|which)$/.test(c)&&(u[c]=t[c]);s.dispatchEvent(u)}}}this.resetMouseState()}},n.prototype._click=function(t){if(this._ignoreClick&&(this._ignoreClick=!1,t.preventDefault()),!t.defaultPrevented){var e=this._g,i=t.target,r=e.hitTest(i),o=Gt(i,HTMLInputElement),s="input."+Se._WJC_CHECKBOX;if(!o){var l=K(i,"label");l&&(o=l.querySelector(s))}if(!o&&e.bigCheckboxes&&(o=i.querySelector(s)),o!=e.activeEditor&&e._isNativeCheckbox(o)){if(r.panel==e.cells){var a=e.getCellData(r.row,r.col,!1);e.startEditing(!1,r.row,r.col,!1,t)?(e.activeEditor.checked=!a,e.finishEditing(),e.focus()):o.checked=a}return}if(this._hasRadioMap(t)){this._handleClick(t);return}var u=t.ctrlKey||t.metaKey;if(e.rows.maxGroupLevel>-1&&Ht(i,Se._WJC_COLLAPSE)){var c=e.rows[r.row];if(r.panel==e.cells&&c instanceof Pe){u?e.collapseGroupsToLevel(c.isCollapsed?c.level+1:c.level):c.isCollapsed=!c.isCollapsed;return}}if(!u&&!t.shiftKey&&!e.activeEditor&&r.panel==e.cells){var h=e._selHdl.selection;if(h.equals(this._selDown)&&r.range.contains(h)){e.startEditing(!0,null,null,!0,t);return}}this._handleClick(t)}},n.prototype._handleClick=function(t){var e=this._g,i=t.target,r=e.hitTest(i),o=t.ctrlKey||t.metaKey,s=r.panel;if(!t.defaultPrevented&&r.grid==e){if(s==e.cells&&this._hasRadioMap(t)){var l=K(i,"label"),a=l&&l.querySelector("input");a&&!a.disabled&&e.startEditing(!1,r.row,r.col,!1,t)&&e.finishEditing()&&(e._edtHdl._edtCanceled?t.preventDefault():e.setCellData(r.row,r.col,l.textContent,!0,e.refreshOnEdit));return}if(!e._isInputElement(i)){if(s==e.topLeftCells){var u=se;switch(e.selectionMode){case u.None:case u.Cell:break;default:e.selectAll()}return}if(s==e.columnHeaders){if(e.allowPinning&&Ht(i,Se._WJC_PIN))this._clickPin(t,r);else if(!e._isTransposed()&&Ht(t.target,Se._WJC_COLLAPSE)){if(p=e._getColumnGroup(r.row,r.col))if(o)for(var c=p.isCollapsed,h=p.level,d=[],f=0;f<e.columns.length;f++)(p=e._getColumnGroup(r.row,f))&&p.collapseTo&&p.level==h&&d.indexOf(p)<0&&(d.push(p),p.isCollapsed=!c);else p.isCollapsed=!p.isCollapsed}else i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector("input")),i instanceof HTMLInputElement||this._clickSort(t,r),e.focus();return}if(s==e.rowHeaders){if(e._isTransposed()&&Ht(t.target,Se._WJC_COLLAPSE)){var p;if(p=e._getColumnGroup(r.row,r.col))if(o){c=p.isCollapsed,h=p.level,d=[];for(var _=0;_<e.rows.length;_++)(p=e._getColumnGroup(_,r.col))&&p.collapseTo&&p.level==h&&d.indexOf(p)<0&&(d.push(p),p.isCollapsed=!c)}else p.isCollapsed=!p.isCollapsed}return}if(s==e.cells){if(r.row<0){this._clickSort(t,r);return}if(Ht(i,Se._WJC_COLLAPSE)){var w=e.rows[r.row];w instanceof Pe&&(o?e.collapseGroupsToLevel(w.isCollapsed?w.level+1:w.level):w.isCollapsed=!w.isCollapsed);return}Ht(i,Se._WJC_DROPDOWN)&&e._edtHdl._toggleListBox(t,r.range)}}}},n.prototype._hasRadioMap=function(t){var e=t.target;if(K(e,"label")){var i=Ht(e,Se._WJC_RADIOMAP);return Ht(i,ca)==this._g.hostElement}return!1},n.prototype._clickSort=function(t,e){var i=this._g,r=i.allowSorting,o=i.collectionView,s=o?o.sortDescriptions:null,l=t.ctrlKey||t.metaKey,a=t.shiftKey;if(o&&o.canSort&&r!=Gn.None){var u=e.panel.columns[e.col],c=i._getBindingColumn(e.panel,e.row,u),h=c?c._getBindingSort():null;if(c.allowSorting&&h){if(u==c){var d=i.getMergedRange(e.panel,e.row,e.col,!1);if(d&&d.columnSpan>1)return}var f=new fe(e.panel,e.range,t);if(i.onSortingColumn(f)){i._edtHdl._commitRowEdits();for(var p=-1,_=null,w=0;w<s.length;w++)if(s[w].property==h){p=w,_=s[w];break}s.deferUpdate(function(){if(l&&a)s.clear();else if(_){var m=l;!m&&i.isTouching&&(m=_.ascending==0),m?s.removeAt(p):s[p]=new Oi(h,!_.ascending)}else{r!=Gn.MultiColumn&&s.clear();var g=new Oi(h,!0);s.push(g)}}),i.onSortedColumn(f)}}}},n.prototype._clickPin=function(t,e){var i=this._g,r=i.columns,o=r.frozen,s=i.allowPinning;s==en.Both&&(s=t.shiftKey?en.ColumnRange:en.SingleColumn);var l=new fe(i.cells,e.range);i.onPinningColumn(l)&&(s==en.SingleColumn&&(e.col>=o?(r.moveElement(e.col,o,!1),r.frozen++):(r.moveElement(e.col,o-1,!1),r.frozen--)),s==en.ColumnRange&&(e.col+1!=o?r.frozen=e.col+1:r.frozen=0),i.onPinnedColumn(l))},n.prototype._dblclick=function(t){if(!t.defaultPrevented){var e,i=this._g,r=i.hitTest(t),o=t.ctrlKey||t.metaKey,s=r.range,l=r.cellType,a=U,u=i.selection,c=i.allowResizing,h=yn;if(r.edgeRight&&c&h.Columns){if(l==a.TopLeft)r.panel.columns[r.col].allowResizing&&(e=new fe(r.panel,new z(-1,r.col)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(this._ignoreClick=!0,i.autoSizeColumn(r.col,!0),i.onAutoSizedColumn(e),i.onResizedColumn(e),t.preventDefault()));else if(l==a.ColumnHeader||c&ji){l==a.ColumnHeader&&o&&u.containsColumn(r.col)&&(s=u);for(var d=l==a.RowHeader||l==a.BottomLeft,f=s.leftCol;f<=s.rightCol;f++)r.panel.columns[f].allowResizing&&(e=new fe(r.panel,new z(-1,f)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(this._ignoreClick=!0,i.autoSizeColumn(f,d),i.onResizedColumn(e),i.onAutoSizedColumn(e),t.preventDefault()))}this.resetMouseState()}else if(r.edgeBottom&&c&h.Rows){if(l==a.TopLeft||l==a.BottomLeft)r.getRow().allowResizing&&(d=l==a.TopLeft||null,e=new fe(r.panel,new z(r.row,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(this._ignoreClick=!0,i.autoSizeRow(r.row,d),i.onResizedRow(e),i.onAutoSizedRow(e),t.preventDefault()));else if(l==a.RowHeader||c&ji){var p=r.panel;d=p==i.columnHeaders||p==i.columnFooters&&null,o&&u.containsRow(r.row)&&p==i.cells&&(s=u);for(var _=s.topRow;_<=s.bottomRow;_++)p.rows[_].allowResizing&&(e=new fe(p,new z(_,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(this._ignoreClick=!0,i.autoSizeRow(_,d),i.onResizedRow(e),i.onAutoSizedRow(e),t.preventDefault()))}this.resetMouseState()}}},n.prototype._hover=function(t){if(!this._isDown){var e=this._g,i=e.hitTest(t),r="";return this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i),this._szRowCol instanceof et?r="col-resize":this._szRowCol instanceof xn&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=r,i}return null},n.prototype._getResizeColHt=function(t){var e,i=this._g.allowResizing,r=t.cellType,o=U;return i&yn.Columns&&(r==o.ColumnHeader||r==o.TopLeft||i&ji)&&(t.edgeRight&&(e=t.getColumn()),t.edgeFarRight&&(e=this._getResizeCol(t.panel,t.col)||t.getColumn()),t.edgeLeft&&(e=this._getResizeCol(t.panel,t.col,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeRowHt=function(t){var e,i=this._g.allowResizing,r=yn,o=t.cellType,s=U;return i&r.Rows&&(o==s.RowHeader||o==s.TopLeft||i&ji)&&(t.edgeBottom&&(e=t.getRow()),t.edgeFarBottom&&(e=this._getResizeRow(t.panel,t.row)||t.getRow()),t.edgeTop&&(e=this._getResizeRow(t.panel,t.row,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeCol=function(t,e,i){i===void 0&&(i=!1);var r=this._g,o=t.columns;if(i){for(var s=e-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l);if(o==r.columns&&r.headersVisibility&ze.Row){for(s=(o=r.rowHeaders.columns).length-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l)}return null}for(s=e+1;s<o.length;s++)if((l=o[s]).isVisible)return this._asResizable(l);if(e==o.length-1&&o==r.rowHeaders.columns)for(o=r.columns,s=0;s<o.length;s++){var l;if((l=o[s]).isVisible)return this._asResizable(l)}return null},n.prototype._getResizeRow=function(t,e,i){i===void 0&&(i=!1);var r=this._g,o=t.rows;if(i){for(var s=e-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l);if(o==r.rows&&r.headersVisibility&ze.Column){for(s=(o=r.columnHeaders.rows).length-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l)}return null}for(s=e+1;s<o.length;s++)if((l=o[s]).isVisible)return this._asResizable(l);if(e==o.length-1&&o==r.columnHeaders.rows)for(o=r.rows,s=0;s<o.length;s++){var l;if((l=o[s]).isVisible)return this._asResizable(l)}return null},n.prototype._asResizable=function(t){return t.renderSize==0&&t.allowResizing?t:null},n.prototype._mouseSelect=function(t,e){var i=this,r=this._g;if(t&&this._htDown&&this._htDown.panel&&r.selectionMode!=se.None){var o=new Oo(this._htDown.panel,t);this._handleSelection(o,e),!Qn()&&t.button>=0&&t.target!=r._root&&((o=new Oo(r,t)).panel||setTimeout(function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,e)},100))}},n.prototype._handleResizing=function(t){t.type=="mousedown"&&(wr()?A(t.target,"draggable",null):t.preventDefault());var e=this._szRowCol;if(e instanceof et){var i=this._g,r=dr(t).x,o=Math.round(Math.max(n._SZ_MIN,this._szStart+(r-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(e.renderSize!=o){if(this._szArgs==null){var s=i.rowHeaders.columns.indexOf(e)>-1?i.rowHeaders:i.cells;this._szArgs=new fe(s,new z(-1,e.index))}this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):e.width=o)}}var l=this._szRowCol;if(l instanceof xn){i=this._g;var a=dr(t).y;o=Math.round(Math.max(n._SZ_MIN,this._szStart+(a-this._htDown.point.y))),l.renderSize!=o&&(this._szArgs==null&&(s=i.columnHeaders.rows.indexOf(l)>-1?i.columnHeaders:i.columnFooters.rows.indexOf(l)>-1?i.columnFooters:i.cells,this._szArgs=new fe(s,new z(l.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):l.height=o))}this._szArgs&&t.preventDefault()},n.prototype._dragstart=function(t){var e=this._g,i=this._htDown,r=Hn,o=U;if(i){if(this._dragSrc=null,this._htDrag=null,this._chldColGrpMarker=!1,!this._szRowCol){var s=new fe(i.panel,i.range),l=e.allowDragging,a=i.cellType,u=i.panel.rows,c=i.getColumn(!0);if(c&&c.allowDragging&&(a==o.ColumnHeader||a==o.TopLeft)&&l&r.Columns&&(e.onDraggingColumn(s)?this._dragSrc=t.target:t.preventDefault()),!this._dragSrc&&i.row>-1&&u[i.row].allowDragging){var h=u[i.row];h instanceof Pe||h instanceof Ie||a==o.RowHeader&&l&r.Rows&&(e.onDraggingRow(s)?this._dragSrc=t.target:t.preventDefault())}}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=i,Rp(t.dataTransfer,"move"),t.stopPropagation(),ie(this._dragSrc,sd),e.beginUpdate(),this._updating=!0)}},n.prototype._dragend=function(t){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},n.prototype._dragover=function(t){var e=this._g,i=this._hitTest(t),r=this._dragSrc?this._htDrag:null,o=U,s=!1;if(r&&i.cellType==r.cellType){var l=new fe(i.panel,i.range,r);i.cellType==o.ColumnHeader&&e._hasColumnGroups()?(l.cancel=!e._canMoveColumnGroup(r.row,r.col,i.row,i.col),s=e.onDraggingColumnOver(l)):i.cellType==o.ColumnHeader?(l.cancel=!e.columns.canMoveElement(r.col,i.col),s=e.onDraggingColumnOver(l)):i.cellType==o.RowHeader?(l.cancel=!e.rows.canMoveElement(r.row,i.row),s=e.onDraggingRowOver(l)):i.cellType==o.TopLeft&&(l.cancel=!e.topLeftCells.columns.canMoveElement(r.col,i.col),s=e.onDraggingColumnOver(l))}if(s?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(i)):this._showDragMarker(null),r&&e.autoScroll){var a=e.controlRect,u=e.scrollPosition,c=M._DRAG_SCROLL_EDGE,h=M._DRAG_SCROLL_STEP;r.panel==e.columnHeaders?(t.pageX-a.left<c&&(u.x+=h),a.right-t.pageX<c&&(u.x-=h)):r.panel==e.rowHeaders&&(t.pageY-a.top<c&&(u.y+=h),a.bottom-t.pageY<c&&(u.y-=h)),u.equals(e._ptScrl)||(e.scrollPosition=u,e._rcBounds=null)}},n.prototype._dragleave=function(t){this._showDragMarker(null)},n.prototype._drop=function(t){var e=this._g,i=this._hitTest(t),r=this._dragSrc?this._htDrag:null,o=U;if(r&&i.cellType==r.cellType){var s=e.selection,l=new fe(i.panel,i.range,r);i.cellType==o.ColumnHeader&&e._hasColumnGroups()?(e._moveColumnGroup(r.row,r.col,i.row,i.col,this._chldColGrpMarker),e.select(s.row,i.col),e.onDraggedColumn(l)):i.cellType==o.ColumnHeader?(e.columns.moveElement(r.col,i.col),e.select(s.row,i.col),e.onDraggedColumn(l)):i.cellType==o.RowHeader?(e.rows.moveElement(r.row,i.row),e.select(i.row,s.col),e.onDraggedRow(l)):i.cellType==o.TopLeft&&(e.topLeftCells.columns.moveElement(r.col,i.col),e.onDraggedColumn(l))}this.resetMouseState()},n.prototype._hitTest=function(t){var e=this._g;return e._rcBounds=null,e.hitTest(t)},n.prototype._showResizeMarker=function(t){var e,i=this._g,r=i._ptScrl,o=this._szArgs.panel.cellType,s=U,l=this._dvMarker,a=i.cells.hostElement;l.parentElement!=a&&a.appendChild(l),this._szRowCol instanceof et?(e={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},o!=s.TopLeft&&o!=s.RowHeader||(e.left-=i._eTL.offsetWidth+r.x),o==s.Cell&&this._szRowCol.index<i.frozenColumns&&(e.left-=r.x),i.rightToLeft&&(e.left=a.clientWidth-e.left-e.width)):(e={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},o!=s.TopLeft&&o!=s.ColumnHeader||(e.top-=i._eTL.offsetHeight+r.y),o==s.Cell&&this._szRowCol.index<i.frozenRows&&(e.top-=r.y)),H(l,e)},n.prototype._showDragMarker=function(t){var e=this._dvMarker;if(t&&t.panel){if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var i=t.panel.hostElement;e.parentElement!=i&&i.appendChild(e);var r=this._g,o=r._ptScrl,s=U,l={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case s.ColumnHeader:var a=r._getColumnGroup(t.row,t.col);if(a){var u=a._rng,c=t.panel.rows,h=t.panel.columns;if(a.isEmpty&&a.binding===null){var d=c[u.bottomRow],f=h[u.leftCol],p=r.rightToLeft,_=p?e.parentElement.clientWidth-t.point.x:t.point.x,w=Math.max(f.renderWidth/5,n._SZ_MAX_COLGRP_EDGE),m=f.pos+w,g=f.pos+f.renderWidth-w,v=this._htDown&&t.col>this._htDown.col;if(!v&&_>m||v&&_<g){l.top=d.pos-l.height/2+d.renderHeight,l.left=p?e.parentElement.clientWidth-f.pos-f.renderWidth:f.pos,l.width=f.renderWidth,this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1,l.top=0,l.height=0;for(var y=0;y<u.topRow;y++)l.top+=c[y].renderHeight;for(y=u.topRow;y<=u.bottomRow;y++)l.height+=c[y].renderHeight;if(l.left=0,this._htDown&&t.col>this._htDown.col){var b=h[u.rightCol];l.left=b.pos-l.width/2+b.renderWidth}else{var E=h[u.leftCol];l.left=E.pos-l.width/2}r.rightToLeft&&(l.left=e.parentElement.clientWidth-l.left-l.width);break}case s.TopLeft:case s.ColumnHeader:var C=t.panel.columns[t.col];l.left=C.pos-l.width/2,l.height=t.panel.height,this._htDown&&t.col>this._htDown.col&&(l.left+=C.renderWidth),t.cellType==s.ColumnHeader&&t.col<r.frozenColumns&&(l.left-=o.x),r.rightToLeft&&(l.left=e.parentElement.clientWidth-l.left-l.width);break;case s.RowHeader:var S=t.getRow();l.top=S.pos-l.height/2,l.width=t.panel.width,t.row>this._htDown.row&&(l.top+=S.renderHeight),t.row<r.frozenRows&&(l.top-=o.y)}H(e,l)}}else De(e),this._rngTarget=null},n.prototype._finishResizing=function(t){var e=this._g,i=e.selection,r=this._szArgs,o=this._eMouse,s=o&&(o.ctrlKey||o.metaKey),l=U;if(r&&!r.cancel){if(r.col>-1){var a=r.col,u=dr(t).x,c=Math.round(Math.max(n._SZ_MIN,this._szStart+(u-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(r.panel.columns[a].width=Math.round(c),e.onResizedColumn(r),s&&this._htDown.cellType==l.ColumnHeader&&i.containsColumn(a))for(var h=i.leftCol;h<=i.rightCol;h++)e.columns[h].allowResizing&&h!=a&&(r=new fe(e.cells,new z(-1,h)),e.onResizingColumn(r)&&(e.columns[h].size=e.columns[a].size,e.onResizedColumn(r)));t.preventDefault()}if(r.row>-1){var d=r.row,f=dr(t).y;if(c=Math.round(Math.max(n._SZ_MIN,this._szStart+(f-this._htDown.point.y))),r.getRow().height=Math.round(c),e.onResizedRow(r),s&&this._htDown.cellType==l.RowHeader&&i.containsRow(d))for(var p=i.topRow;p<=i.bottomRow;p++)e.rows[p].allowResizing&&p!=d&&(r=new fe(e.cells,new z(p,-1)),e.onResizingRow(r)&&(e.rows[p].size=e.rows[d].size,e.onResizedRow(r)));t.preventDefault()}}},n.prototype._handleSelection=function(t,e){var i=this._g,r=i._selHdl.selection,o=new z(t.row,t.col),s=U,l=se;if(o.isValid)if(this._lbSelState==null){switch(t.cellType){case s.RowHeader:o.col=0,o.col2=i.columns.length-1;break;case s.ColumnHeader:switch(i.selectionMode){case l.Row:case l.Cell:o.row=o.row2=r.row,e=!1;break;default:o.row=0,o.row2=i.rows.length-1}}if(e&&(i.anchorCursor?(o.row=r.row,o.col=r.col):(o.row2=r.row2,o.col2=r.col2),!o.isValid)){var a=this._htDown;a&&(o=new z(a.row,a.col))}if(i.selectionMode==se.MultiRange){var u=i._mouseHdl._eMouse,c=u&&(u.ctrlKey||u.metaKey),h=i._selHdl,d=h.selection,f=h.extendedSelection,p=t.panel!=i.cells;K(u.target,".wj-elem-collapse")&&(c=!1),c?!e&&h._deselectRange(o)?h.selection.isValid&&(o=null):d.isValid&&(p||!d.intersects(o))&&(p?this._splitRange(d):[d.clone()]).forEach(function(b){for(var E=!1,C=0;C<f.length&&!E;C++)f[C].equals(b)&&(E=!0);E||f.push(b)}):f.clear()}if(o)switch(i.select(o,!1),t.cellType){case s.RowHeader:i.scrollIntoView(t.row,-1);break;case s.ColumnHeader:i.scrollIntoView(-1,t.col);break;default:i.scrollIntoView(t.row,t.col)}else{var _=new fe(i.cells,new z(t.row,t.col));i.onSelectionChanging(_),i.onSelectionChanged(_),i.invalidate()}}else{var w=this._htDown.row,m=t.row,g=this._lbSel;w>m&&(m=w,w=t.row);var v=this._lbSelStateRows||{};if(this._lbSel)for(var y=g.row;y<=g.row2;y++)(y<w||y>m)&&(i.rows[y].isSelected=v[y]);for(y=w;y<=m;y++)v.hasOwnProperty(y)||(v[y]=i.rows[y].isSelected),i.rows[y].isSelected=!this._lbSelState;this._lbSel=new z(w,0,m,0),i.scrollIntoView(t.row,t.col)}},n.prototype._splitRange=function(t){var e=this._g,i=e.columns.length,r=e.rows.length,o=[];if(t.columnSpan==i)for(var s=t.topRow;s<=t.bottomRow;s++)o.push(new z(s,0,s,i-1));else if(t.rowSpan==r)for(var l=t.leftCol;l<=t.rightCol;l++)o.push(new z(0,l,r-1,l));else o.push(t.clone());return o},n._SZ_MIN=0,n._SZ_MAX_COLGRP_EDGE=50,n}();Bo("wijmo.grid",ld);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var cy=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();function _u(){return Sl("wijmo.input")}function Ps(){return Sl("wijmo.grid.detail")}var ug=ld&&Se;ug||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var cg=function(n){cy(t,n);function t(e){var i=n.call(this)||this;if(i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i._isCheckingHeght=!1,i._backupHeight=-1,i._cacheRow=null,i.grid=e,!t._templateTypes){t._templateTypes=[];for(var r in pe)isNaN(r)&&t._templateTypes.push(r)}var o=i;return i._baseCf=e.cellFactory,e.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),e.prepareCellForEdit.addHandler(function(s,l){o._noApplyLag=!0}),e.cellEditEnded.addHandler(function(s,l){var a=l.range,u=a.col;(u<0||u<e.columns.length&&!e._getBindingColumn(e.cells,a.row,e.columns[u])[t.getTemplContextProp(pe.CellEdit)])&&(o._editChar=null),setTimeout(function(){o._noApplyLag=!1},300)}),e.beginningEdit.addHandler(function(s,l){o._startingEditing=!0}),e.hostElement.addEventListener("keydown",function(s){o._startingEditing=!1},!0),e.hostElement.addEventListener("keypress",function(s){var l=s.charCode>32?String.fromCharCode(s.charCode):null;l&&K(s.target,".wj-flexgrid")===e.hostElement&&(!e.activeEditor||o._startingEditing?(o._editChar=l,setTimeout(function(){e.activeEditor||(o._editChar=null)},0)):o._editChar&&(o._editChar+=l))},!0),e.hostElement.addEventListener("compositionstart",function(s){o._composing=!0},!0),e.hostElement.addEventListener("compositionend",function(s){o._composing=!1},!0),i}return t.prototype.updateCell=function(e,i,r,o,s){var l=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var a=o[t._cellStampProp]=this._cellStampCounter;o.style.overflow&&(o.style.overflow="");var u=i,c=r;s&&!s.isSingleCell&&(i=s.row,r=s.col);var h,d=this,f=e.grid,p=f.editRange,_=e.rows[i],w=_.dataItem,m=!1,g=!1,v=!1,y=!1;switch(e.cellType){case U.Cell:if(p&&p.row===i&&p.col===r)h=pe.CellEdit,g=v=!0;else if(_ instanceof Pe){var b=!((y=w instanceof vn)||_.hasChildren);r==e.columns.firstVisibleIndex?h=b?pe.Cell:pe.GroupHeader:(h=b?pe.Cell:pe.Group,g=!0)}else _ instanceof Ie?h=pe.NewCellTemplate:Ps()&&Ps().DetailRow&&_ instanceof Ps().DetailRow||(h=pe.Cell);break;case U.ColumnHeader:h=pe.ColumnHeader;break;case U.RowHeader:h=f.collectionView&&f.collectionView.currentEditItem===w?pe.RowHeaderEdit:pe.RowHeader,m=!0;break;case U.TopLeft:h=pe.TopLeft,m=!0;break;case U.ColumnFooter:h=pe.ColumnFooter,g=!0;break;case U.BottomLeft:h=pe.BottomLeft,m=!0}var E=!1;if(h!=null){var C=null;if(y&&h==pe.GroupHeader?C=f.getColumn(w.groupDescription.propertyName):r>=0&&r<e.columns.length&&(C=e.cellType===U.ColumnHeader&&f._hasColumnGroups()?f._getColumnGroup(i,r):f._getBindingColumn(e,i,e.columns[r])),C){var S=t.getTemplContextProp,O=S(h),I=(m?f:C)[O];if(I||(h===pe.RowHeaderEdit?(O=S(h=pe.RowHeader),I=f[O]):(h===pe.Group||h===pe.GroupHeader)&&!y&&(O=S(h=pe.Cell),I=C[O])),I){var N;g&&(N=e.getCellData(i,r,!1)),E=!0;var R=o.getAttribute(an._WJS_MEASURE),V=R&&R.toLowerCase()==="true";v&&(this.clearCell(o),this._baseCf.updateCell(e,u,c,o,s,!0));var X,tt=v&&f.imeEnabled,Fe=tt&&this._composing,Ye=o[O],D={cell:o,column:C,row:_,panel:e,rng:s,isEdit:v,isImeInput:tt,isTrueImeInput:Fe,templateContext:I,templateCache:Ye,templateContextProperty:O,cellStamp:a,cellValue:N};if(this.shouldInstantiate(D)){if(v){var G=o.firstElementChild;G&&(tt||o.focus(),G.style.display="none")}else this.clearCell(o);this._doDisposeCell(o),this.renderTemplate(D,!0),D.templateCache=Ye=o[O],X=D.cellBindingsData}else this.renderTemplate(D,!1),X=D.cellBindingsData;if(I.cellOverflow&&(o.style.overflow=I.cellOverflow),V?this.applyImmediately(D):I.autoSizeRows&&!tt?this.checkHeight(D):v&&setTimeout(function(){tt?l._initImeEditInput(D.cell,I):l._initEditInput(D.cell,I,null)},0),v){d._cellEditorVars=X.localVars;var Y=function(ae,nt){if(f.cellEditEnding.removeHandler(Y),!nt.stayInEditMode){var Xe=Z();Xe&&Xe.dispatchEvent(d._evtBlur),q(o,Z())&&o.focus()}if(d._triggerEditorEvents(o),!nt.cancel&&!nt.stayInEditMode)for(var Et=X.localVars,lt=0,at=Object.getOwnPropertyNames(X.bindings);lt<at.length;lt++){var In=at[lt];X.bindings[In].setValue(Et,X.localVars.values[In])}var jt=o.querySelectorAll(".wj-dropdown");[].forEach.call(jt,function(un){var cn=M.getControl(un);cn&&_u()&&cn instanceof _u().DropDown&&(cn.isDroppedDown=!1)})},le=function(ae,nt){f.cellEditEnded.removeHandler(le),d._cellEditorVars=null};f.cellEditEnding.addHandler(Y),f.cellEditEnded.addHandler(le)}else this._baseCf.updateCell(e,u,c,o,s,!1)}}}E||(this._doDisposeCell(o),this._baseCf.updateCell(e,u,c,o,s))},t.prototype.getEditorValue=function(e){if(this._cellEditorVars){var i=e.editRange;return i&&i.isValid&&this._triggerEditorEvents(e.cells.getCellElement(i.row,i.col)),this._cellEditorVars.value}return n.prototype.getEditorValue.call(this,e)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,i,r){i&&(i.rootElement=null,i.column=null,e[i.templateContextProperty]=null,i.templateContextProperty=null)},t.prototype.setBindingsData=function(e,i,r,o,s,l){e.row=i,e.col=r,e.item=o;var a={},u=e.cell||{},c={},h={localVars:u,bindings:c};if(u.row=i,u.col=r,u.item=o,u.value=s,u.values=a,l)for(var d=0,f=Object.getOwnPropertyNames(l);d<f.length;d++){var p=f[d],_=new st(l[p]);c[p]=_,a[p]=_.getValue(u)}return e.cell!==u&&(e.cell=u),h},t.prototype.checkHeight=function(e){var i=this;setTimeout(function(){var r=e.cell;if(e.cellStamp===r[t._cellStampProp]){var o=r.scrollHeight,s=e.panel.rows,l=e.row.index,a=e.rng,u=a&&a.rowSpan||1,c=e.isEdit;if(s.maxSize!=null&&(o=Math.min(o,s.maxSize)),l<s.length&&s[l].renderHeight*u<o-1){var h=s.defaultSize=o/u;if(c){var d=i._isFullEdit(),f=i.grid;i._backupHeight=e.row.height,e.row.height=h,i._cacheRow=e.row,i._isCheckingHeght=!0,f.refresh(),f.startEditing(d),i._isCheckingHeght=!1;return}}else c&&(e.isImeInput?i._initImeEditInput(e.cell,e.templateContext):i._initEditInput(e.cell,e.templateContext,null))}},0)},t.prototype._restoreRowHeight=function(){!this._isCheckingHeght&&this._backupHeight>0&&(this._cacheRow.height=this._backupHeight,this._backupHeight=-1,this._cacheRow=null)},t.prototype.doDisposeCell=function(e){for(var i=t._templateTypes,r=0;r<i.length;r++){var o=t.getTemplContextProp(pe[i[r]]),s=e[o];if(s){var l=(s.column||this.grid)[o];this.disposeTemplate(e,s,l),i[r]==pe[pe.CellEdit]&&this._restoreRowHeight()}}},t.getTemplContextProp=function(e){return"$__cellTempl"+pe[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,i,r){var o=this;this.setEditorFocusFlag(!0);var s=this.getEditorFocusFlag()!==!1;this.setEditorFocusFlag(null),this._setFullEdit(i),s&&setTimeout(function(){var l=o._findInitialInput(e);if(l){var a=function(){l.removeEventListener("focus",a),setTimeout(function(){setTimeout(function(){var u=r??o._editChar;u&&(l.value=u,o._editChar=null,t._setSelectionRange(l,u.length,u.length),l.dispatchEvent(o._evtInput))},0)},t._FOCUS_INTERVAL)};l.addEventListener("focus",a),l.focus()}},100)},t.prototype._initImeEditInput=function(e,i){var r=this,o=Z();if(o&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement)&&de(o,"wj-grid-ime")){var s=this._findInitialInput(e),l=s&&s.style.color,a=this._composing,u=function(){o.removeEventListener("compositionend",u),H(o,Il._cssHidden),r.setEditorFocusFlag(!0),s&&(s.style.color=l),r._initEditInput(e,i,a?o.value:null)};if(a){if(o.addEventListener("compositionend",u),s){var c=s.getBoundingClientRect(),h=o.getBoundingClientRect(),d=window.getComputedStyle(o),f=parseFloat(d.left),p=parseFloat(d.top);H(o,{left:f+c.left-h.left+"px",top:p+c.top-h.top+"px",width:c.width+"px",height:c.height+"px"}),s.style.color="transparent"}}else setTimeout(function(){return u()},t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var i=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea")||e&&e.querySelectorAll("input,textarea");if(i)for(var r=0;r<i.length;r++){var o=i[r],s=window.getComputedStyle(o);if(s.display!=="none"&&s.visibility==="visible")return o}return null},t._setSelectionRange=function(e,i,r){if(r===void 0&&(r=i),q(document.body,e)&&!e.disabled&&e.style.display!="none")try{e.setSelectionRange(j(i),j(r),ge()?null:"backward"),e.focus()}catch{}},t.prototype._triggerEditorEvents=function(e){if(e)for(var i=e.querySelectorAll(".wj-control"),r=0;r<i.length;r++){var o=i[r],s=M.getControl(o);s&&this.flushPendingEvents(s)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var i=this.grid;e.forceFullEdit&&i.activeEditor&&(i._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=M._FOCUS_INTERVAL+20,t}(Se);ug||(window.wijmo.grid=null);var pe;(function(n){n[n.Cell=0]="Cell",n[n.CellEdit=1]="CellEdit",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.RowHeaderEdit=4]="RowHeaderEdit",n[n.TopLeft=5]="TopLeft",n[n.GroupHeader=6]="GroupHeader",n[n.Group=7]="Group",n[n.NewCellTemplate=8]="NewCellTemplate",n[n.ColumnFooter=9]="ColumnFooter",n[n.BottomLeft=10]="BottomLeft"})(pe||(pe={}));Bo("wijmo.interop.grid",vg);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var Uo=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),fs=pe,hy=function(n){Uo(t,n);function t(e){return n.call(this,e,an,{objectProps:["childItemsPath","mergeManager","itemsSource","virtualizationThreshold","columnGroups"]})||this}return t.prototype._createControl=function(){var e=n.prototype._createControl.call(this);return new mu(this,e),e},t}(pi);(function(n){Uo(t,n);function t(e){var i=n.call(this,e,et,{objectProps:["dataMap","cellTemplate","editor"]})||this;return i._parentProp="columns",i}return t.prototype._initParent=function(){var e=this.parent.control;e.autoGenerateColumns&&(e.autoGenerateColumns=!1,e.columns.clear()),n.prototype._initParent.call(this)},t})(pi);(function(n){Uo(t,n);function t(e){var i=n.call(this,e,Ai,{objectProps:["dataMap","cellTemplate","editor"]})||this;return i._parentProp="columnGroups",i}return t})(pi);var mu=function(n){Uo(t,n);function t(e,i){var r=n.call(this,i)||this;return r._renderedCells=[],r._isViewUpdated=!1,i.updatedView.addHandler(r._gridViewUpdated,r),e._beforeDidUpdate.addHandler(r._gridCmpBeforeDidUpdate,r),e._afterDidUpdate.addHandler(r._gridCmpAfterDidUpdate,r),r}return t.prototype.shouldInstantiate=function(e){var i=e.templateCache;return i==null||i.column!==e.column||i.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=i.rootElement},t.prototype.renderTemplate=function(e,i){var r=e.row,o=e.templateContext,s=e.cell;if(e.cellBindingsData=this.setBindingsData({},r,e.column,r.dataItem,e.cellValue,o.valuePaths),this._renderCell(s,e),i){this._addRenderedCell(s);var l=e.templateCache={column:e.column,rootElement:s.firstElementChild,templateContextProperty:e.templateContextProperty};s[e.templateContextProperty]=l}},t.prototype.disposeTemplate=function(e,i,r){i&&(pi.sensitiveDomUnmount(e,!1),this._removeRenderedCell(e),n.prototype.disposeTemplate.call(this,e,i,r))},t.prototype.clearCell=function(e){pi.sensitiveDomUnmount(e,!1)},t.prototype.applyImmediately=function(e){},t.prototype.flushPendingEvents=function(e){},t.prototype.getEditorFocusFlag=function(){return!0},t.prototype.setEditorFocusFlag=function(e){},t.prototype._renderCell=function(e,i){var r=i||e.__wjCellLastRenderedProp;if(r){var o=r&&r.templateContext.template,s=r.cellBindingsData.localVars;pi.sensitiveDomRender(Ft.createElement("div",{},o&&o(s)),e),e.__wjCellLastRenderedProp=r}},t.prototype._addRenderedCell=function(e){var i=this._renderedCells;i.indexOf(e)<0&&i.push(e)},t.prototype._removeRenderedCell=function(e){var i=this._renderedCells,r=i.indexOf(e);r>-1&&i.splice(r,1)},t.prototype._reRenderCells=function(){var e=this;this._renderedCells.forEach(function(i){return e._renderCell(i)})},t.prototype._gridCmpBeforeDidUpdate=function(){this._isViewUpdated=!1},t.prototype._gridCmpAfterDidUpdate=function(){this._gridCmpRendered()},t.prototype._gridCmpRendered=function(){var e=this;setTimeout(function(){e._isViewUpdated?e._isViewUpdated=!1:e._reRenderCells()},M._REFRESH_INTERVAL)},t.prototype._gridViewUpdated=function(){this._isViewUpdated=!0},t}(cg);(function(n){Uo(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"cellOverflow",{get:function(){return this.props.cellOverflow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeRows",{get:function(){var e=this.props.autoSizeRows;return e==null||e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceFullEdit",{get:function(){var e=this.props.forceFullEdit;return e==null||e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valuePaths",{get:function(){return this.props.valuePaths},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.props[t._CellRenderFuncProp]},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this,i=this.props[pi._propsParent];i&&i._mountedCB(function(){var r=e.ownerControl=i.control;if(r instanceof an)e.grid=r;else if(r instanceof et){e.column=r;var o=i,s=void 0;do s=(o=o.props[pi._propsParent])&&o.control;while(s&&!(s instanceof an));e.grid=s}e.template&&e._attachToControl()})},t.prototype.componentWillUnmount=function(){this._detachFromControl()},t.prototype.componentDidUpdate=function(e){var i=e[t._CellRenderFuncProp],r=this.template;i!=r&&(i==null?this._attachToControl():r==null&&this._detachFromControl())},t.prototype.render=function(){return null},t.prototype._attachToControl=function(){var e=this.cellType=ye(this.props.cellType,fs),i=this.ownerControl;i[mu.getTemplContextProp(e)]=this,i instanceof et&&(e===fs.Cell||e===fs.ColumnHeader||e===fs.ColumnFooter)&&i._setFlag($.HasTemplate,!0),this.grid.invalidate()},t.prototype._detachFromControl=function(){this.cellType!=null&&(this.ownerControl[mu.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},t._CellRenderFuncProp="template",t})(Ft.Component);const dy=()=>{const n=[];for(let t=0;t<6;t++)n.push({checker:!0,num1:Math.random()*5e3,num2:Math.random()*5e3,num3:Math.random()*5e3,num4:Math.random()*5e3,num5:Math.random()*5e3,num6:Math.random()*5e3,num7:Math.random()*5e3,num8:Math.random()*5e3,num9:Math.random()*5e3,num0:Math.random()*5e3});return n},fy=dy();function py(){const[n,t]=Ft.useState(fy.map(l=>({...l}))),[e,i]=Ft.useState(null);Ft.useEffect(()=>{console.log(n),i(new rn(n,{calculatedFields:{sum:l=>l.num1+l.num2}}))},[n]);const r=[{header:"",binding:"checker",align:"right"},{binding:"num1",header:"1"},{binding:"num2",header:"2"},{binding:"sum",header:"",isReadOnly:!0},{binding:"num3",header:"3"},{binding:"num4",header:"4"},{binding:"num5",header:"5"},{binding:"num6",header:"6"},{binding:"num7",header:"7"},{binding:"num8",header:"8"},{binding:"num9",header:"9"},{binding:"num0",header:"0"}],o=l=>{for(let a=0;a<r.length;a++)l.columns.push(new et(r[a]));l.formatItem.addHandler((a,u)=>{s(u.panel,u.row,u.col,u.cell)})},s=(l,a,u,c)=>{if(l.columns[u].binding==="checker"&&!c.classList.contains("wj-header")){const h=l.getCellData(a,u,!1);c.innerHTML=`
      <label>
        <input type="checkbox" id="checker-${a}" ${h&&"checked"}>
        ${h?"hogehoge":"fugafuga"}
      </label>`;const d=document.getElementById(`checker-${a}`);d==null||d.addEventListener("change",()=>{t(f=>f.map((p,_)=>_===a?{...p,checker:!p.checker}:p))})}};return Zi.jsxs(Zi.Fragment,{children:[Zi.jsx("button",{onClick:()=>{console.log(n)},children:"console.log"}),Zi.jsx(hy,{allowSorting:"None",allowDragging:"None",selectionMode:"MultiRange",itemsSource:e,initialized:o,refreshOnEdit:!1,headersVisibility:ze.Column,autoGenerateColumns:!1,frozenColumns:1})]})}ha.createRoot(document.getElementById("root")).render(Zi.jsx(Lg.StrictMode,{children:Zi.jsx(py,{})}));
