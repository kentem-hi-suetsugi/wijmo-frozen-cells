const vg=Object.freeze(Object.defineProperty({__proto__:null,get Aggregate(){return xe},get ArrayBase(){return Mo},get Binding(){return lt},get CancelEventArgs(){return we},get Clipboard(){return cu},get CollectionView(){return on},get CollectionViewGroup(){return yn},get Color(){return yt},get Control(){return O},get ControlBase(){return Vp},get DataType(){return ve},get DateTime(){return W},get Event(){return P},get EventArgs(){return xi},get Globalize(){return ne},get GroupDescription(){return pc},get Key(){return E},get NotifyCollectionChangedAction(){return Oe},get NotifyCollectionChangedEventArgs(){return Zt},get ObservableArray(){return $t},get PageChangingEventArgs(){return jp},get Point(){return xt},get PopupPosition(){return sn},get PrintDocument(){return wv},get PropertyChangedEventArgs(){return sv},get PropertyGroupDescription(){return su},get Rect(){return bt},get RequestErrorEventArgs(){return lv},get Size(){return Xt},get SortDescription(){return ji},get SortNulls(){return Mn},get Tooltip(){return nl},get TooltipEventArgs(){return Up},get _ClickRepeater(){return Ki},get _Map(){return Bp},get _MaskElement(){return no},get _MaskProvider(){return Br},get _addCultureInfo(){return Si},get _deprecated(){return xl},get _focusSrv(){return fc},get _getActiveElement(){return Fp},get _getCalculatedArray(){return Mp},get _getModule(){return Pl},get _getTargetObject(){return Op},get _registerModule(){return Bo},get _startDrag(){return Tp},get _updateCulture(){return _v},get _updateWme(){return Gp},get addClass(){return ie},get animate(){return vc},get asArray(){return mt},get asBoolean(){return k},get asCollectionView(){return No},get asDate(){return Nt},get asEnum(){return ye},get asFunction(){return ke},get asInt(){return Ee},get asNumber(){return j},get asString(){return L},get asType(){return Le},get assert(){return B},get changeType(){return Cl},get clamp(){return ce},get closest(){return K},get closestClass(){return Ft},get contains(){return q},get controlBaseClass(){return yc},get copy(){return Ei},get createElement(){return _e},get culture(){return oe},get disableAutoComplete(){return Sl},get enable(){return Dt},get escapeHtml(){return xn},get escapeRegExp(){return mc},get evalTemplate(){return Ap},get format(){return Nr},get getActiveElement(){return Z},get getAggregate(){return kl},get getElement(){return Gn},get getElementRect(){return el},get getEventOptions(){return Js},get getType(){return yi},get getTypes(){return Lp},get getUniqueId(){return _c},get getVersion(){return gc},get glbz(){return Hp},get hasClass(){return fe},get hasItems(){return Ue},get hidePopup(){return en},get httpRequest(){return au},get isArray(){return We},get isBoolean(){return Je},get isDate(){return Me},get isEdge(){return Jm},get isEmpty(){return hv},get isFirefox(){return Wi},get isFunction(){return ee},get isIE(){return ge},get isIE10(){return kp},get isIE9(){return Jn},get isInt(){return Zs},get isMobile(){return xp},get isNullOrWhiteSpace(){return cv},get isNumber(){return ue},get isObject(){return ot},get isPrimitive(){return Tr},get isSafari(){return wr},get isString(){return Q},get isUndefined(){return Un},get isiOS(){return Ep},get mouseToPage(){return dr},get moveFocus(){return fo},get removeChild(){return De},get removeClass(){return Rt},get saveFile(){return fv},get setAriaLabel(){return Ve},get setAttribute(){return A},get setChecked(){return Mr},get setCss(){return H},get setLicenseKey(){return uv},get setSelectionRange(){return J},get setText(){return mn},get showPopup(){return kn},get supportsFocusOptions(){return Dp},get toFixed(){return lu},get toHeaderCase(){return El},get toPlainText(){return Pn},get toggleClass(){return te},get tryCast(){return Wt}},Symbol.toStringTag,{value:"Module"})),yg=Object.freeze(Object.defineProperty({__proto__:null,get AutoComplete(){return Zp},get Calendar(){return Qp},get ClickAction(){return si},get CollectionViewNavigator(){return Jv},get ColorPicker(){return $p},get ComboBox(){return Vo},get DateSelectionMode(){return Tt},get DropDown(){return Or},get FormatItemEventArgs(){return Cc},get InputColor(){return ty},get InputDate(){return xc},get InputDateRange(){return ey},get InputDateTime(){return ry},get InputMask(){return Qv},get InputNumber(){return Xv},get InputTime(){return Jp},get ListBox(){return Vr},get Menu(){return iy},get MultiAutoComplete(){return oy},get MultiSelect(){return ny},get MultiSelectListBox(){return Xp},get Popup(){return Zv},get PopupBoundsChangingEventArgs(){return pu},get PopupTrigger(){return Be},get ShowMonthPicker(){return Cr}},Symbol.toStringTag,{value:"Module"})),ud=Object.freeze(Object.defineProperty({__proto__:null,get AllowDragging(){return An},get AllowMerging(){return Lr},get AllowPinning(){return tn},get AllowResizing(){return wn},get AllowSorting(){return Wn},get AutoSizeMode(){return Nn},get CellEditEndingEventArgs(){return rl},get CellFactory(){return Se},get CellRange(){return z},get CellRangeEventArgs(){return de},get CellType(){return U},get ClipStringOptions(){return vn},get Column(){return et},get ColumnCollection(){return ol},get ColumnGroup(){return Fi},get ColumnGroupCollection(){return zi},get DataMap(){return gu},get DataMapEditor(){return Bt},get FlexGrid(){return un},get FormatItemEventArgs(){return ng},get GridPanel(){return kt},get GroupRow(){return Pe},get HeadersVisibility(){return ze},get HitTestInfo(){return Oo},get KeyAction(){return _i},get MergeManager(){return _u},get Row(){return En},get RowCol(){return Il},get RowColCollection(){return Ec},get RowColFlags(){return $},get RowCollection(){return po},get SelMove(){return Hn},get SelectedState(){return jr},get SelectionMode(){return se},get _AddNewHandler(){return og},get _ColumnGroupHandler(){return rg},get _CustomEditor(){return ag},get _EditHandler(){return lg},get _ImeHandler(){return Rl},get _KeyboardHandler(){return ug},get _MouseHandler(){return cg},get _NewRowTemplate(){return Ie},get _SelectionHandler(){return ig},get _getSafariVer(){return tg},get softInput(){return jo}},Symbol.toStringTag,{value:"Module"})),wg=Object.freeze(Object.defineProperty({__proto__:null,get DirectiveCellFactoryBase(){return dg},get GridCellTemplateType(){return pe},get softGridDetail(){return ks},get softInput(){return mu}},Symbol.toStringTag,{value:"Module"}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function bg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cd={exports:{}},sl={},hd={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),Cg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Pg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Dg=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),Hc=Symbol.iterator;function Mg(n){return n===null||typeof n!="object"?null:(n=Hc&&n[Hc]||n["@@iterator"],typeof n=="function"?n:null)}var dd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fd=Object.assign,pd={};function Hr(n,t,e){this.props=n,this.context=t,this.refs=pd,this.updater=e||dd}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Hr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function gd(){}gd.prototype=Hr.prototype;function yu(n,t,e){this.props=n,this.context=t,this.refs=pd,this.updater=e||dd}var wu=yu.prototype=new gd;wu.constructor=yu;fd(wu,Hr.prototype);wu.isPureReactComponent=!0;var Ac=Array.isArray,_d=Object.prototype.hasOwnProperty,bu={current:null},md={key:!0,ref:!0,__self:!0,__source:!0};function vd(n,t,e){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)_d.call(t,r)&&!md.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=e;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(n&&n.defaultProps)for(r in l=n.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Lo,type:n,key:o,ref:s,props:i,_owner:bu.current}}function Og(n,t){return{$$typeof:Lo,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Cu(n){return typeof n=="object"&&n!==null&&n.$$typeof===Lo}function jg(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var Fc=/\/+/g;function Ml(n,t){return typeof n=="object"&&n!==null&&n.key!=null?jg(""+n.key):t.toString(36)}function gs(n,t,e,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Lo:case Cg:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+Ml(s,0):r,Ac(i)?(e="",n!=null&&(e=n.replace(Fc,"$&/")+"/"),gs(i,t,e,"",function(u){return u})):i!=null&&(Cu(i)&&(i=Og(i,e+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Fc,"$&/")+"/")+n)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Ac(n))for(var l=0;l<n.length;l++){o=n[l];var a=r+Ml(o,l);s+=gs(o,t,e,a,i)}else if(a=Mg(n),typeof a=="function")for(n=a.call(n),l=0;!(o=n.next()).done;)o=o.value,a=r+Ml(o,l++),s+=gs(o,t,e,a,i);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $o(n,t,e){if(n==null)return n;var r=[],i=0;return gs(n,r,"","",function(o){return t.call(e,o,i++)}),r}function Lg(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Et={current:null},_s={transition:null},Hg={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:_s,ReactCurrentOwner:bu};function yd(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:$o,forEach:function(n,t,e){$o(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return $o(n,function(){t++}),t},toArray:function(n){return $o(n,function(t){return t})||[]},only:function(n){if(!Cu(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};re.Component=Hr;re.Fragment=xg;re.Profiler=Sg;re.PureComponent=yu;re.StrictMode=Eg;re.Suspense=Rg;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;re.act=yd;re.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=fd({},n.props),i=n.key,o=n.ref,s=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=bu.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(a in t)_d.call(t,a)&&!md.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=e;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Lo,type:n.type,key:i,ref:o,props:r,_owner:s}};re.createContext=function(n){return n={$$typeof:kg,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Pg,_context:n},n.Consumer=n};re.createElement=vd;re.createFactory=function(n){var t=vd.bind(null,n);return t.type=n,t};re.createRef=function(){return{current:null}};re.forwardRef=function(n){return{$$typeof:Ig,render:n}};re.isValidElement=Cu;re.lazy=function(n){return{$$typeof:Tg,_payload:{_status:-1,_result:n},_init:Lg}};re.memo=function(n,t){return{$$typeof:Dg,type:n,compare:t===void 0?null:t}};re.startTransition=function(n){var t=_s.transition;_s.transition={};try{n()}finally{_s.transition=t}};re.unstable_act=yd;re.useCallback=function(n,t){return Et.current.useCallback(n,t)};re.useContext=function(n){return Et.current.useContext(n)};re.useDebugValue=function(){};re.useDeferredValue=function(n){return Et.current.useDeferredValue(n)};re.useEffect=function(n,t){return Et.current.useEffect(n,t)};re.useId=function(){return Et.current.useId()};re.useImperativeHandle=function(n,t,e){return Et.current.useImperativeHandle(n,t,e)};re.useInsertionEffect=function(n,t){return Et.current.useInsertionEffect(n,t)};re.useLayoutEffect=function(n,t){return Et.current.useLayoutEffect(n,t)};re.useMemo=function(n,t){return Et.current.useMemo(n,t)};re.useReducer=function(n,t,e){return Et.current.useReducer(n,t,e)};re.useRef=function(n){return Et.current.useRef(n)};re.useState=function(n){return Et.current.useState(n)};re.useSyncExternalStore=function(n,t,e){return Et.current.useSyncExternalStore(n,t,e)};re.useTransition=function(){return Et.current.useTransition()};re.version="18.3.1";hd.exports=re;var ht=hd.exports;const Ag=bg(ht);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=ht,zg=Symbol.for("react.element"),Ng=Symbol.for("react.fragment"),Bg=Object.prototype.hasOwnProperty,Vg=Fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ug={key:!0,ref:!0,__self:!0,__source:!0};function wd(n,t,e){var r,i={},o=null,s=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Bg.call(t,r)&&!Ug.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zg,type:n,key:o,ref:s,props:i,_owner:Vg.current}}sl.Fragment=Ng;sl.jsx=wd;sl.jsxs=wd;cd.exports=sl;var it=cd.exports,da={},bd={exports:{}},Kt={},Cd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(D,G){var Y=D.length;D.push(G);e:for(;0<Y;){var le=Y-1>>>1,ae=D[le];if(0<i(ae,G))D[le]=G,D[Y]=ae,Y=le;else break e}}function e(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],Y=D.pop();if(Y!==G){D[0]=Y;e:for(var le=0,ae=D.length,nt=ae>>>1;le<nt;){var Xe=2*(le+1)-1,Pt=D[Xe],at=Xe+1,ut=D[at];if(0>i(Pt,Y))at<ae&&0>i(ut,Pt)?(D[le]=ut,D[at]=Y,le=at):(D[le]=Pt,D[Xe]=Y,le=Xe);else if(at<ae&&0>i(ut,Y))D[le]=ut,D[at]=Y,le=at;else break e}}return G}function i(D,G){var Y=D.sortIndex-G.sortIndex;return Y!==0?Y:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,h=null,d=3,f=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var G=e(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=D)r(u),G.sortIndex=G.expirationTime,t(a,G);else break;G=e(u)}}function y(D){if(g=!1,v(D),!p)if(e(a)!==null)p=!0,Fe(b);else{var G=e(u);G!==null&&Ye(y,G.startTime-D)}}function b(D,G){p=!1,g&&(g=!1,m(S),S=-1),f=!0;var Y=d;try{for(v(G),h=e(a);h!==null&&(!(h.expirationTime>G)||D&&!N());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var ae=le(h.expirationTime<=G);G=n.unstable_now(),typeof ae=="function"?h.callback=ae:h===e(a)&&r(a),v(G)}else r(a);h=e(a)}if(h!==null)var nt=!0;else{var Xe=e(u);Xe!==null&&Ye(y,Xe.startTime-G),nt=!1}return nt}finally{h=null,d=Y,f=!1}}var x=!1,C=null,S=-1,M=5,I=-1;function N(){return!(n.unstable_now()-I<M)}function R(){if(C!==null){var D=n.unstable_now();I=D;var G=!0;try{G=C(!0,D)}finally{G?V():(x=!1,C=null)}}else x=!1}var V;if(typeof _=="function")V=function(){_(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,tt=X.port2;X.port1.onmessage=R,V=function(){tt.postMessage(null)}}else V=function(){w(R,0)};function Fe(D){C=D,x||(x=!0,V())}function Ye(D,G){S=w(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,Fe(b))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return e(a)},n.unstable_next=function(D){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return D()}finally{d=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=d;d=D;try{return G()}finally{d=Y}},n.unstable_scheduleCallback=function(D,G,Y){var le=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Y+ae,D={id:c++,callback:G,priorityLevel:D,startTime:Y,expirationTime:ae,sortIndex:-1},Y>le?(D.sortIndex=Y,t(u,D),e(a)===null&&D===e(u)&&(g?(m(S),S=-1):g=!0,Ye(y,Y-le))):(D.sortIndex=ae,t(a,D),p||f||(p=!0,Fe(b))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var G=d;return function(){var Y=d;d=G;try{return D.apply(this,arguments)}finally{d=Y}}}})(xd);Cd.exports=xd;var Gg=Cd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=ht,Gt=Gg;function T(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ed=new Set,go={};function Yi(n,t){Er(n,t),Er(n+"Capture",t)}function Er(n,t){for(go[n]=t,n=0;n<t.length;n++)Ed.add(t[n])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=Object.prototype.hasOwnProperty,Kg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zc={},Nc={};function Yg(n){return fa.call(Nc,n)?!0:fa.call(zc,n)?!1:Kg.test(n)?Nc[n]=!0:(zc[n]=!0,!1)}function qg(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $g(n,t,e,r){if(t===null||typeof t>"u"||qg(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(n,t,e,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ft[n]=new St(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];ft[t]=new St(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ft[n]=new St(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ft[n]=new St(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ft[n]=new St(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ft[n]=new St(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ft[n]=new St(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ft[n]=new St(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ft[n]=new St(n,5,!1,n.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function Eu(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(xu,Eu);ft[t]=new St(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(xu,Eu);ft[t]=new St(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(xu,Eu);ft[t]=new St(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ft[n]=new St(n,1,!1,n.toLowerCase(),null,!1,!1)});ft.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ft[n]=new St(n,1,!1,n.toLowerCase(),null,!0,!0)});function Su(n,t,e,r){var i=ft.hasOwnProperty(t)?ft[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($g(t,e,i,r)&&(e=null),r||i===null?Yg(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var Qn=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),Sd=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),ga=Symbol.for("react.suspense"),_a=Symbol.for("react.suspense_list"),Iu=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),kd=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function Gr(n){return n===null||typeof n!="object"?null:(n=Bc&&n[Bc]||n["@@iterator"],typeof n=="function"?n:null)}var Ae=Object.assign,Ol;function Jr(n){if(Ol===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+n}var jl=!1;function Ll(n,t){if(!n||jl)return"";jl=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){r=u}n.call(t.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return n.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",n.displayName)),a}while(1<=s&&0<=l);break}}}finally{jl=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Jr(n):""}function Xg(n){switch(n.tag){case 5:return Jr(n.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return n=Ll(n.type,!1),n;case 11:return n=Ll(n.type.render,!1),n;case 1:return n=Ll(n.type,!0),n;default:return""}}function ma(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case tr:return"Fragment";case er:return"Portal";case pa:return"Profiler";case Pu:return"StrictMode";case ga:return"Suspense";case _a:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pd:return(n.displayName||"Context")+".Consumer";case Sd:return(n._context.displayName||"Context")+".Provider";case ku:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Iu:return t=n.displayName||null,t!==null?t:ma(n.type)||"Memo";case ei:t=n._payload,n=n._init;try{return ma(n(t))}catch{}}return null}function Qg(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ma(t);case 8:return t===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Id(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jg(n){var t=Id(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Qo(n){n._valueTracker||(n._valueTracker=Jg(n))}function Rd(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=Id(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function Is(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function va(n,t){var e=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function Vc(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=mi(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dd(n,t){t=t.checked,t!=null&&Su(n,"checked",t,!1)}function ya(n,t){Dd(n,t);var e=mi(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?wa(n,t.type,e):t.hasOwnProperty("defaultValue")&&wa(n,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function Uc(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function wa(n,t,e){(t!=="number"||Is(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Zr=Array.isArray;function pr(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+mi(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function ba(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Gc(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(T(92));if(Zr(e)){if(1<e.length)throw Error(T(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:mi(e)}}function Td(n,t){var e=mi(t.value),r=mi(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function Wc(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function Md(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?Md(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jo,Od=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function _o(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zg=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(n){Zg.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),io[t]=io[n]})});function jd(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||io.hasOwnProperty(n)&&io[n]?(""+t).trim():t+"px"}function Ld(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=jd(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var e_=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(n,t){if(t){if(e_[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ea(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function Ru(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pa=null,gr=null,_r=null;function Kc(n){if(n=Fo(n)){if(typeof Pa!="function")throw Error(T(280));var t=n.stateNode;t&&(t=hl(t),Pa(n.stateNode,n.type,t))}}function Hd(n){gr?_r?_r.push(n):_r=[n]:gr=n}function Ad(){if(gr){var n=gr,t=_r;if(_r=gr=null,Kc(n),t)for(n=0;n<t.length;n++)Kc(t[n])}}function Fd(n,t){return n(t)}function zd(){}var Hl=!1;function Nd(n,t,e){if(Hl)return n(t,e);Hl=!0;try{return Fd(n,t,e)}finally{Hl=!1,(gr!==null||_r!==null)&&(zd(),Ad())}}function mo(n,t){var e=n.stateNode;if(e===null)return null;var r=hl(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(T(231,t,typeof e));return e}var ka=!1;if(Yn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{ka=!1}function t_(n,t,e,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var ro=!1,Rs=null,Ds=!1,Ia=null,n_={onError:function(n){ro=!0,Rs=n}};function i_(n,t,e,r,i,o,s,l,a){ro=!1,Rs=null,t_.apply(n_,arguments)}function r_(n,t,e,r,i,o,s,l,a){if(i_.apply(this,arguments),ro){if(ro){var u=Rs;ro=!1,Rs=null}else throw Error(T(198));Ds||(Ds=!0,Ia=u)}}function qi(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function Bd(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function Yc(n){if(qi(n)!==n)throw Error(T(188))}function o_(n){var t=n.alternate;if(!t){if(t=qi(n),t===null)throw Error(T(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return Yc(i),n;if(o===r)return Yc(i),t;o=o.sibling}throw Error(T(188))}if(e.return!==r.return)e=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===e){s=!0,e=i,r=o;break}if(l===r){s=!0,r=i,e=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===e){s=!0,e=o,r=i;break}if(l===r){s=!0,r=o,e=i;break}l=l.sibling}if(!s)throw Error(T(189))}}if(e.alternate!==r)throw Error(T(190))}if(e.tag!==3)throw Error(T(188));return e.stateNode.current===e?n:t}function Vd(n){return n=o_(n),n!==null?Ud(n):null}function Ud(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Ud(n);if(t!==null)return t;n=n.sibling}return null}var Gd=Gt.unstable_scheduleCallback,qc=Gt.unstable_cancelCallback,s_=Gt.unstable_shouldYield,l_=Gt.unstable_requestPaint,Ge=Gt.unstable_now,a_=Gt.unstable_getCurrentPriorityLevel,Du=Gt.unstable_ImmediatePriority,Wd=Gt.unstable_UserBlockingPriority,Ts=Gt.unstable_NormalPriority,u_=Gt.unstable_LowPriority,Kd=Gt.unstable_IdlePriority,ll=null,jn=null;function c_(n){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(ll,n,void 0,(n.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:f_,h_=Math.log,d_=Math.LN2;function f_(n){return n>>>=0,n===0?32:31-(h_(n)/d_|0)|0}var Zo=64,es=4194304;function eo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ms(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=e&268435455;if(s!==0){var l=s&~i;l!==0?r=eo(l):(o&=s,o!==0&&(r=eo(o)))}else s=e&~i,s!==0?r=eo(s):o!==0&&(r=eo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-bn(t),i=1<<e,r|=n[e],t&=~i;return r}function p_(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-bn(o),l=1<<s,a=i[s];a===-1?(!(l&e)||l&r)&&(i[s]=p_(l,t)):a<=t&&(n.expiredLanes|=l),o&=~l}}function Ra(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yd(){var n=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),n}function Al(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Ho(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-bn(t),n[t]=e}function __(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-bn(e),o=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~o}}function Tu(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-bn(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var me=0;function qd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var $d,Mu,Xd,Qd,Jd,Da=!1,ts=[],li=null,ai=null,ui=null,vo=new Map,yo=new Map,ni=[],m_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $c(n,t){switch(n){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Kr(n,t,e,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Fo(t),t!==null&&Mu(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function v_(n,t,e,r,i){switch(t){case"focusin":return li=Kr(li,n,t,e,r,i),!0;case"dragenter":return ai=Kr(ai,n,t,e,r,i),!0;case"mouseover":return ui=Kr(ui,n,t,e,r,i),!0;case"pointerover":var o=i.pointerId;return vo.set(o,Kr(vo.get(o)||null,n,t,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yo.set(o,Kr(yo.get(o)||null,n,t,e,r,i)),!0}return!1}function Zd(n){var t=Ti(n.target);if(t!==null){var e=qi(t);if(e!==null){if(t=e.tag,t===13){if(t=Bd(e),t!==null){n.blockedOn=t,Jd(n.priority,function(){Xd(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ms(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Ta(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);Sa=r,e.target.dispatchEvent(r),Sa=null}else return t=Fo(e),t!==null&&Mu(t),n.blockedOn=e,!1;t.shift()}return!0}function Xc(n,t,e){ms(n)&&e.delete(t)}function y_(){Da=!1,li!==null&&ms(li)&&(li=null),ai!==null&&ms(ai)&&(ai=null),ui!==null&&ms(ui)&&(ui=null),vo.forEach(Xc),yo.forEach(Xc)}function Yr(n,t){n.blockedOn===t&&(n.blockedOn=null,Da||(Da=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,y_)))}function wo(n){function t(i){return Yr(i,n)}if(0<ts.length){Yr(ts[0],n);for(var e=1;e<ts.length;e++){var r=ts[e];r.blockedOn===n&&(r.blockedOn=null)}}for(li!==null&&Yr(li,n),ai!==null&&Yr(ai,n),ui!==null&&Yr(ui,n),vo.forEach(t),yo.forEach(t),e=0;e<ni.length;e++)r=ni[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<ni.length&&(e=ni[0],e.blockedOn===null);)Zd(e),e.blockedOn===null&&ni.shift()}var mr=Qn.ReactCurrentBatchConfig,Os=!0;function w_(n,t,e,r){var i=me,o=mr.transition;mr.transition=null;try{me=1,Ou(n,t,e,r)}finally{me=i,mr.transition=o}}function b_(n,t,e,r){var i=me,o=mr.transition;mr.transition=null;try{me=4,Ou(n,t,e,r)}finally{me=i,mr.transition=o}}function Ou(n,t,e,r){if(Os){var i=Ta(n,t,e,r);if(i===null)Yl(n,t,r,js,e),$c(n,r);else if(v_(i,n,t,e,r))r.stopPropagation();else if($c(n,r),t&4&&-1<m_.indexOf(n)){for(;i!==null;){var o=Fo(i);if(o!==null&&$d(o),o=Ta(n,t,e,r),o===null&&Yl(n,t,r,js,e),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yl(n,t,r,null,e)}}var js=null;function Ta(n,t,e,r){if(js=null,n=Ru(r),n=Ti(n),n!==null)if(t=qi(n),t===null)n=null;else if(e=t.tag,e===13){if(n=Bd(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return js=n,null}function ef(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a_()){case Du:return 1;case Wd:return 4;case Ts:case u_:return 16;case Kd:return 536870912;default:return 16}default:return 16}}var ri=null,ju=null,vs=null;function tf(){if(vs)return vs;var n,t=ju,e=t.length,r,i="value"in ri?ri.value:ri.textContent,o=i.length;for(n=0;n<e&&t[n]===i[n];n++);var s=e-n;for(r=1;r<=s&&t[e-r]===i[o-r];r++);return vs=i.slice(n,1<r?1-r:void 0)}function ys(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function ns(){return!0}function Qc(){return!1}function Yt(n){function t(e,r,i,o,s){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(e=n[l],this[l]=e?e(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ns:Qc,this.isPropagationStopped=Qc,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=Yt(Ar),Ao=Ae({},Ar,{view:0,detail:0}),C_=Yt(Ao),Fl,zl,qr,al=Ae({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Fl=n.screenX-qr.screenX,zl=n.screenY-qr.screenY):zl=Fl=0,qr=n),Fl)},movementY:function(n){return"movementY"in n?n.movementY:zl}}),Jc=Yt(al),x_=Ae({},al,{dataTransfer:0}),E_=Yt(x_),S_=Ae({},Ao,{relatedTarget:0}),Nl=Yt(S_),P_=Ae({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),k_=Yt(P_),I_=Ae({},Ar,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),R_=Yt(I_),D_=Ae({},Ar,{data:0}),Zc=Yt(D_),T_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j_(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=O_[n])?!!t[n]:!1}function Hu(){return j_}var L_=Ae({},Ao,{key:function(n){if(n.key){var t=T_[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(n){return n.type==="keypress"?ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),H_=Yt(L_),A_=Ae({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=Yt(A_),F_=Ae({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),z_=Yt(F_),N_=Ae({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=Yt(N_),V_=Ae({},al,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=Yt(V_),G_=[9,13,27,32],Au=Yn&&"CompositionEvent"in window,oo=null;Yn&&"documentMode"in document&&(oo=document.documentMode);var W_=Yn&&"TextEvent"in window&&!oo,nf=Yn&&(!Au||oo&&8<oo&&11>=oo),th=" ",nh=!1;function rf(n,t){switch(n){case"keyup":return G_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nr=!1;function K_(n,t){switch(n){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return n=t.data,n===th&&nh?null:n;default:return null}}function Y_(n,t){if(nr)return n==="compositionend"||!Au&&rf(n,t)?(n=tf(),vs=ju=ri=null,nr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!q_[n.type]:t==="textarea"}function sf(n,t,e,r){Hd(r),t=Ls(t,"onChange"),0<t.length&&(e=new Lu("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var so=null,bo=null;function $_(n){mf(n,0)}function ul(n){var t=or(n);if(Rd(t))return n}function X_(n,t){if(n==="change")return t}var lf=!1;if(Yn){var Bl;if(Yn){var Vl="oninput"in document;if(!Vl){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Vl=typeof rh.oninput=="function"}Bl=Vl}else Bl=!1;lf=Bl&&(!document.documentMode||9<document.documentMode)}function oh(){so&&(so.detachEvent("onpropertychange",af),bo=so=null)}function af(n){if(n.propertyName==="value"&&ul(bo)){var t=[];sf(t,bo,n,Ru(n)),Nd($_,t)}}function Q_(n,t,e){n==="focusin"?(oh(),so=t,bo=e,so.attachEvent("onpropertychange",af)):n==="focusout"&&oh()}function J_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ul(bo)}function Z_(n,t){if(n==="click")return ul(t)}function em(n,t){if(n==="input"||n==="change")return ul(t)}function tm(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Sn=typeof Object.is=="function"?Object.is:tm;function Co(n,t){if(Sn(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!fa.call(t,i)||!Sn(n[i],t[i]))return!1}return!0}function sh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lh(n,t){var e=sh(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=sh(e)}}function uf(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?uf(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function cf(){for(var n=window,t=Is();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Is(n.document)}return t}function Fu(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function nm(n){var t=cf(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&uf(e.ownerDocument.documentElement,e)){if(r!==null&&Fu(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=lh(e,o);var s=lh(e,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var im=Yn&&"documentMode"in document&&11>=document.documentMode,ir=null,Ma=null,lo=null,Oa=!1;function ah(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Oa||ir==null||ir!==Is(r)||(r=ir,"selectionStart"in r&&Fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lo&&Co(lo,r)||(lo=r,r=Ls(Ma,"onSelect"),0<r.length&&(t=new Lu("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=ir)))}function is(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var rr={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Ul={},hf={};Yn&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function cl(n){if(Ul[n])return Ul[n];if(!rr[n])return n;var t=rr[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in hf)return Ul[n]=t[e];return n}var df=cl("animationend"),ff=cl("animationiteration"),pf=cl("animationstart"),gf=cl("transitionend"),_f=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(n,t){_f.set(n,t),Yi(t,[n])}for(var Gl=0;Gl<uh.length;Gl++){var Wl=uh[Gl],rm=Wl.toLowerCase(),om=Wl[0].toUpperCase()+Wl.slice(1);wi(rm,"on"+om)}wi(df,"onAnimationEnd");wi(ff,"onAnimationIteration");wi(pf,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(gf,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sm=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function ch(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,r_(r,t,void 0,n),n.currentTarget=null}function mf(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;ch(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;ch(i,l,u),o=a}}}if(Ds)throw n=Ia,Ds=!1,Ia=null,n}function Ce(n,t){var e=t[Fa];e===void 0&&(e=t[Fa]=new Set);var r=n+"__bubble";e.has(r)||(vf(t,n,2,!1),e.add(r))}function Kl(n,t,e){var r=0;t&&(r|=4),vf(e,n,r,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function xo(n){if(!n[rs]){n[rs]=!0,Ed.forEach(function(e){e!=="selectionchange"&&(sm.has(e)||Kl(e,!1,n),Kl(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[rs]||(t[rs]=!0,Kl("selectionchange",!1,t))}}function vf(n,t,e,r){switch(ef(t)){case 1:var i=w_;break;case 4:i=b_;break;default:i=Ou}e=i.bind(null,t,e,n),i=void 0,!ka||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function Yl(n,t,e,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ti(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Nd(function(){var u=o,c=Ru(e),h=[];e:{var d=_f.get(n);if(d!==void 0){var f=Lu,p=n;switch(n){case"keypress":if(ys(e)===0)break e;case"keydown":case"keyup":f=H_;break;case"focusin":p="focus",f=Nl;break;case"focusout":p="blur",f=Nl;break;case"beforeblur":case"afterblur":f=Nl;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=E_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=z_;break;case df:case ff:case pf:f=k_;break;case gf:f=B_;break;case"scroll":f=C_;break;case"wheel":f=U_;break;case"copy":case"cut":case"paste":f=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=eh}var g=(t&4)!==0,w=!g&&n==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var _=u,v;_!==null;){v=_;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,m!==null&&(y=mo(_,m),y!=null&&g.push(Eo(_,y,v)))),w)break;_=_.return}0<g.length&&(d=new f(d,p,null,e,c),h.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&e!==Sa&&(p=e.relatedTarget||e.fromElement)&&(Ti(p)||p[qn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=e.relatedTarget||e.toElement,f=u,p=p?Ti(p):null,p!==null&&(w=qi(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=Jc,y="onMouseLeave",m="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=eh,y="onPointerLeave",m="onPointerEnter",_="pointer"),w=f==null?d:or(f),v=p==null?d:or(p),d=new g(y,_+"leave",f,e,c),d.target=w,d.relatedTarget=v,y=null,Ti(c)===u&&(g=new g(m,_+"enter",p,e,c),g.target=v,g.relatedTarget=w,y=g),w=y,f&&p)t:{for(g=f,m=p,_=0,v=g;v;v=Qi(v))_++;for(v=0,y=m;y;y=Qi(y))v++;for(;0<_-v;)g=Qi(g),_--;for(;0<v-_;)m=Qi(m),v--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=Qi(g),m=Qi(m)}g=null}else g=null;f!==null&&hh(h,d,f,g,!1),p!==null&&w!==null&&hh(h,w,p,g,!0)}}e:{if(d=u?or(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=X_;else if(ih(d))if(lf)b=em;else{b=J_;var x=Q_}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=Z_);if(b&&(b=b(n,u))){sf(h,b,e,c);break e}x&&x(n,d,u),n==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&wa(d,"number",d.value)}switch(x=u?or(u):window,n){case"focusin":(ih(x)||x.contentEditable==="true")&&(ir=x,Ma=u,lo=null);break;case"focusout":lo=Ma=ir=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,ah(h,e,c);break;case"selectionchange":if(im)break;case"keydown":case"keyup":ah(h,e,c)}var C;if(Au)e:{switch(n){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else nr?rf(n,e)&&(S="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(S="onCompositionStart");S&&(nf&&e.locale!=="ko"&&(nr||S!=="onCompositionStart"?S==="onCompositionEnd"&&nr&&(C=tf()):(ri=c,ju="value"in ri?ri.value:ri.textContent,nr=!0)),x=Ls(u,S),0<x.length&&(S=new Zc(S,n,null,e,c),h.push({event:S,listeners:x}),C?S.data=C:(C=of(e),C!==null&&(S.data=C)))),(C=W_?K_(n,e):Y_(n,e))&&(u=Ls(u,"onBeforeInput"),0<u.length&&(c=new Zc("onBeforeInput","beforeinput",null,e,c),h.push({event:c,listeners:u}),c.data=C))}mf(h,t)})}function Eo(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Ls(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mo(n,e),o!=null&&r.unshift(Eo(n,o,i)),o=mo(n,t),o!=null&&r.push(Eo(n,o,i))),n=n.return}return r}function Qi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function hh(n,t,e,r,i){for(var o=t._reactName,s=[];e!==null&&e!==r;){var l=e,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=mo(e,o),a!=null&&s.unshift(Eo(e,a,l))):i||(a=mo(e,o),a!=null&&s.push(Eo(e,a,l)))),e=e.return}s.length!==0&&n.push({event:t,listeners:s})}var lm=/\r\n?/g,am=/\u0000|\uFFFD/g;function dh(n){return(typeof n=="string"?n:""+n).replace(lm,`
`).replace(am,"")}function os(n,t,e){if(t=dh(t),dh(n)!==t&&e)throw Error(T(425))}function Hs(){}var ja=null,La=null;function Ha(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,um=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,cm=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(n){return fh.resolve(null).then(n).catch(hm)}:Aa;function hm(n){setTimeout(function(){throw n})}function ql(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),wo(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);wo(t)}function ci(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function ph(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),On="__reactFiber$"+Fr,So="__reactProps$"+Fr,qn="__reactContainer$"+Fr,Fa="__reactEvents$"+Fr,dm="__reactListeners$"+Fr,fm="__reactHandles$"+Fr;function Ti(n){var t=n[On];if(t)return t;for(var e=n.parentNode;e;){if(t=e[qn]||e[On]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=ph(n);n!==null;){if(e=n[On])return e;n=ph(n)}return t}n=e,e=n.parentNode}return null}function Fo(n){return n=n[On]||n[qn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function or(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(T(33))}function hl(n){return n[So]||null}var za=[],sr=-1;function bi(n){return{current:n}}function Re(n){0>sr||(n.current=za[sr],za[sr]=null,sr--)}function be(n,t){sr++,za[sr]=n.current,n.current=t}var vi={},vt=bi(vi),Ot=bi(!1),Ni=vi;function Sr(n,t){var e=n.type.contextTypes;if(!e)return vi;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function jt(n){return n=n.childContextTypes,n!=null}function As(){Re(Ot),Re(vt)}function gh(n,t,e){if(vt.current!==vi)throw Error(T(168));be(vt,t),be(Ot,e)}function yf(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(T(108,Qg(n)||"Unknown",i));return Ae({},e,r)}function Fs(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vi,Ni=vt.current,be(vt,n),be(Ot,Ot.current),!0}function _h(n,t,e){var r=n.stateNode;if(!r)throw Error(T(169));e?(n=yf(n,t,Ni),r.__reactInternalMemoizedMergedChildContext=n,Re(Ot),Re(vt),be(vt,n)):Re(Ot),be(Ot,e)}var zn=null,dl=!1,$l=!1;function wf(n){zn===null?zn=[n]:zn.push(n)}function pm(n){dl=!0,wf(n)}function Ci(){if(!$l&&zn!==null){$l=!0;var n=0,t=me;try{var e=zn;for(me=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}zn=null,dl=!1}catch(i){throw zn!==null&&(zn=zn.slice(n+1)),Gd(Du,Ci),i}finally{me=t,$l=!1}}return null}var lr=[],ar=0,zs=null,Ns=0,Qt=[],Jt=0,Bi=null,Bn=1,Vn="";function Ri(n,t){lr[ar++]=Ns,lr[ar++]=zs,zs=n,Ns=t}function bf(n,t,e){Qt[Jt++]=Bn,Qt[Jt++]=Vn,Qt[Jt++]=Bi,Bi=n;var r=Bn;n=Vn;var i=32-bn(r)-1;r&=~(1<<i),e+=1;var o=32-bn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Bn=1<<32-bn(t)+i|e<<i|r,Vn=o+n}else Bn=1<<o|e<<i|r,Vn=n}function zu(n){n.return!==null&&(Ri(n,1),bf(n,1,0))}function Nu(n){for(;n===zs;)zs=lr[--ar],lr[ar]=null,Ns=lr[--ar],lr[ar]=null;for(;n===Bi;)Bi=Qt[--Jt],Qt[Jt]=null,Vn=Qt[--Jt],Qt[Jt]=null,Bn=Qt[--Jt],Qt[Jt]=null}var Ut=null,Vt=null,Te=!1,_n=null;function Cf(n,t){var e=nn(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function mh(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Ut=n,Vt=ci(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Ut=n,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Bi!==null?{id:Bn,overflow:Vn}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=nn(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Ut=n,Vt=null,!0):!1;default:return!1}}function Na(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ba(n){if(Te){var t=Vt;if(t){var e=t;if(!mh(n,t)){if(Na(n))throw Error(T(418));t=ci(e.nextSibling);var r=Ut;t&&mh(n,t)?Cf(r,e):(n.flags=n.flags&-4097|2,Te=!1,Ut=n)}}else{if(Na(n))throw Error(T(418));n.flags=n.flags&-4097|2,Te=!1,Ut=n}}}function vh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ut=n}function ss(n){if(n!==Ut)return!1;if(!Te)return vh(n),Te=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Ha(n.type,n.memoizedProps)),t&&(t=Vt)){if(Na(n))throw xf(),Error(T(418));for(;t;)Cf(n,t),t=ci(t.nextSibling)}if(vh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(T(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Vt=ci(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Vt=null}}else Vt=Ut?ci(n.stateNode.nextSibling):null;return!0}function xf(){for(var n=Vt;n;)n=ci(n.nextSibling)}function Pr(){Vt=Ut=null,Te=!1}function Bu(n){_n===null?_n=[n]:_n.push(n)}var gm=Qn.ReactCurrentBatchConfig;function $r(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(T(309));var r=e.stateNode}if(!r)throw Error(T(147,n));var i=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof n!="string")throw Error(T(284));if(!e._owner)throw Error(T(290,n))}return n}function ls(n,t){throw n=Object.prototype.toString.call(t),Error(T(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function yh(n){var t=n._init;return t(n._payload)}function Ef(n){function t(m,_){if(n){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function e(m,_){if(!n)return null;for(;_!==null;)t(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=pi(m,_),m.index=0,m.sibling=null,m}function o(m,_,v){return m.index=v,n?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function s(m){return n&&m.alternate===null&&(m.flags|=2),m}function l(m,_,v,y){return _===null||_.tag!==6?(_=na(v,m.mode,y),_.return=m,_):(_=i(_,v),_.return=m,_)}function a(m,_,v,y){var b=v.type;return b===tr?c(m,_,v.props.children,y,v.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ei&&yh(b)===_.type)?(y=i(_,v.props),y.ref=$r(m,_,v),y.return=m,y):(y=Ps(v.type,v.key,v.props,null,m.mode,y),y.ref=$r(m,_,v),y.return=m,y)}function u(m,_,v,y){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=ia(v,m.mode,y),_.return=m,_):(_=i(_,v.children||[]),_.return=m,_)}function c(m,_,v,y,b){return _===null||_.tag!==7?(_=Ai(v,m.mode,y,b),_.return=m,_):(_=i(_,v),_.return=m,_)}function h(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=na(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xo:return v=Ps(_.type,_.key,_.props,null,m.mode,v),v.ref=$r(m,null,_),v.return=m,v;case er:return _=ia(_,m.mode,v),_.return=m,_;case ei:var y=_._init;return h(m,y(_._payload),v)}if(Zr(_)||Gr(_))return _=Ai(_,m.mode,v,null),_.return=m,_;ls(m,_)}return null}function d(m,_,v,y){var b=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:l(m,_,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:return v.key===b?a(m,_,v,y):null;case er:return v.key===b?u(m,_,v,y):null;case ei:return b=v._init,d(m,_,b(v._payload),y)}if(Zr(v)||Gr(v))return b!==null?null:c(m,_,v,y,null);ls(m,v)}return null}function f(m,_,v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(v)||null,l(_,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xo:return m=m.get(y.key===null?v:y.key)||null,a(_,m,y,b);case er:return m=m.get(y.key===null?v:y.key)||null,u(_,m,y,b);case ei:var x=y._init;return f(m,_,v,x(y._payload),b)}if(Zr(y)||Gr(y))return m=m.get(v)||null,c(_,m,y,b,null);ls(_,y)}return null}function p(m,_,v,y){for(var b=null,x=null,C=_,S=_=0,M=null;C!==null&&S<v.length;S++){C.index>S?(M=C,C=null):M=C.sibling;var I=d(m,C,v[S],y);if(I===null){C===null&&(C=M);break}n&&C&&I.alternate===null&&t(m,C),_=o(I,_,S),x===null?b=I:x.sibling=I,x=I,C=M}if(S===v.length)return e(m,C),Te&&Ri(m,S),b;if(C===null){for(;S<v.length;S++)C=h(m,v[S],y),C!==null&&(_=o(C,_,S),x===null?b=C:x.sibling=C,x=C);return Te&&Ri(m,S),b}for(C=r(m,C);S<v.length;S++)M=f(C,m,S,v[S],y),M!==null&&(n&&M.alternate!==null&&C.delete(M.key===null?S:M.key),_=o(M,_,S),x===null?b=M:x.sibling=M,x=M);return n&&C.forEach(function(N){return t(m,N)}),Te&&Ri(m,S),b}function g(m,_,v,y){var b=Gr(v);if(typeof b!="function")throw Error(T(150));if(v=b.call(v),v==null)throw Error(T(151));for(var x=b=null,C=_,S=_=0,M=null,I=v.next();C!==null&&!I.done;S++,I=v.next()){C.index>S?(M=C,C=null):M=C.sibling;var N=d(m,C,I.value,y);if(N===null){C===null&&(C=M);break}n&&C&&N.alternate===null&&t(m,C),_=o(N,_,S),x===null?b=N:x.sibling=N,x=N,C=M}if(I.done)return e(m,C),Te&&Ri(m,S),b;if(C===null){for(;!I.done;S++,I=v.next())I=h(m,I.value,y),I!==null&&(_=o(I,_,S),x===null?b=I:x.sibling=I,x=I);return Te&&Ri(m,S),b}for(C=r(m,C);!I.done;S++,I=v.next())I=f(C,m,S,I.value,y),I!==null&&(n&&I.alternate!==null&&C.delete(I.key===null?S:I.key),_=o(I,_,S),x===null?b=I:x.sibling=I,x=I);return n&&C.forEach(function(R){return t(m,R)}),Te&&Ri(m,S),b}function w(m,_,v,y){if(typeof v=="object"&&v!==null&&v.type===tr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:e:{for(var b=v.key,x=_;x!==null;){if(x.key===b){if(b=v.type,b===tr){if(x.tag===7){e(m,x.sibling),_=i(x,v.props.children),_.return=m,m=_;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ei&&yh(b)===x.type){e(m,x.sibling),_=i(x,v.props),_.ref=$r(m,x,v),_.return=m,m=_;break e}e(m,x);break}else t(m,x);x=x.sibling}v.type===tr?(_=Ai(v.props.children,m.mode,y,v.key),_.return=m,m=_):(y=Ps(v.type,v.key,v.props,null,m.mode,y),y.ref=$r(m,_,v),y.return=m,m=y)}return s(m);case er:e:{for(x=v.key;_!==null;){if(_.key===x)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){e(m,_.sibling),_=i(_,v.children||[]),_.return=m,m=_;break e}else{e(m,_);break}else t(m,_);_=_.sibling}_=ia(v,m.mode,y),_.return=m,m=_}return s(m);case ei:return x=v._init,w(m,_,x(v._payload),y)}if(Zr(v))return p(m,_,v,y);if(Gr(v))return g(m,_,v,y);ls(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(e(m,_.sibling),_=i(_,v),_.return=m,m=_):(e(m,_),_=na(v,m.mode,y),_.return=m,m=_),s(m)):e(m,_)}return w}var kr=Ef(!0),Sf=Ef(!1),Bs=bi(null),Vs=null,ur=null,Vu=null;function Uu(){Vu=ur=Vs=null}function Gu(n){var t=Bs.current;Re(Bs),n._currentValue=t}function Va(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function vr(n,t){Vs=n,Vu=ur=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Mt=!0),n.firstContext=null)}function ln(n){var t=n._currentValue;if(Vu!==n)if(n={context:n,memoizedValue:t,next:null},ur===null){if(Vs===null)throw Error(T(308));ur=n,Vs.dependencies={lanes:0,firstContext:n}}else ur=ur.next=n;return t}var Mi=null;function Wu(n){Mi===null?Mi=[n]:Mi.push(n)}function Pf(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,Wu(t)):(e.next=i.next,i.next=e),t.interleaved=e,$n(n,r)}function $n(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var ti=!1;function Ku(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kf(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kn(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$n(n,e)}return i=r.interleaved,i===null?(t.next=t,Wu(r)):(t.next=i.next,i.next=t),r.interleaved=t,$n(n,e)}function ws(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,Tu(n,e)}}function wh(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?i=o=s:o=o.next=s,e=e.next}while(e!==null);o===null?i=o=t:o=o.next=t}else i=o=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Us(n,t,e,r){var i=n.updateQueue;ti=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=n.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,f=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=n,g=l;switch(d=t,f=e,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ae({},h,d);break e;case 2:ti=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=f,a=h):c=c.next=f,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ui|=s,n.lanes=s,n.memoizedState=h}}function bh(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var zo={},Ln=bi(zo),Po=bi(zo),ko=bi(zo);function Oi(n){if(n===zo)throw Error(T(174));return n}function Yu(n,t){switch(be(ko,t),be(Po,n),be(Ln,zo),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Ca(t,n)}Re(Ln),be(Ln,t)}function Ir(){Re(Ln),Re(Po),Re(ko)}function If(n){Oi(ko.current);var t=Oi(Ln.current),e=Ca(t,n.type);t!==e&&(be(Po,n),be(Ln,e))}function qu(n){Po.current===n&&(Re(Ln),Re(Po))}var je=bi(0);function Gs(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xl=[];function $u(){for(var n=0;n<Xl.length;n++)Xl[n]._workInProgressVersionPrimary=null;Xl.length=0}var bs=Qn.ReactCurrentDispatcher,Ql=Qn.ReactCurrentBatchConfig,Vi=0,He=null,Qe=null,rt=null,Ws=!1,ao=!1,Io=0,_m=0;function pt(){throw Error(T(321))}function Xu(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Sn(n[e],t[e]))return!1;return!0}function Qu(n,t,e,r,i,o){if(Vi=o,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=n===null||n.memoizedState===null?wm:bm,n=e(r,i),ao){o=0;do{if(ao=!1,Io=0,25<=o)throw Error(T(301));o+=1,rt=Qe=null,t.updateQueue=null,bs.current=Cm,n=e(r,i)}while(ao)}if(bs.current=Ks,t=Qe!==null&&Qe.next!==null,Vi=0,rt=Qe=He=null,Ws=!1,t)throw Error(T(300));return n}function Ju(){var n=Io!==0;return Io=0,n}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?He.memoizedState=rt=n:rt=rt.next=n,rt}function an(){if(Qe===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var t=rt===null?He.memoizedState:rt.next;if(t!==null)rt=t,Qe=n;else{if(n===null)throw Error(T(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},rt===null?He.memoizedState=rt=n:rt=rt.next=n}return rt}function Ro(n,t){return typeof t=="function"?t(n):t}function Jl(n){var t=an(),e=t.queue;if(e===null)throw Error(T(311));e.lastRenderedReducer=n;var r=Qe,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,e.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Vi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=r):a=a.next=h,He.lanes|=c,Ui|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Sn(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do o=i.lane,He.lanes|=o,Ui|=o,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Zl(n){var t=an(),e=t.queue;if(e===null)throw Error(T(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,o=t.memoizedState;if(i!==null){e.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);Sn(o,t.memoizedState)||(Mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function Rf(){}function Df(n,t){var e=He,r=an(),i=t(),o=!Sn(r.memoizedState,i);if(o&&(r.memoizedState=i,Mt=!0),r=r.queue,Zu(Of.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||rt!==null&&rt.memoizedState.tag&1){if(e.flags|=2048,Do(9,Mf.bind(null,e,r,i,t),void 0,null),st===null)throw Error(T(349));Vi&30||Tf(e,t,i)}return i}function Tf(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function Mf(n,t,e,r){t.value=e,t.getSnapshot=r,jf(t)&&Lf(n)}function Of(n,t,e){return e(function(){jf(t)&&Lf(n)})}function jf(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Sn(n,e)}catch{return!0}}function Lf(n){var t=$n(n,1);t!==null&&Cn(t,n,1,-1)}function Ch(n){var t=Tn();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:n},t.queue=n,n=n.dispatch=ym.bind(null,He,n),[t.memoizedState,n]}function Do(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function Hf(){return an().memoizedState}function Cs(n,t,e,r){var i=Tn();He.flags|=n,i.memoizedState=Do(1|t,e,void 0,r===void 0?null:r)}function fl(n,t,e,r){var i=an();r=r===void 0?null:r;var o=void 0;if(Qe!==null){var s=Qe.memoizedState;if(o=s.destroy,r!==null&&Xu(r,s.deps)){i.memoizedState=Do(t,e,o,r);return}}He.flags|=n,i.memoizedState=Do(1|t,e,o,r)}function xh(n,t){return Cs(8390656,8,n,t)}function Zu(n,t){return fl(2048,8,n,t)}function Af(n,t){return fl(4,2,n,t)}function Ff(n,t){return fl(4,4,n,t)}function zf(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function Nf(n,t,e){return e=e!=null?e.concat([n]):null,fl(4,4,zf.bind(null,t,n),e)}function ec(){}function Bf(n,t){var e=an();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function Vf(n,t){var e=an();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function Uf(n,t,e){return Vi&21?(Sn(e,t)||(e=Yd(),He.lanes|=e,Ui|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Mt=!0),n.memoizedState=e)}function mm(n,t){var e=me;me=e!==0&&4>e?e:4,n(!0);var r=Ql.transition;Ql.transition={};try{n(!1),t()}finally{me=e,Ql.transition=r}}function Gf(){return an().memoizedState}function vm(n,t,e){var r=fi(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},Wf(n))Kf(t,e);else if(e=Pf(n,t,e,r),e!==null){var i=Ct();Cn(e,n,r,i),Yf(e,t,r)}}function ym(n,t,e){var r=fi(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(Wf(n))Kf(t,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,e);if(i.hasEagerState=!0,i.eagerState=l,Sn(l,s)){var a=t.interleaved;a===null?(i.next=i,Wu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}e=Pf(n,t,i,r),e!==null&&(i=Ct(),Cn(e,n,r,i),Yf(e,t,r))}}function Wf(n){var t=n.alternate;return n===He||t!==null&&t===He}function Kf(n,t){ao=Ws=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function Yf(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,Tu(n,e)}}var Ks={readContext:ln,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},wm={readContext:ln,useCallback:function(n,t){return Tn().memoizedState=[n,t===void 0?null:t],n},useContext:ln,useEffect:xh,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,Cs(4194308,4,zf.bind(null,t,n),e)},useLayoutEffect:function(n,t){return Cs(4194308,4,n,t)},useInsertionEffect:function(n,t){return Cs(4,2,n,t)},useMemo:function(n,t){var e=Tn();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=Tn();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=vm.bind(null,He,n),[r.memoizedState,n]},useRef:function(n){var t=Tn();return n={current:n},t.memoizedState=n},useState:Ch,useDebugValue:ec,useDeferredValue:function(n){return Tn().memoizedState=n},useTransition:function(){var n=Ch(!1),t=n[0];return n=mm.bind(null,n[1]),Tn().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=He,i=Tn();if(Te){if(e===void 0)throw Error(T(407));e=e()}else{if(e=t(),st===null)throw Error(T(349));Vi&30||Tf(r,t,e)}i.memoizedState=e;var o={value:e,getSnapshot:t};return i.queue=o,xh(Of.bind(null,r,o,n),[n]),r.flags|=2048,Do(9,Mf.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=Tn(),t=st.identifierPrefix;if(Te){var e=Vn,r=Bn;e=(r&~(1<<32-bn(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=Io++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=_m++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},bm={readContext:ln,useCallback:Bf,useContext:ln,useEffect:Zu,useImperativeHandle:Nf,useInsertionEffect:Af,useLayoutEffect:Ff,useMemo:Vf,useReducer:Jl,useRef:Hf,useState:function(){return Jl(Ro)},useDebugValue:ec,useDeferredValue:function(n){var t=an();return Uf(t,Qe.memoizedState,n)},useTransition:function(){var n=Jl(Ro)[0],t=an().memoizedState;return[n,t]},useMutableSource:Rf,useSyncExternalStore:Df,useId:Gf,unstable_isNewReconciler:!1},Cm={readContext:ln,useCallback:Bf,useContext:ln,useEffect:Zu,useImperativeHandle:Nf,useInsertionEffect:Af,useLayoutEffect:Ff,useMemo:Vf,useReducer:Zl,useRef:Hf,useState:function(){return Zl(Ro)},useDebugValue:ec,useDeferredValue:function(n){var t=an();return Qe===null?t.memoizedState=n:Uf(t,Qe.memoizedState,n)},useTransition:function(){var n=Zl(Ro)[0],t=an().memoizedState;return[n,t]},useMutableSource:Rf,useSyncExternalStore:Df,useId:Gf,unstable_isNewReconciler:!1};function pn(n,t){if(n&&n.defaultProps){t=Ae({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Ua(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:Ae({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var pl={isMounted:function(n){return(n=n._reactInternals)?qi(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Ct(),i=fi(n),o=Kn(r,i);o.payload=t,e!=null&&(o.callback=e),t=hi(n,o,i),t!==null&&(Cn(t,n,i,r),ws(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Ct(),i=fi(n),o=Kn(r,i);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=hi(n,o,i),t!==null&&(Cn(t,n,i,r),ws(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Ct(),r=fi(n),i=Kn(e,r);i.tag=2,t!=null&&(i.callback=t),t=hi(n,i,r),t!==null&&(Cn(t,n,r,e),ws(t,n,r))}};function Eh(n,t,e,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Co(e,r)||!Co(i,o):!0}function qf(n,t,e){var r=!1,i=vi,o=t.contextType;return typeof o=="object"&&o!==null?o=ln(o):(i=jt(t)?Ni:vt.current,r=t.contextTypes,o=(r=r!=null)?Sr(n,i):vi),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),t}function Sh(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&pl.enqueueReplaceState(t,t.state,null)}function Ga(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs={},Ku(n);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ln(o):(o=jt(t)?Ni:vt.current,i.context=Sr(n,o)),i.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ua(n,t,o,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pl.enqueueReplaceState(i,i.state,null),Us(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Rr(n,t){try{var e="",r=t;do e+=Xg(r),r=r.return;while(r);var i=e}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:i,digest:null}}function ea(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Wa(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function $f(n,t,e){e=Kn(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){qs||(qs=!0,tu=r),Wa(n,t)},e}function Xf(n,t,e){e=Kn(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){Wa(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Wa(n,t),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),e}function Ph(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new xm;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=Am.bind(null,n,t,e),t.then(n,n))}function kh(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function Ih(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Kn(-1,1),t.tag=2,hi(e,t,1))),e.lanes|=1),n)}var Em=Qn.ReactCurrentOwner,Mt=!1;function wt(n,t,e,r){t.child=n===null?Sf(t,null,e,r):kr(t,n.child,e,r)}function Rh(n,t,e,r,i){e=e.render;var o=t.ref;return vr(t,i),r=Qu(n,t,e,r,o,i),e=Ju(),n!==null&&!Mt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Xn(n,t,i)):(Te&&e&&zu(t),t.flags|=1,wt(n,t,r,i),t.child)}function Dh(n,t,e,r,i){if(n===null){var o=e.type;return typeof o=="function"&&!ac(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,Qf(n,t,o,r,i)):(n=Ps(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(e=e.compare,e=e!==null?e:Co,e(s,r)&&n.ref===t.ref)return Xn(n,t,i)}return t.flags|=1,n=pi(o,r),n.ref=t.ref,n.return=t,t.child=n}function Qf(n,t,e,r,i){if(n!==null){var o=n.memoizedProps;if(Co(o,r)&&n.ref===t.ref)if(Mt=!1,t.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Mt=!0);else return t.lanes=n.lanes,Xn(n,t,i)}return Ka(n,t,e,r,i)}function Jf(n,t,e){var r=t.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(hr,zt),zt|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,be(hr,zt),zt|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,be(hr,zt),zt|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,be(hr,zt),zt|=r;return wt(n,t,i,e),t.child}function Zf(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Ka(n,t,e,r,i){var o=jt(e)?Ni:vt.current;return o=Sr(t,o),vr(t,i),e=Qu(n,t,e,r,o,i),r=Ju(),n!==null&&!Mt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Xn(n,t,i)):(Te&&r&&zu(t),t.flags|=1,wt(n,t,e,i),t.child)}function Th(n,t,e,r,i){if(jt(e)){var o=!0;Fs(t)}else o=!1;if(vr(t,i),t.stateNode===null)xs(n,t),qf(t,e,r),Ga(t,e,r,i),r=!0;else if(n===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=e.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=jt(e)?Ni:vt.current,u=Sr(t,u));var c=e.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Sh(t,s,r,u),ti=!1;var d=t.memoizedState;s.state=d,Us(t,r,s,i),a=t.memoizedState,l!==r||d!==a||Ot.current||ti?(typeof c=="function"&&(Ua(t,e,c,r),a=t.memoizedState),(l=ti||Eh(t,e,l,r,d,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,kf(n,t),l=t.memoizedProps,u=t.type===t.elementType?l:pn(t.type,l),s.props=u,h=t.pendingProps,d=s.context,a=e.contextType,typeof a=="object"&&a!==null?a=ln(a):(a=jt(e)?Ni:vt.current,a=Sr(t,a));var f=e.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Sh(t,s,r,a),ti=!1,d=t.memoizedState,s.state=d,Us(t,r,s,i);var p=t.memoizedState;l!==h||d!==p||Ot.current||ti?(typeof f=="function"&&(Ua(t,e,f,r),p=t.memoizedState),(u=ti||Eh(t,e,u,r,d,p,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),r=!1)}return Ya(n,t,e,r,o,i)}function Ya(n,t,e,r,i,o){Zf(n,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&_h(t,e,!1),Xn(n,t,o);r=t.stateNode,Em.current=t;var l=s&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&s?(t.child=kr(t,n.child,null,o),t.child=kr(t,null,l,o)):wt(n,t,l,o),t.memoizedState=r.state,i&&_h(t,e,!0),t.child}function ep(n){var t=n.stateNode;t.pendingContext?gh(n,t.pendingContext,t.pendingContext!==t.context):t.context&&gh(n,t.context,!1),Yu(n,t.containerInfo)}function Mh(n,t,e,r,i){return Pr(),Bu(i),t.flags|=256,wt(n,t,e,r),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function $a(n){return{baseLanes:n,cachePool:null,transitions:null}}function tp(n,t,e){var r=t.pendingProps,i=je.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=n!==null&&n.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),be(je,i&1),n===null)return Ba(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,n=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ml(s,r,0,null),n=Ai(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=$a(e),t.memoizedState=qa,n):tc(t,s));if(i=n.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Sm(n,t,s,r,l,i,e);if(o){o=r.fallback,s=t.mode,i=n.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=pi(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=pi(l,o):(o=Ai(o,s,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=n.child.memoizedState,s=s===null?$a(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~e,t.memoizedState=qa,r}return o=n.child,n=o.sibling,r=pi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function tc(n,t){return t=ml({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function as(n,t,e,r){return r!==null&&Bu(r),kr(t,n.child,null,e),n=tc(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function Sm(n,t,e,r,i,o,s){if(e)return t.flags&256?(t.flags&=-257,r=ea(Error(T(422))),as(n,t,s,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ml({mode:"visible",children:r.children},i,0,null),o=Ai(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&kr(t,n.child,null,s),t.child.memoizedState=$a(s),t.memoizedState=qa,o);if(!(t.mode&1))return as(n,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(T(419)),r=ea(o,r,void 0),as(n,t,s,r)}if(l=(s&n.childLanes)!==0,Mt||l){if(r=st,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$n(n,i),Cn(r,n,i,-1))}return lc(),r=ea(Error(T(421))),as(n,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=Fm.bind(null,n),i._reactRetry=t,null):(n=o.treeContext,Vt=ci(i.nextSibling),Ut=t,Te=!0,_n=null,n!==null&&(Qt[Jt++]=Bn,Qt[Jt++]=Vn,Qt[Jt++]=Bi,Bn=n.id,Vn=n.overflow,Bi=t),t=tc(t,r.children),t.flags|=4096,t)}function Oh(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),Va(n.return,t,e)}function ta(n,t,e,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=i)}function np(n,t,e){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wt(n,t,r.children,e),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Oh(n,e,t);else if(n.tag===19)Oh(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(be(je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&Gs(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),ta(t,!1,i,e,o);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&Gs(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}ta(t,!0,e,null,o);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xs(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Xn(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Ui|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(T(153));if(t.child!==null){for(n=t.child,e=pi(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=pi(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function Pm(n,t,e){switch(t.tag){case 3:ep(t),Pr();break;case 5:If(t);break;case 1:jt(t.type)&&Fs(t);break;case 4:Yu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;be(Bs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),t.flags|=128,null):e&t.child.childLanes?tp(n,t,e):(be(je,je.current&1),n=Xn(n,t,e),n!==null?n.sibling:null);be(je,je.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return np(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,Jf(n,t,e)}return Xn(n,t,e)}var ip,Xa,rp,op;ip=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Xa=function(){};rp=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,Oi(Ln.current);var o=null;switch(e){case"input":i=va(n,i),r=va(n,r),o=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),o=[];break;case"textarea":i=ba(n,i),r=ba(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Hs)}xa(e,r);var s;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(go.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(e||(e={}),e[s]=a[s])}else e||(o||(o=[]),o.push(u,e)),e=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(go.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ce("scroll",n),o||l===a||(o=[])):(o=o||[]).push(u,a))}e&&(o=o||[]).push("style",e);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};op=function(n,t,e,r){e!==r&&(t.flags|=4)};function Xr(n,t){if(!Te)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function gt(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function km(n,t,e){var r=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return jt(t.type)&&As(),gt(t),null;case 3:return r=t.stateNode,Ir(),Re(Ot),Re(vt),$u(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ss(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(ru(_n),_n=null))),Xa(n,t),gt(t),null;case 5:qu(t);var i=Oi(ko.current);if(e=t.type,n!==null&&t.stateNode!=null)rp(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return gt(t),null}if(n=Oi(Ln.current),ss(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[On]=t,r[So]=o,n=(t.mode&1)!==0,e){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<to.length;i++)Ce(to[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Vc(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":Gc(r,o),Ce("invalid",r)}xa(e,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&os(r.textContent,l,n),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&os(r.textContent,l,n),i=["children",""+l]):go.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ce("scroll",r)}switch(e){case"input":Qo(r),Uc(r,o,!0);break;case"textarea":Qo(r),Wc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Md(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(e,{is:r.is}):(n=s.createElement(e),e==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,e),n[On]=t,n[So]=r,ip(n,t,!1,!1),t.stateNode=n;e:{switch(s=Ea(e,r),e){case"dialog":Ce("cancel",n),Ce("close",n),i=r;break;case"iframe":case"object":case"embed":Ce("load",n),i=r;break;case"video":case"audio":for(i=0;i<to.length;i++)Ce(to[i],n);i=r;break;case"source":Ce("error",n),i=r;break;case"img":case"image":case"link":Ce("error",n),Ce("load",n),i=r;break;case"details":Ce("toggle",n),i=r;break;case"input":Vc(n,r),i=va(n,r),Ce("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),Ce("invalid",n);break;case"textarea":Gc(n,r),i=ba(n,r),Ce("invalid",n);break;default:i=r}xa(e,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Ld(n,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Od(n,a)):o==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&_o(n,a):typeof a=="number"&&_o(n,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(go.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Ce("scroll",n):a!=null&&Su(n,o,a,s))}switch(e){case"input":Qo(n),Uc(n,r,!1);break;case"textarea":Qo(n),Wc(n);break;case"option":r.value!=null&&n.setAttribute("value",""+mi(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?pr(n,!!r.multiple,o,!1):r.defaultValue!=null&&pr(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Hs)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(n&&t.stateNode!=null)op(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(e=Oi(ko.current),Oi(Ln.current),ss(t)){if(r=t.stateNode,e=t.memoizedProps,r[On]=t,(o=r.nodeValue!==e)&&(n=Ut,n!==null))switch(n.tag){case 3:os(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[On]=t,t.stateNode=r}return gt(t),null;case 13:if(Re(je),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Te&&Vt!==null&&t.mode&1&&!(t.flags&128))xf(),Pr(),t.flags|=98560,o=!1;else if(o=ss(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(T(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[On]=t}else Pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),o=!1}else _n!==null&&(ru(_n),_n=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||je.current&1?Ze===0&&(Ze=3):lc())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Ir(),Xa(n,t),n===null&&xo(t.stateNode.containerInfo),gt(t),null;case 10:return Gu(t.type._context),gt(t),null;case 17:return jt(t.type)&&As(),gt(t),null;case 19:if(Re(je),o=t.memoizedState,o===null)return gt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Xr(o,!1);else{if(Ze!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(s=Gs(n),s!==null){for(t.flags|=128,Xr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return be(je,je.current&1|2),t.child}n=n.sibling}o.tail!==null&&Ge()>Dr&&(t.flags|=128,r=!0,Xr(o,!1),t.lanes=4194304)}else{if(!r)if(n=Gs(s),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Xr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Te)return gt(t),null}else 2*Ge()-o.renderingStartTime>Dr&&e!==1073741824&&(t.flags|=128,r=!0,Xr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(e=o.last,e!==null?e.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ge(),t.sibling=null,e=je.current,be(je,r?e&1|2:e&1),t):(gt(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Im(n,t){switch(Nu(t),t.tag){case 1:return jt(t.type)&&As(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Ir(),Re(Ot),Re(vt),$u(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return qu(t),null;case 13:if(Re(je),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Pr()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Re(je),null;case 4:return Ir(),null;case 10:return Gu(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var us=!1,_t=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,F=null;function cr(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Ne(n,t,r)}else e.current=null}function Qa(n,t,e){try{e()}catch(r){Ne(n,t,r)}}var jh=!1;function Dm(n,t){if(ja=Os,n=cf(),Fu(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var s=0,l=-1,a=-1,u=0,c=0,h=n,d=null;t:for(;;){for(var f;h!==e||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===e&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}e=l===-1||a===-1?null:{start:l,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(La={focusedElem:n,selectionRange:e},Os=!1,F=t;F!==null;)if(t=F,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,F=n;else for(;F!==null;){t=F;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,m=t.stateNode,_=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:pn(t.type,g),w);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(y){Ne(t,t.return,y)}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}return p=jh,jh=!1,p}function uo(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qa(t,e,o)}i=i.next}while(i!==r)}}function gl(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function Ja(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function sp(n){var t=n.alternate;t!==null&&(n.alternate=null,sp(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[On],delete t[So],delete t[Fa],delete t[dm],delete t[fm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lp(n){return n.tag===5||n.tag===3||n.tag===4}function Lh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Za(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Hs));else if(r!==4&&(n=n.child,n!==null))for(Za(n,t,e),n=n.sibling;n!==null;)Za(n,t,e),n=n.sibling}function eu(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(eu(n,t,e),n=n.sibling;n!==null;)eu(n,t,e),n=n.sibling}var ct=null,gn=!1;function Zn(n,t,e){for(e=e.child;e!==null;)ap(n,t,e),e=e.sibling}function ap(n,t,e){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(ll,e)}catch{}switch(e.tag){case 5:_t||cr(e,t);case 6:var r=ct,i=gn;ct=null,Zn(n,t,e),ct=r,gn=i,ct!==null&&(gn?(n=ct,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):ct.removeChild(e.stateNode));break;case 18:ct!==null&&(gn?(n=ct,e=e.stateNode,n.nodeType===8?ql(n.parentNode,e):n.nodeType===1&&ql(n,e),wo(n)):ql(ct,e.stateNode));break;case 4:r=ct,i=gn,ct=e.stateNode.containerInfo,gn=!0,Zn(n,t,e),ct=r,gn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qa(e,t,s),i=i.next}while(i!==r)}Zn(n,t,e);break;case 1:if(!_t&&(cr(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(l){Ne(e,t,l)}Zn(n,t,e);break;case 21:Zn(n,t,e);break;case 22:e.mode&1?(_t=(r=_t)||e.memoizedState!==null,Zn(n,t,e),_t=r):Zn(n,t,e);break;default:Zn(n,t,e)}}function Hh(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new Rm),t.forEach(function(r){var i=zm.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function dn(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var o=n,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,gn=!1;break e;case 3:ct=l.stateNode.containerInfo,gn=!0;break e;case 4:ct=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(ct===null)throw Error(T(160));ap(o,s,i),ct=null,gn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ne(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)up(t,n),t=t.sibling}function up(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(dn(t,n),Dn(n),r&4){try{uo(3,n,n.return),gl(3,n)}catch(g){Ne(n,n.return,g)}try{uo(5,n,n.return)}catch(g){Ne(n,n.return,g)}}break;case 1:dn(t,n),Dn(n),r&512&&e!==null&&cr(e,e.return);break;case 5:if(dn(t,n),Dn(n),r&512&&e!==null&&cr(e,e.return),n.flags&32){var i=n.stateNode;try{_o(i,"")}catch(g){Ne(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=e!==null?e.memoizedProps:o,l=n.type,a=n.updateQueue;if(n.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Dd(i,o),Ea(l,s);var u=Ea(l,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?Ld(i,h):c==="dangerouslySetInnerHTML"?Od(i,h):c==="children"?_o(i,h):Su(i,c,h,u)}switch(l){case"input":ya(i,o);break;case"textarea":Td(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?pr(i,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?pr(i,!!o.multiple,o.defaultValue,!0):pr(i,!!o.multiple,o.multiple?[]:"",!1))}i[So]=o}catch(g){Ne(n,n.return,g)}}break;case 6:if(dn(t,n),Dn(n),r&4){if(n.stateNode===null)throw Error(T(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(g){Ne(n,n.return,g)}}break;case 3:if(dn(t,n),Dn(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(g){Ne(n,n.return,g)}break;case 4:dn(t,n),Dn(n);break;case 13:dn(t,n),Dn(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(rc=Ge())),r&4&&Hh(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(_t=(u=_t)||c,dn(t,n),_t=u):dn(t,n),Dn(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(F=n,c=n.child;c!==null;){for(h=F=c;F!==null;){switch(d=F,f=d.child,d.tag){case 0:case 11:case 14:case 15:uo(4,d,d.return);break;case 1:cr(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,e=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ne(r,e,g)}}break;case 5:cr(d,d.return);break;case 22:if(d.memoizedState!==null){Fh(h);continue}}f!==null?(f.return=d,F=f):Fh(h)}c=c.sibling}e:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=jd("display",s))}catch(g){Ne(n,n.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ne(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(t,n),Dn(n),r&4&&Hh(n);break;case 21:break;default:dn(t,n),Dn(n)}}function Dn(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(lp(e)){var r=e;break e}e=e.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_o(i,""),r.flags&=-33);var o=Lh(n);eu(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Lh(n);Za(n,l,s);break;default:throw Error(T(161))}}catch(a){Ne(n,n.return,a)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Tm(n,t,e){F=n,cp(n)}function cp(n,t,e){for(var r=(n.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||us;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||_t;l=us;var u=_t;if(us=s,(_t=a)&&!u)for(F=i;F!==null;)s=F,a=s.child,s.tag===22&&s.memoizedState!==null?zh(i):a!==null?(a.return=s,F=a):zh(i);for(;o!==null;)F=o,cp(o),o=o.sibling;F=i,us=l,_t=u}Ah(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):Ah(n)}}function Ah(n){for(;F!==null;){var t=F;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:pn(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&bh(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}bh(t,s,e)}break;case 5:var l=t.stateNode;if(e===null&&t.flags&4){e=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&wo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}_t||t.flags&512&&Ja(t)}catch(d){Ne(t,t.return,d)}}if(t===n){F=null;break}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}}function Fh(n){for(;F!==null;){var t=F;if(t===n){F=null;break}var e=t.sibling;if(e!==null){e.return=t.return,F=e;break}F=t.return}}function zh(n){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{gl(4,t)}catch(a){Ne(t,e,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ne(t,i,a)}}var o=t.return;try{Ja(t)}catch(a){Ne(t,o,a)}break;case 5:var s=t.return;try{Ja(t)}catch(a){Ne(t,s,a)}}}catch(a){Ne(t,t.return,a)}if(t===n){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var Mm=Math.ceil,Ys=Qn.ReactCurrentDispatcher,nc=Qn.ReactCurrentOwner,rn=Qn.ReactCurrentBatchConfig,he=0,st=null,$e=null,dt=0,zt=0,hr=bi(0),Ze=0,To=null,Ui=0,_l=0,ic=0,co=null,It=null,rc=0,Dr=1/0,Fn=null,qs=!1,tu=null,di=null,cs=!1,oi=null,$s=0,ho=0,nu=null,Es=-1,Ss=0;function Ct(){return he&6?Ge():Es!==-1?Es:Es=Ge()}function fi(n){return n.mode&1?he&2&&dt!==0?dt&-dt:gm.transition!==null?(Ss===0&&(Ss=Yd()),Ss):(n=me,n!==0||(n=window.event,n=n===void 0?16:ef(n.type)),n):1}function Cn(n,t,e,r){if(50<ho)throw ho=0,nu=null,Error(T(185));Ho(n,e,r),(!(he&2)||n!==st)&&(n===st&&(!(he&2)&&(_l|=e),Ze===4&&ii(n,dt)),Lt(n,r),e===1&&he===0&&!(t.mode&1)&&(Dr=Ge()+500,dl&&Ci()))}function Lt(n,t){var e=n.callbackNode;g_(n,t);var r=Ms(n,n===st?dt:0);if(r===0)e!==null&&qc(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&qc(e),t===1)n.tag===0?pm(Nh.bind(null,n)):wf(Nh.bind(null,n)),cm(function(){!(he&6)&&Ci()}),e=null;else{switch(qd(r)){case 1:e=Du;break;case 4:e=Wd;break;case 16:e=Ts;break;case 536870912:e=Kd;break;default:e=Ts}e=vp(e,hp.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function hp(n,t){if(Es=-1,Ss=0,he&6)throw Error(T(327));var e=n.callbackNode;if(yr()&&n.callbackNode!==e)return null;var r=Ms(n,n===st?dt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=Xs(n,r);else{t=r;var i=he;he|=2;var o=fp();(st!==n||dt!==t)&&(Fn=null,Dr=Ge()+500,Hi(n,t));do try{Lm();break}catch(l){dp(n,l)}while(!0);Uu(),Ys.current=o,he=i,$e!==null?t=0:(st=null,dt=0,t=Ze)}if(t!==0){if(t===2&&(i=Ra(n),i!==0&&(r=i,t=iu(n,i))),t===1)throw e=To,Hi(n,0),ii(n,r),Lt(n,Ge()),e;if(t===6)ii(n,r);else{if(i=n.current.alternate,!(r&30)&&!Om(i)&&(t=Xs(n,r),t===2&&(o=Ra(n),o!==0&&(r=o,t=iu(n,o))),t===1))throw e=To,Hi(n,0),ii(n,r),Lt(n,Ge()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Di(n,It,Fn);break;case 3:if(ii(n,r),(r&130023424)===r&&(t=rc+500-Ge(),10<t)){if(Ms(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ct(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Aa(Di.bind(null,n,It,Fn),t);break}Di(n,It,Fn);break;case 4:if(ii(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var s=31-bn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mm(r/1960))-r,10<r){n.timeoutHandle=Aa(Di.bind(null,n,It,Fn),r);break}Di(n,It,Fn);break;case 5:Di(n,It,Fn);break;default:throw Error(T(329))}}}return Lt(n,Ge()),n.callbackNode===e?hp.bind(null,n):null}function iu(n,t){var e=co;return n.current.memoizedState.isDehydrated&&(Hi(n,t).flags|=256),n=Xs(n,t),n!==2&&(t=It,It=e,t!==null&&ru(t)),n}function ru(n){It===null?It=n:It.push.apply(It,n)}function Om(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],o=i.getSnapshot;i=i.value;try{if(!Sn(o(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(n,t){for(t&=~ic,t&=~_l,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-bn(t),r=1<<e;n[e]=-1,t&=~r}}function Nh(n){if(he&6)throw Error(T(327));yr();var t=Ms(n,0);if(!(t&1))return Lt(n,Ge()),null;var e=Xs(n,t);if(n.tag!==0&&e===2){var r=Ra(n);r!==0&&(t=r,e=iu(n,r))}if(e===1)throw e=To,Hi(n,0),ii(n,t),Lt(n,Ge()),e;if(e===6)throw Error(T(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Di(n,It,Fn),Lt(n,Ge()),null}function oc(n,t){var e=he;he|=1;try{return n(t)}finally{he=e,he===0&&(Dr=Ge()+500,dl&&Ci())}}function Gi(n){oi!==null&&oi.tag===0&&!(he&6)&&yr();var t=he;he|=1;var e=rn.transition,r=me;try{if(rn.transition=null,me=1,n)return n()}finally{me=r,rn.transition=e,he=t,!(he&6)&&Ci()}}function sc(){zt=hr.current,Re(hr)}function Hi(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,um(e)),$e!==null)for(e=$e.return;e!==null;){var r=e;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&As();break;case 3:Ir(),Re(Ot),Re(vt),$u();break;case 5:qu(r);break;case 4:Ir();break;case 13:Re(je);break;case 19:Re(je);break;case 10:Gu(r.type._context);break;case 22:case 23:sc()}e=e.return}if(st=n,$e=n=pi(n.current,null),dt=zt=t,Ze=0,To=null,ic=_l=Ui=0,It=co=null,Mi!==null){for(t=0;t<Mi.length;t++)if(e=Mi[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,o=e.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}e.pending=r}Mi=null}return n}function dp(n,t){do{var e=$e;try{if(Uu(),bs.current=Ks,Ws){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ws=!1}if(Vi=0,rt=Qe=He=null,ao=!1,Io=0,nc.current=null,e===null||e.return===null){Ze=1,To=t,$e=null;break}e:{var o=n,s=e.return,l=e,a=t;if(t=dt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=kh(s);if(f!==null){f.flags&=-257,Ih(f,s,l,o,t),f.mode&1&&Ph(o,u,t),t=f,a=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(a),t.updateQueue=g}else p.add(a);break e}else{if(!(t&1)){Ph(o,u,t),lc();break e}a=Error(T(426))}}else if(Te&&l.mode&1){var w=kh(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ih(w,s,l,o,t),Bu(Rr(a,l));break e}}o=a=Rr(a,l),Ze!==4&&(Ze=2),co===null?co=[o]:co.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=$f(o,a,t);wh(o,m);break e;case 1:l=a;var _=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(di===null||!di.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Xf(o,l,t);wh(o,y);break e}}o=o.return}while(o!==null)}gp(e)}catch(b){t=b,$e===e&&e!==null&&($e=e=e.return);continue}break}while(!0)}function fp(){var n=Ys.current;return Ys.current=Ks,n===null?Ks:n}function lc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(Ui&268435455)&&!(_l&268435455)||ii(st,dt)}function Xs(n,t){var e=he;he|=2;var r=fp();(st!==n||dt!==t)&&(Fn=null,Hi(n,t));do try{jm();break}catch(i){dp(n,i)}while(!0);if(Uu(),he=e,Ys.current=r,$e!==null)throw Error(T(261));return st=null,dt=0,Ze}function jm(){for(;$e!==null;)pp($e)}function Lm(){for(;$e!==null&&!s_();)pp($e)}function pp(n){var t=mp(n.alternate,n,zt);n.memoizedProps=n.pendingProps,t===null?gp(n):$e=t,nc.current=null}function gp(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=Im(e,t),e!==null){e.flags&=32767,$e=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ze=6,$e=null;return}}else if(e=km(e,t,zt),e!==null){$e=e;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=n}while(t!==null);Ze===0&&(Ze=5)}function Di(n,t,e){var r=me,i=rn.transition;try{rn.transition=null,me=1,Hm(n,t,e,r)}finally{rn.transition=i,me=r}return null}function Hm(n,t,e,r){do yr();while(oi!==null);if(he&6)throw Error(T(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(T(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(__(n,o),n===st&&($e=st=null,dt=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||cs||(cs=!0,vp(Ts,function(){return yr(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=rn.transition,rn.transition=null;var s=me;me=1;var l=he;he|=4,nc.current=null,Dm(n,e),up(e,n),nm(La),Os=!!ja,La=ja=null,n.current=e,Tm(e),l_(),he=l,me=s,rn.transition=o}else n.current=e;if(cs&&(cs=!1,oi=n,$s=i),o=n.pendingLanes,o===0&&(di=null),c_(e.stateNode),Lt(n,Ge()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,n=tu,tu=null,n;return $s&1&&n.tag!==0&&yr(),o=n.pendingLanes,o&1?n===nu?ho++:(ho=0,nu=n):ho=0,Ci(),null}function yr(){if(oi!==null){var n=qd($s),t=rn.transition,e=me;try{if(rn.transition=null,me=16>n?16:n,oi===null)var r=!1;else{if(n=oi,oi=null,$s=0,he&6)throw Error(T(331));var i=he;for(he|=4,F=n.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:uo(8,c,o)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,f=c.return;if(sp(c),c===u){F=null;break}if(d!==null){d.return=f,F=d;break}F=f}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:uo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var _=n.current;for(F=_;F!==null;){s=F;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,F=v;else e:for(s=_;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gl(9,l)}}catch(b){Ne(l,l.return,b)}if(l===s){F=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,F=y;break e}F=l.return}}if(he=i,Ci(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(ll,n)}catch{}r=!0}return r}finally{me=e,rn.transition=t}}return!1}function Bh(n,t,e){t=Rr(e,t),t=$f(n,t,1),n=hi(n,t,1),t=Ct(),n!==null&&(Ho(n,1,t),Lt(n,t))}function Ne(n,t,e){if(n.tag===3)Bh(n,n,e);else for(;t!==null;){if(t.tag===3){Bh(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){n=Rr(e,n),n=Xf(t,n,1),t=hi(t,n,1),n=Ct(),t!==null&&(Ho(t,1,n),Lt(t,n));break}}t=t.return}}function Am(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Ct(),n.pingedLanes|=n.suspendedLanes&e,st===n&&(dt&e)===e&&(Ze===4||Ze===3&&(dt&130023424)===dt&&500>Ge()-rc?Hi(n,0):ic|=e),Lt(n,t)}function _p(n,t){t===0&&(n.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var e=Ct();n=$n(n,t),n!==null&&(Ho(n,t,e),Lt(n,e))}function Fm(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),_p(n,e)}function zm(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),_p(n,e)}var mp;mp=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Ot.current)Mt=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Mt=!1,Pm(n,t,e);Mt=!!(n.flags&131072)}else Mt=!1,Te&&t.flags&1048576&&bf(t,Ns,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xs(n,t),n=t.pendingProps;var i=Sr(t,vt.current);vr(t,e),i=Qu(null,t,r,n,i,e);var o=Ju();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(o=!0,Fs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ku(t),i.updater=pl,t.stateNode=i,i._reactInternals=t,Ga(t,r,n,e),t=Ya(null,t,r,!0,o,e)):(t.tag=0,Te&&o&&zu(t),wt(null,t,i,e),t=t.child),t;case 16:r=t.elementType;e:{switch(xs(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Bm(r),n=pn(r,n),i){case 0:t=Ka(null,t,r,n,e);break e;case 1:t=Th(null,t,r,n,e);break e;case 11:t=Rh(null,t,r,n,e);break e;case 14:t=Dh(null,t,r,pn(r.type,n),e);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Ka(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Th(n,t,r,i,e);case 3:e:{if(ep(t),n===null)throw Error(T(387));r=t.pendingProps,o=t.memoizedState,i=o.element,kf(n,t),Us(t,r,null,e);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Rr(Error(T(423)),t),t=Mh(n,t,r,e,i);break e}else if(r!==i){i=Rr(Error(T(424)),t),t=Mh(n,t,r,e,i);break e}else for(Vt=ci(t.stateNode.containerInfo.firstChild),Ut=t,Te=!0,_n=null,e=Sf(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Pr(),r===i){t=Xn(n,t,e);break e}wt(n,t,r,e)}t=t.child}return t;case 5:return If(t),n===null&&Ba(t),r=t.type,i=t.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,Ha(r,i)?s=null:o!==null&&Ha(r,o)&&(t.flags|=32),Zf(n,t),wt(n,t,s,e),t.child;case 6:return n===null&&Ba(t),null;case 13:return tp(n,t,e);case 4:return Yu(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=kr(t,null,r,e):wt(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Rh(n,t,r,i,e);case 7:return wt(n,t,t.pendingProps,e),t.child;case 8:return wt(n,t,t.pendingProps.children,e),t.child;case 12:return wt(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,be(Bs,r._currentValue),r._currentValue=s,o!==null)if(Sn(o.value,s)){if(o.children===i.children&&!Ot.current){t=Xn(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Kn(-1,e&-e),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),Va(o.return,e,t),l.lanes|=e;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(T(341));s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),Va(s,e,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wt(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vr(t,e),i=ln(i),r=r(i),t.flags|=1,wt(n,t,r,e),t.child;case 14:return r=t.type,i=pn(r,t.pendingProps),i=pn(r.type,i),Dh(n,t,r,i,e);case 15:return Qf(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),xs(n,t),t.tag=1,jt(r)?(n=!0,Fs(t)):n=!1,vr(t,e),qf(t,r,i),Ga(t,r,i,e),Ya(null,t,r,!0,n,e);case 19:return np(n,t,e);case 22:return Jf(n,t,e)}throw Error(T(156,t.tag))};function vp(n,t){return Gd(n,t)}function Nm(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(n,t,e,r){return new Nm(n,t,e,r)}function ac(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bm(n){if(typeof n=="function")return ac(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ku)return 11;if(n===Iu)return 14}return 2}function pi(n,t){var e=n.alternate;return e===null?(e=nn(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Ps(n,t,e,r,i,o){var s=2;if(r=n,typeof n=="function")ac(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case tr:return Ai(e.children,i,o,t);case Pu:s=8,i|=8;break;case pa:return n=nn(12,e,t,i|2),n.elementType=pa,n.lanes=o,n;case ga:return n=nn(13,e,t,i),n.elementType=ga,n.lanes=o,n;case _a:return n=nn(19,e,t,i),n.elementType=_a,n.lanes=o,n;case kd:return ml(e,i,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Sd:s=10;break e;case Pd:s=9;break e;case ku:s=11;break e;case Iu:s=14;break e;case ei:s=16,r=null;break e}throw Error(T(130,n==null?n:typeof n,""))}return t=nn(s,e,t,i),t.elementType=n,t.type=r,t.lanes=o,t}function Ai(n,t,e,r){return n=nn(7,n,r,t),n.lanes=e,n}function ml(n,t,e,r){return n=nn(22,n,r,t),n.elementType=kd,n.lanes=e,n.stateNode={isHidden:!1},n}function na(n,t,e){return n=nn(6,n,null,t),n.lanes=e,n}function ia(n,t,e){return t=nn(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Vm(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uc(n,t,e,r,i,o,s,l,a){return n=new Vm(n,t,e,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=nn(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(o),n}function Um(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function yp(n){if(!n)return vi;n=n._reactInternals;e:{if(qi(n)!==n||n.tag!==1)throw Error(T(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(n.tag===1){var e=n.type;if(jt(e))return yf(n,e,t)}return t}function wp(n,t,e,r,i,o,s,l,a){return n=uc(e,r,!0,n,i,o,s,l,a),n.context=yp(null),e=n.current,r=Ct(),i=fi(e),o=Kn(r,i),o.callback=t??null,hi(e,o,i),n.current.lanes=i,Ho(n,i,r),Lt(n,r),n}function vl(n,t,e,r){var i=t.current,o=Ct(),s=fi(i);return e=yp(e),t.context===null?t.context=e:t.pendingContext=e,t=Kn(o,s),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=hi(i,t,s),n!==null&&(Cn(n,i,s,o),ws(n,i,s)),s}function Qs(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Vh(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function cc(n,t){Vh(n,t),(n=n.alternate)&&Vh(n,t)}var bp=typeof reportError=="function"?reportError:function(n){console.error(n)};function hc(n){this._internalRoot=n}yl.prototype.render=hc.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(T(409));vl(n,t,null,null)};yl.prototype.unmount=hc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Gi(function(){vl(null,n,null,null)}),t[qn]=null}};function yl(n){this._internalRoot=n}yl.prototype.unstable_scheduleHydration=function(n){if(n){var t=Qd();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ni.length&&t!==0&&t<ni[e].priority;e++);ni.splice(e,0,n),e===0&&Zd(n)}};function dc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function Gm(n,t,e,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Qs(s);o.call(u)}}var s=wp(t,r,n,0,null,!1,!1,"",Uh);return n._reactRootContainer=s,n[qn]=s.current,xo(n.nodeType===8?n.parentNode:n),Gi(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Qs(a);l.call(u)}}var a=uc(n,0,!1,null,null,!1,!1,"",Uh);return n._reactRootContainer=a,n[qn]=a.current,xo(n.nodeType===8?n.parentNode:n),Gi(function(){vl(t,a,e,r)}),a}function bl(n,t,e,r,i){var o=e._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Qs(s);l.call(a)}}vl(t,s,n,i)}else s=Gm(e,t,n,i,r);return Qs(s)}$d=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=eo(t.pendingLanes);e!==0&&(Tu(t,e|1),Lt(t,Ge()),!(he&6)&&(Dr=Ge()+500,Ci()))}break;case 13:Gi(function(){var r=$n(n,1);if(r!==null){var i=Ct();Cn(r,n,1,i)}}),cc(n,1)}};Mu=function(n){if(n.tag===13){var t=$n(n,134217728);if(t!==null){var e=Ct();Cn(t,n,134217728,e)}cc(n,134217728)}};Xd=function(n){if(n.tag===13){var t=fi(n),e=$n(n,t);if(e!==null){var r=Ct();Cn(e,n,t,r)}cc(n,t)}};Qd=function(){return me};Jd=function(n,t){var e=me;try{return me=n,t()}finally{me=e}};Pa=function(n,t,e){switch(t){case"input":if(ya(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=hl(r);if(!i)throw Error(T(90));Rd(r),ya(r,i)}}}break;case"textarea":Td(n,e);break;case"select":t=e.value,t!=null&&pr(n,!!e.multiple,t,!1)}};Fd=oc;zd=Gi;var Wm={usingClientEntryPoint:!1,Events:[Fo,or,hl,Hd,Ad,oc]},Qr={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Km={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vd(n),n===null?null:n.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ll=hs.inject(Km),jn=hs}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wm;Kt.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dc(t))throw Error(T(200));return Um(n,t,null,e)};Kt.createRoot=function(n,t){if(!dc(n))throw Error(T(299));var e=!1,r="",i=bp;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uc(n,1,!1,null,null,e,!1,r,i),n[qn]=t.current,xo(n.nodeType===8?n.parentNode:n),new hc(t)};Kt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(T(188)):(n=Object.keys(n).join(","),Error(T(268,n)));return n=Vd(t),n=n===null?null:n.stateNode,n};Kt.flushSync=function(n){return Gi(n)};Kt.hydrate=function(n,t,e){if(!wl(t))throw Error(T(200));return bl(null,n,t,!0,e)};Kt.hydrateRoot=function(n,t,e){if(!dc(n))throw Error(T(405));var r=e!=null&&e.hydratedSources||null,i=!1,o="",s=bp;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),t=wp(t,null,n,1,e??null,i,!1,o,s),n[qn]=t.current,xo(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new yl(t)};Kt.render=function(n,t,e){if(!wl(t))throw Error(T(200));return bl(null,n,t,!1,e)};Kt.unmountComponentAtNode=function(n){if(!wl(n))throw Error(T(40));return n._reactRootContainer?(Gi(function(){bl(null,null,n,!1,function(){n._reactRootContainer=null,n[qn]=null})}),!0):!1};Kt.unstable_batchedUpdates=oc;Kt.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!wl(e))throw Error(T(200));if(n==null||n._reactInternals===void 0)throw Error(T(38));return bl(n,t,e,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function Cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cp)}catch(n){console.error(n)}}Cp(),bd.exports=Kt;var ou=bd.exports,Gh=ou;da.createRoot=Gh.createRoot,da.hydrateRoot=Gh.hydrateRoot;/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var In=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zr=typeof navigator<"u"?navigator.userAgent:"",Ym=zr.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i)!=null;function xp(){return Ym}var qm=zr.match(/iPad|iPhone|iPod/i)!=null;function Ep(){return qm}var $m=zr.match(/Firefox\//)!=null;function Wi(){return $m}var Xm=zr.match(/^((?!Chrome|Android).)*safari/i)!=null;function wr(){return Xm}var Qm=zr.match(/Edge\//)!=null;function Jm(){return Qm}var Zm=zr.match(/MSIE |Trident\/|Edge\//)!=null;function ge(){return Zm}var Sp=!1;function Jn(){return Sp}var Pp=!1;function kp(){return Pp}var Ip=!1;typeof document<"u"&&document.addEventListener("test",function(n){},{get passive(){return Ip=!0,!0}});function Js(n,t){return Ip?{capture:n,passive:t}:n}var Rp=!1;typeof document<"u"&&document.createElement("div").focus({get preventScroll(){return Rp=!0,!0}});function Dp(){return Rp}function Tp(n,t){n.effectAllowed=t,Wi()&&n.setData("text","")}typeof document<"u"&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(Pp=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(Sp=!0,document.addEventListener("mousemove",function(n){if(n.which==1){var t=K(n.target,".wj-control");if(t&&!t.style.cursor){for(var e=n.target;e;e=e.parentElement)if(e.attributes&&e.attributes.draggable)return e.dragDrop(),!1}}})));if(typeof window<"u"){var Wh="requestAnimationFrame",ev="cancelAnimationFrame";if(!window[Wh]){var ra=0;window[Wh]=function(n){var t=Date.now(),e=16-(t-ra),r=e>0?e:0;return ra=t+r,setTimeout(function(){n(ra)},r)},window[ev]=clearTimeout}if(!window.atob){var Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",tv=new RegExp("[^"+Ji+"]");window.atob=function(n){var t,e,r,i,o=[],s=0,l=n.length;if(tv.test(n)||/=/.test(n)&&(/=[^=]/.test(n)||/={3}/.test(n)))throw new Error("Invalid base64 data");for(l%4>0&&(l=(n+=Array(4-l%4+1).join("=")).length);s<l;){for(e=[],i=s;s<i+4;)e.push(Ji.indexOf(n.charAt(s++)));for(r=[((t=(e[0]<<18)+(e[1]<<12)+((63&e[2])<<6)+(63&e[3]))&255<<16)>>16,e[2]===64?-1:(65280&t)>>8,e[3]===64?-1:255&t],i=0;i<3;++i)(r[i]>=0||i===0)&&o.push(String.fromCharCode(r[i]))}return o.join("")},window.btoa=function(n){for(var t,e,r=[],i=0,o=n.length;i<o;)t=((e=[n.charCodeAt(i++),n.charCodeAt(i++),n.charCodeAt(i++)])[0]<<16)+((e[1]||0)<<8)+(e[2]||0),r.push(Ji.charAt((t&63<<18)>>18),Ji.charAt((258048&t)>>12),Ji.charAt(isNaN(e[1])?64:(4032&t)>>6),Ji.charAt(isNaN(e[2])?64:63&t));return r.join("")}}}var br=typeof window<"u"&&window.Symbol?Symbol("_getProxyTarget"):"	_get	Proxy	Target	";function Mp(n,t,e){var r=new WeakMap;if(!e){var i={};if(n.length){var o=n[0];for(var s in o){var l=typeof o[s];i[s]=l=="string"?"":l=="number"?0:null}e=i}}return new Proxy(n,{get:function(a,u){if(u===br)return a;if(typeof u=="string"||typeof u=="number"){if(u=="indexOf")return function(f,p){var g=a.indexOf(f,p);return g<0&&f&&(f=f[br])&&(g=a.indexOf(f,p)),g};var c=parseInt(u);if(!isNaN(c)){var h=a[c];if(h&&!h[br]){var d=r.get(h);d||(d=nv(h,t,e),r.set(h,d)),h=d}return h}}return Reflect.get(a,u)}})}function nv(n,t,e){if(!n[br]){if(ge())for(var r in t)n[r]=null;var i={get:function(o,s,l){if(s===br)return o;if(s==="constructor")return function(){return Object.assign({},e||{})};var a=t[s];if(a)switch(typeof a){case"function":return a(l);case"string":return iv(a,l)}return o[s]}};ge()||(i.ownKeys=function(o){return Object.keys(o).concat(Object.keys(t))},i.getOwnPropertyDescriptor=function(o,s){return s in t?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(o,s)}),n=new Proxy(n,i)}return n}function Op(n){return(n?n[br]:null)||n}function iv(n,t){var e=[t];return new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+n])))().apply(void 0,e)}var rv=function(){function n(){this._hasDoc=typeof Document<"u",this._ae=this._nativeAe();var t=window,e=this._onBlur.bind(this),r=this._onFocus.bind(this);t.addEventListener("focusout",e,!0),t.addEventListener("focusin",r,!0),ge()||(t.addEventListener("blur",e,!0),t.addEventListener("focus",r,!0))}return Object.defineProperty(n.prototype,"activeElement",{get:function(){var t=this._ae,e=this._nativeAe();return t===n._noAe?t=this._ae=e:t!=e&&(this._isSpecialRoot(t)||document.body.contains(t)||(t=this._ae=e)),t!==n._noAe?t:null},enumerable:!0,configurable:!0}),n.prototype._onBlur=function(t){if(t.isTrusted){var e=t.relatedTarget;this._ae=this._isSpecialRoot(e)?this._nativeAe():e}},n.prototype._onFocus=function(t){t.isTrusted&&(this._ae=this._nativeAe())},n.prototype._isSpecialRoot=function(t){return t==null||t===document.body||this._hasDoc&&t instanceof Document},n.prototype._nativeAe=function(){var t;try{t=typeof document.activeElement!="unknown"?document.activeElement:n._noAe}catch{t=n._noAe}return t},n._noAe={},n}(),fc;typeof window<"u"&&(fc=new rv);var lt=function(){function n(t){this.path=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var r=this._parts[e],i=r.indexOf("[");i>-1&&(this._parts[e]=r.substr(0,i),this._parts.splice(++e,0,parseInt(r.substr(i+1))))}this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},n.prototype.setValue=function(t,e){if(t)try{var r=this._path;if(r in t)return t[r]=e,t[r]==e;for(var i=0;i<this._parts.length-1;i++)if((t=t[this._parts[i]])==null)return!1;return t[r=this._parts[this._parts.length-1]]=e,t[r]==e}catch{return!1}return!1},n}(),ov=function(t,e){this.handler=t,this.self=e},P=function(){function n(t){this._handlers=[],this._handlersChanged=t}return n.prototype.addHandler=function(t,e){t=ke(t),this._handlers.push(new ov(t,e)),ee(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeHandler=function(t,e){var r=!1;t=ke(t);for(var i=0;i<this._handlers.length;i++){var o=this._handlers[i];if(!(o.handler!=t&&t!=null||o.self!=e&&e!=null)&&(this._handlers.splice(i--,1),r=!0,t&&e))break}r&&ee(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&ee(this._handlersChanged)&&this._handlersChanged()},n.prototype.raise=function(t,e){e===void 0&&(e=xi.empty);for(var r=this._handlers,i=0;i<r.length;i++){var o=r[i];o.handler.call(o.self,t,e),r[i]!==o&&i--}},Object.defineProperty(n.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),n}(),xi=function(){function n(){}return n.empty=new n,n}(),we=function(n){In(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cancel=!1,e}return t}(xi),sv=function(n){In(t,n);function t(e,r,i){var o=n.call(this)||this;return o._name=e,o._oldVal=r,o._newVal=i,o}return Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(xi),lv=function(n){In(t,n);function t(e,r){var i=n.call(this)||this;return i._xhr=e,i._msg=r,i}return Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(we),Oe;(function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove",n[n.Change=2]="Change",n[n.Reset=3]="Reset"})(Oe||(Oe={}));var Zt=function(n){In(t,n);function t(e,r,i){e===void 0&&(e=Oe.Reset),r===void 0&&(r=null),i===void 0&&(i=-1);var o=n.call(this)||this;return o.action=e,o.item=r,o.index=i,o}return t.reset=new t(Oe.Reset),t}(xi),ji=function(){function n(t,e){this._bnd=new lt(t),this._asc=e}return Object.defineProperty(n.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),n}(),jp=function(n){In(t,n);function t(e){var r=n.call(this)||this;return r.newPageIndex=e,r}return t}(we),pc=function(){function n(){}return n.prototype.groupNameFromItem=function(t,e){return""},n.prototype.namesMatch=function(t,e){return t===e},n}(),su=function(n){In(t,n);function t(e,r){var i=n.call(this)||this;return i._bnd=new lt(e),i._converter=r,i}return Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,r){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,r){return e===r},t}(pc),av="5.20222.877";function gc(){return av}function uv(n){O._licKey=n}var E;(function(n){n[n.Back=8]="Back",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.Left=37]="Left",n[n.Up=38]="Up",n[n.Right=39]="Right",n[n.Down=40]="Down",n[n.Delete=46]="Delete",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12"})(E||(E={}));var ve;(function(n){n[n.Object=0]="Object",n[n.String=1]="String",n[n.Number=2]="Number",n[n.Boolean=3]="Boolean",n[n.Date=4]="Date",n[n.Array=5]="Array"})(ve||(ve={}));function Wt(n,t){return n==null?null:Q(t)?ee(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function Tr(n){return Q(n)||ue(n)||Je(n)||Me(n)}function Q(n){return typeof n=="string"}function cv(n){return!n||!/\S/.test(n)}function ue(n){return typeof n=="number"}function Zs(n){return ue(n)&&n==Math.round(n)}function Je(n){return typeof n=="boolean"}function ee(n){return typeof n=="function"}function Un(n){return n===void 0}function Me(n){return(n instanceof Date||Object.prototype.toString.call(n)==="[object Date]")&&!isNaN(n.getTime())}function We(n){return n instanceof Array||Array.isArray(n)||Object.prototype.toString.call(n)==="[object Array]"}function ot(n){return n!=null&&typeof n=="object"&&!Me(n)&&!We(n)}function hv(n){for(var t in n)return!1;return!0}function _c(n){for(var t=n,e=0;document.getElementById(t)!=null;e++)t=n+e;return t}function dr(n){if(n instanceof xt)return n;if(n&&n.touches&&n.touches.length>0&&(n=n.touches[0]),ue(n.clientX)&&ue(n.clientY))return new xt(n.clientX+pageXOffset,n.clientY+pageYOffset);throw"Mouse or touch event expected."}function yi(n){return ue(n)?ve.Number:Je(n)?ve.Boolean:Me(n)?ve.Date:Q(n)?ve.String:We(n)?ve.Array:ve.Object}function Lp(n,t){if(t===void 0&&(t=1e3),!n)return[];var e=n.length;(t<=0||e<t)&&(t=e);var r=[];if(t){for(var i=Object.keys(n[0]),o={},s=i.slice(),l=0;l<t;l++){for(var a=n[l],u=s.length-1;u>=0;u--){var c=s[u],h=a[c];if(Tr(h)){var d=Object.getOwnPropertyDescriptor(n[l],c);o[c]={binding:c,dataType:yi(h),isReadOnly:d&&!d.writable&&!d.set},s.splice(u,1)}}if(!s.length)break}for(l=0;l<i.length;l++){var f=o[i[l]];f&&r.push(f)}}return r}function Cl(n,t,e,r){if(n!=null){var i=ve;if(Q(n))switch(t){case i.Number:var o=ne.parseFloat(n,e);return isNaN(o)?n:o;case i.Date:var s=ne.parseDate(n,e,Me(r)?r:null);return s||e||!n||(s=new Date(n)),s&&isFinite(s.getTime())?s:n;case i.Boolean:switch(n.toLowerCase()){case"true":return!0;case"false":return!1}return n;case i.Array:try{var l=n.split(",").map(function(a){return(a=a.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?a:'"'+a+'"'});return JSON.parse("["+l.join(",")+"]")}catch{}}if(t==ve.String)return ne.format(n,e)}return n}function lu(n,t,e){if(e){var r=n.toString(),i=r.indexOf("e"),o=r.indexOf(".");if(i>-1){if(r[i+1]==="-"){var s=parseFloat(r.substr(i+2)),l=r.substr(0,i);o>-1&&(l=l.substr(0,o)+l.substr(o+1)),r="0."+(Array(s).join("0")+l).substr(0,t),n=parseFloat(r)}}else o>-1&&(r=r.substr(0,o+1+t),n=parseFloat(r))}else{var a=Math.pow(10,t);n=Math.round(n*a)/a}return n}function Nr(n,t,e){if((n=L(n)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var r=JSON.parse(n);if(Q(r.count)){var i=t[r.count],o=r.when;if(ue(i)&&ot(o)){var s=o[i]||o.other;Q(s)&&(n=s)}}}catch{}return n.replace(/\{(.*?)(:(.*?))?\}/g,function(l,a,u,c){var h=l;return a&&a[0]!="{"&&t&&(h=new lt(a).getValue(t),c&&(h=ne.format(h,c)),e&&(h=e(t,a,c,h))),h??""})}function Hp(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=[],r=-1;return n[0].forEach(function(i,o){if(o>0&&o!=r){var s=n[o],l=i.match(/^:([a-z][0-9]*\b)/i)||i.match(/^:'(.+?)'/)||i.match(/^:"(.+?)"/);l?(s=ne.format(s,l[1]),i=i.substr(l[0].length)):i==":"&&o<n.length-1&&(ue(s)||Me(s))&&(s=ne.format(s,n[o+1]),i="",r=o+1),e.push(s)}i&&e.push(i)}),e.join("")}function Ap(n,t){return ge()?(n=n.replace(/:\${([^}]*)}/g,function(e,r){return":"+oa(r,t)})).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,function(e,r,i,o,s,l,a){var u=oa(r,t);return o?ne.format(u,s||l||a):u}):oa(n,t)}function oa(n,t){(t=t||{}).glbz=Hp;var e=Object.keys(t),r=e.map(function(i){return t[i]});return(ge()?new(Function.bind.apply(Function,[void 0].concat(e,["return "+n]))):new(Function.bind.apply(Function,[void 0].concat(e,["return glbz`"+n+"`"])))).apply(void 0,r)}function ce(n,t,e){return n!=null&&(e!=null&&n>e&&(n=e),t!=null&&n<t&&(n=t)),n}function Ei(n,t){if(t){for(var e in t)if(e[0]!="_"){B(e in n,'Unknown property "'+e+'".');var r=t[e];n._copy&&n._copy(e,r)||(n[e]instanceof P?ee(r)&&n[e].addHandler(r):!ot(r)||typeof Element<"u"&&r instanceof Element||!n[e]||e=="itemsSource"?n[e]=r:Ei(n[e],r))}}return n}function B(n,t){if(!n){t="** Assertion failed in Wijmo: "+t;var e=new Error;throw Q(e.stack)&&(t+=" "+e.stack),t}}function xl(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function L(n,t){return t===void 0&&(t=!0),Un(n)&&(n=null),B(t&&n==null||Q(n),"String expected."),n}function j(n,t,e){if(t===void 0&&(t=!1),e===void 0&&(e=!1),B(t&&n==null||ue(n),"Number expected."),e&&n&&n<0)throw"Positive number expected.";return n}function Ee(n,t,e){if(t===void 0&&(t=!1),e===void 0&&(e=!1),B(t&&n==null||Zs(n),"Integer expected."),e&&n&&n<0)throw"Positive integer expected.";return n}function k(n,t){return t===void 0&&(t=!1),B(t&&n==null||Je(n),"Boolean expected."),n}function Nt(n,t){if(t===void 0&&(t=!1),Q(n)){var e=Cl(n,ve.Date,"r");Me(e)&&(n=e)}return B(t&&n==null||Me(n),"Date expected."),n}function ke(n,t){return t===void 0&&(t=!0),B(t&&n==null||ee(n),"Function expected."),n}function mt(n,t){return t===void 0&&(t=!0),B(t&&n==null||We(n),"Array expected."),n}function Le(n,t,e){return e===void 0&&(e=!1),n=Wt(n,t),B(e||n!=null,t+" expected."),n}function ye(n,t,e){if(e===void 0&&(e=!1),n==null&&e)return null;var r=Q(n)?t[n]:n;return B(r!=null,'Invalid enum value: "'+n+'"'),ue(r)?r:n}function No(n,t){if(t===void 0&&(t=!0),n==null&&t)return null;var e=Wt(n,"ICollectionView");return e??(We(n)||B(!1,"Array or ICollectionView expected."),new on(n))}function Ue(n){return n!=null&&n.items!=null&&n.items.length>0}function El(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function xn(n){return n&&Q(n)&&(n=n.replace(/[&<>"'\/]/g,function(t){return dv[t]})),n!=null?n.toString():""}var ds,dv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function mc(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function Pn(n){var t=L(n);return Q(t)&&t.indexOf("<")>-1&&(ds||(ds=document.createElement("div")),ds.innerHTML=t,t=ds.textContent),t}function fe(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Jn())return n.classList.contains(t);if(n.getAttribute){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");return n&&e.test(n.getAttribute("class"))}}return!1}function ie(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Jn()){t.indexOf(" ")<0?n.classList.add(t):t.split(" ").forEach(function(e){n.classList.add(e)});return}n.setAttribute&&t.split(" ").forEach(function(e){if(!fe(n,e)){var r=n.getAttribute("class");n.setAttribute("class",r?r+" "+e:e)}})}}function Rt(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Jn()){t.indexOf(" ")<0?n.classList.remove(t):t.split(" ").forEach(function(e){n.classList.remove(e)});return}n.setAttribute&&t.split(" ").forEach(function(e){if(fe(n,e)){var r=new RegExp("((\\s|^)"+e+"(\\s|$))","g"),i=n.getAttribute("class");(i=i.replace(r," ").replace(/ +/g," ").trim())?n.setAttribute("class",i):n.removeAttribute("class")}})}}function te(n,t,e){e==null&&(e=!fe(n,t)),e?ie(n,t):Rt(n,t)}function A(n,t,e,r){n&&(e!=null?r&&n.getAttribute(t)||n.setAttribute(t,e.toString()):n.removeAttribute(t))}function Mr(n,t){var e=t==null;n.checked=ge()?t||e:t,n.indeterminate=e}function Ve(n,t){A(n,"aria-label",t)}function J(n,t,e,r){if(e===void 0&&(e=t),r===void 0&&(r=!0),B(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),q(document.body,n)&&!n.disabled&&n.offsetHeight){try{n.setSelectionRange(t,e,"backward")}catch{}if(r)try{return n.focus(),!0}catch{}}return!1}function Sl(n){var t="autocomplete",e=n.getAttribute(t);e&&e!="on"||n.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach(function(r){n.setAttribute(r,r=="spellcheck"?"false":"off")})}function De(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function Z(){var n=document.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function Fp(){var n=fc.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function fo(n,t){var e=zp(n,t<0),r=0;if(t){var i=e.indexOf(Z());i>-1&&(r=(i+t+e.length)%e.length)}if(r<e.length){var o=e[r];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function zp(n,t){t===void 0&&(t=!1);var e=[],r=Array.prototype.slice.call(n.querySelectorAll("input,select,textarea,button,a,div")),i={},o=function(c){return c instanceof HTMLInputElement&&c.type==="radio"};r.forEach(function(c){o(c)&&c.checked&&(i[c.name||""]=!0)}),(r=r.filter(function(c){return!o(c)||c.checked||!i[c.name||""]})).sort(function(c,h){return c.tabIndex-h.tabIndex});for(var s=0;s<r.length;s++){var l=r[s];if(l.offsetHeight>0&&l.tabIndex>-1&&!l.disabled&&window.getComputedStyle(l).visibility!=="hidden"&&!K(l,"[disabled],.wj-state-disabled")){if(l instanceof HTMLAnchorElement&&!l.hasAttribute("href"))continue;if(ge()&&!l.hasAttribute("tabindex")){if(l instanceof HTMLDivElement)continue;var a=O.getControl(K(l,".wj-flexgrid"));if(a&&a.keyActionTab==0)continue}if(l.type==="radio"&&!l.checked&&e.length>0){var u=e[e.length-1];if(u.type==="radio"&&u.name===l.name){t&&(e[e.length-1]=l);continue}}!O.getControl(l)&&zp(l).length||e.push(l)}}return e}function fv(n,t,e){e===void 0&&(e="text/plain");var r=n instanceof Blob;r||!e.match(/\bcsv\b/i)&&!t.match(/\.csv$/i)||(n="\uFEFF"+n);var i=r?n:new Blob([n],{type:e});if(ee(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(i,t);else{var o=document.createElement("a"),s=function(c){var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(h)};if("download"in o){var l=window.URL||window.webkitURL,a=l.createObjectURL(i);o.href=a,o.target="_blank",o.download=t,s(o),o=null,window.setTimeout(function(){l.revokeObjectURL(a)},3e4)}else{var u=new FileReader;u.onloadend=function(){o.href=u.result,o.download=t,s(o),o=null},u.readAsDataURL(i)}}}function Gn(n){if(n instanceof Element)return n;if(Q(n))try{return document.querySelector(n)}catch{}return n&&n.jquery?n[0]:null}function _e(n,t,e){n=n.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var r=document.createElement("div");if(r.innerHTML=n,n.indexOf("_wj-style")>-1)for(var i=r.querySelectorAll("[_wj-style]"),o=function(l){var a=i[l];a.getAttribute("_wj-style").split(";").forEach(function(u){var c=u.split(":");c.length==2&&(a.style[c[0].trim()]=c[1].trim())}),a.removeAttribute("_wj-style")},s=0;s<i.length;s++)o(s);return r.children.length==1&&(r=r.children[0]),e&&H(r,e),t&&(t=Gn(t)).appendChild(r),r}function mn(n,t){n.textContent=t||""}function q(n,t,e){for(var r=t;r&&n;){if(r===n)return!0;r=(e?r[O._OWNR_KEY]:null)||r.parentNode||r.host}return!1}function K(n,t){if(n){if(ee(n.closest))return n.closest(t);var e=n.matches||n.webkitMatchesSelector||n.msMatchesSelector||n.mozMatchesSelector;if(e){for(;n&&n.nodeType===1;n=n.parentElement||n.parentNode)if(e.call(n,t))return n}}return null}function Ft(n,t){return K(n,"."+t)}function Dt(n,t){var e=!t,r="disabled";te(n,"wj-state-disabled",e),A(n,r,e?r:null);for(var i=n.querySelectorAll("input,button"),o=0;o<i.length;o++)A(i[o],r,e?r:null)}function el(n){var t=n.getBoundingClientRect();return new bt(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function H(n,t){if(B(ot(t),"css parameter should be an object"),n instanceof Array)for(var e=0;e<n.length;e++)H(n[e],t);else if(n&&n.style){var r=n.style;for(var i in t){var o=t[i];typeof o=="number"&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),r[i]!==o&&(r[i]=o)}}}function vc(n,t,e){t==null&&(t=O._ANIM_DEF_DURATION),e==null&&(e=O._ANIM_DEF_STEP),n=ke(n),t=j(t,!1,!0),e=j(e,!1,!0);var r,i=Date.now(),o=setInterval(function(){var s=Math.min(1,(Date.now()-i)/t);s=Math.sin(s*Math.PI/2),s*=s,r&&cancelAnimationFrame(r),r=requestAnimationFrame(function(){r=null,n(s)}),s>=1&&clearInterval(o)},e);return o}var xt=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.x=j(t),this.y=j(e)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}(),Xt=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.width=j(t),this.height=j(e)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}(),bt=function(){function n(t,e,r,i){this.left=j(t),this.top=j(e),this.width=j(r),this.height=j(i)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(t){if(t.left!=null)return new n(t.left,t.top,t.width,t.height);if(t.x!=null)return new n(t.x,t.y,t.width,t.height);B(!1,"Invalid source rectangle.")},n.union=function(t,e){var r=Math.min(t.left,e.left),i=Math.min(t.top,e.top);return new n(r,i,Math.max(t.right,e.right)-r,Math.max(t.bottom,e.bottom)-i)},n.intersection=function(t,e){var r=Math.max(t.left,e.left),i=Math.max(t.top,e.top);return new n(r,i,Math.min(t.right,e.right)-r,Math.min(t.bottom,e.bottom)-i)},n.prototype.contains=function(t){if(t instanceof xt)return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom;if(t instanceof n){var e=t;return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}B(!1,"Point or Rect expected.")},n.prototype.inflate=function(t,e){return new n(this.left-t,this.top-e,this.width+2*t,this.height+2*e)},n}(),W=function(){function n(){}return n.addDays=function(t,e){return(t=new Date(t.getTime())).setDate(t.getDate()+e),t},n.addMonths=function(t,e){var r=(t=new Date(t.getTime())).getDate();return t.setMonth(t.getMonth()+e),t.getDate()!=r&&t.setDate(0),t},n.addYears=function(t,e){return(t=new Date(t.getTime())).setFullYear(t.getFullYear()+e),t},n.addHours=function(t,e){return(t=new Date(t.getTime())).setHours(t.getHours()+e),t},n.addMinutes=function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t},n.addSeconds=function(t,e){return(t=new Date(t.getTime())).setSeconds(t.getSeconds()+e),t},n.weekFirst=function(t,e){return e===void 0&&(e=ne.getFirstDayOfWeek()),n.addDays(t,-(t.getDay()-e))},n.weekLast=function(t,e){return e===void 0&&(e=ne.getFirstDayOfWeek()),t=n.weekFirst(t,e),n.addDays(t,6)},n.monthFirst=function(t){return n.addDays(t,1-t.getDate())},n.monthLast=function(t){return t=n.monthFirst(t),t=n.addMonths(t,1),n.addDays(t,-1)},n.yearFirst=function(t){return new Date(t.getFullYear(),0,1)},n.yearLast=function(t){return new Date(t.getFullYear(),11,31)},n.sameDate=function(t,e){return Me(t)&&Me(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},n.sameTime=function(t,e){return Me(t)&&Me(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()&&t.getMilliseconds()==e.getMilliseconds()},n.equals=function(t,e){return t==null&&e==null||Me(t)&&Me(e)&&t.getTime()==e.getTime()},n.fromDateTime=function(t,e){return!t&&!e?null:(t||(t=e),e||(e=t),n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},n.toFiscal=function(t,e){var r=oe.Globalize.calendar;return We(r.fiscalYearOffsets)?n.addMonths(t,-r.fiscalYearOffsets[e?0:1]):t},n.fromFiscal=function(t,e){var r=oe.Globalize.calendar;return We(r.fiscalYearOffsets)?n.addMonths(t,+r.fiscalYearOffsets[e?0:1]):t},n.newDate=function(t,e,r,i,o,s,l){if(t==null||e==null||r==null){var a=new Date;t==null&&(t=a.getFullYear()),e==null&&(e=a.getMonth()),r==null&&(r=a.getDate())}i==null&&(i=0),o==null&&(o=0),s==null&&(s=0),l==null&&(l=0);var u=new Date(t,e,r,i,o,s,l),c=u.getFullYear();return t<100&&c>=1900&&u.setFullYear(u.getFullYear()-1900),u},n.clone=function(t){return n.fromDateTime(t,t)},n}();function au(n,t){var e=t||{},r=e.method?L(e.method).toUpperCase():"GET",i=e.async==null||k(e.async),o=e.data;if(o!=null&&r=="GET"){var s=[];for(var l in o){var a=o[l];Me(a)&&(a=a.toJSON()),s.push(l+"="+encodeURIComponent(a))}if(s.length){var u=n.indexOf("?")<0?"?":"&";n+=u+s.join("&")}o=null}var c=new XMLHttpRequest;c.URL_DEBUG=n;var h=!1;if(o!=null&&!Q(o)&&(h=ot(o),o=JSON.stringify(o)),c.onload=function(){c.readyState==4&&(c.status<300?e.success&&ke(e.success)(c):e.error&&ke(e.error)(c),e.complete&&ke(e.complete)(c))},c.onerror=function(){if(!ee(e.error))throw"HttpRequest Error: "+c.status+" "+c.statusText;e.error(c)},c.open(r,n,i,e.user,e.password),e.user&&e.password&&c.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),h&&function(){for(var f in e.requestHeaders)if(f.toLowerCase()==="content-type")return!1;return!0}()&&c.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var d in e.requestHeaders)c.setRequestHeader(d,e.requestHeaders[d]);return ue(e.timeout)&&(c.timeout=e.timeout),ee(e.beforeSend)&&e.beforeSend(c),c.send(o),c}var Np={};function Bo(n,t){if(Np[n]=t,n==="wijmo"){var e=typeof window<"u"?window:typeof self<"u"?self:null;e&&(e.wijmo=t)}}function Pl(n){return Np[n]}var Bp=function(){function n(t){if(t===void 0&&(t=!0),t)this._h={};else{var e=gv(),r=e&&e.Map;this._m=r&&new Map||new pv}}return Object.defineProperty(n.prototype,"isPojoHash",{get:function(){return this._h!=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._h?this._h={}:this._m.clear()},n.prototype.delete=function(t){this._h?delete this._h[t]:this._m.delete(t)},n.prototype.get=function(t){return this._h?this._h[t]:this._m.get(t)},n.prototype.has=function(t){return this._h?t in this._h:this._m.has(t)},n.prototype.set=function(t,e){return this._h?this._h[t]=e:this._m.set(t,e),this},n}(),pv=function(){function n(){this._d=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._d=[]},n.prototype.delete=function(t){var e=this._kIdx(t);return e>-1?(this._d.splice(e,1),!0):!1},n.prototype.get=function(t){var e=this._kIdx(t);return e>-1?this._d[e].v:void 0},n.prototype.has=function(t){return this._kIdx(t)>-1},n.prototype.set=function(t,e){var r=this._kIdx(t);return r>-1?this._d[r].v=e:this._d.push({k:t,v:e}),this},n.prototype._kIdx=function(t){var e=this._d,r=e.length;if(t==t){for(var i=0;i<r;i++)if(e[i].k===t)return i}else for(i=0;i<r;i++){var o=e[i].k;if(o!=o)return i}return-1},n}();function gv(){var n=null;return typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"&&(n=self),n}var yt=function(){function n(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(n.prototype,"r",{get:function(){return this._r},set:function(t){this._r=ce(j(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this._g},set:function(t){this._g=ce(j(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this._b},set:function(t){this._b=ce(j(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this._a},set:function(t){this._a=ce(j(t),0,1)},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},n.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},n.fromRgba=function(t,e,r,i){i===void 0&&(i=1);var o=new n(null);return o.r=Math.round(ce(j(t),0,255)),o.g=Math.round(ce(j(e),0,255)),o.b=Math.round(ce(j(r),0,255)),o.a=ce(j(i),0,1),o},n.fromHsb=function(t,e,r,i){i===void 0&&(i=1);var o=n._hsbToRgb(ce(j(t),0,1),ce(j(e),0,1),ce(j(r),0,1));return n.fromRgba(o[0],o[1],o[2],i)},n.fromHsl=function(t,e,r,i){i===void 0&&(i=1);var o=n._hslToRgb(ce(j(t),0,1),ce(j(e),0,1),ce(j(r),0,1));return n.fromRgba(o[0],o[1],o[2],i)},n.fromString=function(t){var e=new n(null);return e._parse(L(t))?e:null},n.prototype.getHsb=function(){return n._rgbToHsb(this.r,this.g,this.b)},n.prototype.getHsl=function(){return n._rgbToHsl(this.r,this.g,this.b)},n.interpolate=function(t,e,r){r=ce(j(r),0,1);var i=n._rgbToHsl(t.r,t.g,t.b),o=n._rgbToHsl(e.r,e.g,e.b),s=1-r,l=t.a*s+e.a*r,a=[i[0]*s+o[0]*r,i[1]*s+o[1]*r,i[2]*s+o[2]*r],u=n._hslToRgb(a[0],a[1],a[2]);return n.fromRgba(u[0],u[1],u[2],l)},n.toOpaque=function(t,e){if((t=Q(t)?n.fromString(t):Le(t,n)).a==1)return t;e=e==null?n.fromRgba(255,255,255,1):Q(e)?n.fromString(e):Le(e,n);var r=t.a,i=1-r;return n.fromRgba(t.r*r+e.r*i,t.g*r+e.g*i,t.b*r+e.b*i)},n.prototype._parse=function(t){if((t=t.toLowerCase())=="transparent")return this._r=this._g=this._b=this._a=0,!0;if(t&&t.indexOf("#")!=0&&t.indexOf("rgb")!=0&&t.indexOf("hsl")!=0){var e=document.createElement("div");e.style.color=t;var r=e.style.color;r==t&&!(r=window.getComputedStyle(e).color)&&(document.body.appendChild(e),r=window.getComputedStyle(e).color,De(e)),t=r.toLowerCase()}if(t.indexOf("#")==0)return t.length==4?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):t.length==7?(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0):!1;if(t.indexOf("rgb")==0){var i=t.indexOf("("),o=t.indexOf(")");if(i>-1&&o>-1&&(s=t.substr(i+1,o-(i+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}if(t.indexOf("hsl")==0&&(i=t.indexOf("("),o=t.indexOf(")"),i>-1&&o>-1)){var s;if((s=t.substr(i+1,o-(i+1)).split(",")).length>2){var l=parseInt(s[0])/360,a=parseInt(s[1]),u=parseInt(s[2]);s[1].indexOf("%")>-1&&(a/=100),s[2].indexOf("%")>-1&&(u/=100);var c=n._hslToRgb(l,a,u);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=s.length>3?parseFloat(s[3]):1,!0}}return!1},n._hslToRgb=function(t,e,r){B(t>=0&&t<=1&&e>=0&&e<=1&&r>=0&&r<=1,"bad HSL values");var i,o,s;if(e==0)i=o=s=r;else{var l=r<.5?r*(1+e):r+e-r*e,a=2*r-l;i=n._hue2rgb(a,l,t+1/3),o=n._hue2rgb(a,l,t),s=n._hue2rgb(a,l,t-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*s)]},n._hue2rgb=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},n._rgbToHsl=function(t,e,r){B(t>=0&&t<=255&&e>=0&&e<=255&&r>=0&&r<=255,"bad RGB values"),t/=255,e/=255,r/=255;var i,o,s=Math.max(t,e,r),l=Math.min(t,e,r),a=(s+l)/2;if(s==l)i=o=0;else{var u=s-l;switch(o=a>.5?u/(2-s-l):u/(s+l),s){case t:i=(e-r)/u+(e<r?6:0);break;case e:i=(r-t)/u+2;break;case r:i=(t-e)/u+4}i/=6}return[i,o,a]},n._rgbToHsb=function(t,e,r){B(t>=0&&t<=255&&e>=0&&e<=255&&r>=0&&r<=255,"bad RGB values");var i=n._rgbToHsl(t,e,r);return n._hslToHsb(i[0],i[1],i[2])},n._hsbToRgb=function(t,e,r){var i=n._hsbToHsl(t,e,r);return n._hslToRgb(i[0],i[1],i[2])},n._hsbToHsl=function(t,e,r){B(t>=0&&t<=1&&e>=0&&e<=1&&r>=0&&r<=1,"bad HSB values");var i=ce(r*(2-e)/2,0,1),o=1-Math.abs(2*i-1),s=ce(o>0?r*e/o:e,0,1);return B(!isNaN(i)&&!isNaN(s),"bad conversion to HSL"),[t,s,i]},n._hslToHsb=function(t,e,r){B(t>=0&&t<=1&&e>=0&&e<=1&&r>=0&&r<=1,"bad HSL values");var i=ce(r==1?1:(2*r+e*(1-Math.abs(2*r-1)))/2,0,1),o=ce(i>0?2*(i-r)/i:e,0,1);return B(!isNaN(i)&&!isNaN(o),"bad conversion to HSB"),[t,o,i]},n}(),oe=typeof window<"u"&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},ne=function(){function n(){}return n.format=function(t,e,r,i,o){return Q(t)?t:ue(t)?(e=e||(t==Math.round(t)?"n0":"n2"),n.formatNumber(t,e,r,i,o)):Me(t)?(e=e||"d",n.formatDate(t,e)):t!=null?t.toString():""},n.formatNumber=function(t,e,r,i,o){t=j(t),e=L(e);var s,l=oe.Globalize.numberFormat,a=n._parseNumericFormat(e),u=a.spec,c=a.prec,h=l["."]||".",d=l[","]||",",f=l["-"]||"-",p=Math;if(c==null&&(c=o??(u=="c"?l.currency.decimals:u=="e"?6:u=="r"?15:t==p.round(t)?0:2)),a.scale&&(t/=p.pow(10,a.scale)),u=="d"||u=="x"){for(s=(i?p.floor:p.round)(p.abs(t)).toString(u=="d"?10:16);s.length<c;)s="0"+s;return t<0&&(s=f+s),a.specRaw=="X"?s.toUpperCase():s}switch(i&&u!="p"&&u!="e"&&(t=lu(t,c,!0)),u){case"e":s=t.toExponential(c),a.specRaw=="E"&&(s=s.replace("e","E"));break;case"c":s=n._toFixedStr(p.abs(t),c);break;case"p":t=n._shiftDecimal(t,2,14),i&&(t=lu(t,c,i)),s=n._toFixedStr(p.abs(t),c);break;default:(s=n._toFixedStr(t,c))[0]!="-"||s.match(/[1-9]/)||(s=s.substr(1))}if((r||u=="g"||u=="r")&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),h!="."&&(s=s.replace(".",h)),f!="-"&&(s=s.replace("-",f)),d&&(u=="n"||u=="c"||a.specRaw=="p"||a.specRaw=="F"||a.specRaw=="G")){var g=s.indexOf(h),w=/\B(?=(\d\d\d)+(?!\d))/g;s=g>-1?s.substr(0,g).replace(w,d)+s.substr(g):s.replace(w,d)}if(u=="c"){var m=t<0&&s.match(/[1-9]/)?0:1,_=l.currency.pattern[m],v=a.curr||l.currency.symbol;v=="​"&&(v=""),s=_.replace("n",s).replace("$",v)}if(u=="p"){m=t<0&&s.match(/[1-9]/)?0:1,_=l.percent.pattern[m];var y=l["%"]||"%";s=_.replace("n",s),y!="%"&&(s=s.replace("%",y)),f!="-"&&m==0&&(s=s.replace("-",f))}return a.prefix||a.suffix?a.prefix+s+a.suffix:s},n.formatDate=function(t,e){switch(t=Nt(t),e){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return e=n._expandFormat(e),n._parseDateFormat(e).map(function(r){return n._formatDatePart(t,e,r)}).join("")},n.parseInt=function(t,e){return Math.round(n.parseFloat(t,e))},n.parseFloat=function(t,e){var r=n._parseNumericFormat(e),i=r.prefix;i&&t.indexOf(i)==0&&(t=t.substring(i.length));var o=r.suffix;if(o){var s=t.lastIndexOf(o);s>-1&&s==t.length-o.length&&(t=t.substring(0,t.length-o.length))}var l=oe.Globalize.numberFormat,a=l["."]||".",u=l[","]||",",c=l["-"]||"-",h=l["%"]||"%",d=r.curr||l.currency.symbol||"$",f=t.indexOf(h)>-1,p=t.indexOf("(")>-1&&t.indexOf(")")>-1,g=0;if(r.spec=="x")g=parseInt(t,16);else{[d,h,"(",")"].forEach(function(m){t=t.replace(m,"")}),/\s/.test(u)&&(t=t.replace(/\s+/g,""));var w=(t=t.replace(new RegExp("\\"+u,"g"),"").replace(new RegExp("\\"+c,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(a,".").trim()).length;!p&&w&&t[w-1]=="-"&&(p=!0,t=t.substring(0,w-1)),g=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(t)?parseFloat(t):Number.NaN}return isNaN(g)||(p=p||g<0,g=Math.abs(g),f&&(g=n._shiftDecimal(g,-2)),p&&(g=-g),r.scale&&(g*=Math.pow(10,r.scale))),g},n.parseDate=function(t,e,r){if(!(t=L(t)))return null;if(e=="u")return new Date(t);var i;if(e=="R"||e=="r"){var o=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(i=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(i.setHours(parseInt(o[6])),i.setMinutes(parseInt(o[7])),i.setSeconds(o[8]?parseInt(o[9]):0))):i=new Date(t),isNaN(i.getTime())?null:i}e=n._expandFormat(e||"d");var s=oe.Globalize.calendar,l=n._CJK,a=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+l+"\\.]{2,})|(["+l+"]+)","gi"),u=t.match(a),c=n._parseDateFormat(e),h=0;if(!(u&&u.length&&c&&c.length))return null;var d,f,p,g,w,m=-1,_=0,v=1,y=0,b=0,x=0,C=0,S=-1,M=null;(r=Nt(r,!0))&&(_=r.getMonth(),v=r.getDate(),y=r.getHours(),b=r.getMinutes(),x=r.getSeconds(),C=r.getMilliseconds());for(var I=0;I<c.length&&u;I++){var N=I-h,R=N>-1&&N<u.length?u[N]:"",V=c[I].length;switch(c[I]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":w=c[I];case"yyyy":case"yyy":case"yy":case"y":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),m=parseInt(R),g=R.length==4;break;case"MMMM":case"MMM":p=!0,_=-1;for(var X=R.toLowerCase(),tt=c[I]=="MMMM"?s.months:s.monthsAbbr,Fe=0;Fe<12;Fe++)if(tt[Fe].toLowerCase().indexOf(X)==0){_=Fe;break}if(_>-1)break;case"MM":case"M":p=!0,V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),_=parseInt(R)-1;break;case"dddd":case"ddd":d=!0;break;case"dd":case"d":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),v=parseInt(R),f=!0;break;case"hh":case"h":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),y=(y=parseInt(R))==12?0:y;break;case"HH":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),y=parseInt(R);break;case"H":y=parseInt(R);break;case"mm":case"m":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),b=parseInt(R);break;case"ss":case"s":V>1&&R.length>V&&(u[N]=R.substr(V),R=R.substr(0,V),h++),x=parseInt(R);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":C=parseInt(R)/Math.pow(10,V-3);break;case"tt":case"t":R=R.toUpperCase(),y<12&&s.pm.indexOf(R)>-1&&(y+=12);break;case"q":case"Q":case"u":case"U":S=parseInt(R);break;case"ggg":case"gg":case"g":if(M=s.eras.length>1?n._getEra(R,s):null,s.eras.length>0&&!M)return null;break;case"/":case":":if(R&&R!=s[c[I]])return null;break;case s["/"]:case s[":"]:if(R&&R!=c[I])return null;break;case"K":break;default:n._unquote(c[I]).trim()!=R.trim()&&h++}}if(p&&f&&(isNaN(y)&&(y=0),isNaN(b)&&(b=0),isNaN(x)&&(x=0)),_<0||_>11||isNaN(_)||v<1||v>31||isNaN(v)||y<0||y>=24||isNaN(y)||b<0||b>=60||isNaN(b)||x<0||x>=60||isNaN(x)||u.length+h>c.length)return null;if(w){if(!p)return null;var Ye=oe.Globalize.calendar;if(We(Ye.fiscalYearOffsets)){var D=w[0]=="E",G=_-Ye.fiscalYearOffsets[D?0:1];m+=G>11?-1:G<0?1:0}}if(d&&!f)return null;if(!p&&S>=1&&S<=4&&(_=3*(S-1)),isNaN(m)||m<0)m=r?r.getFullYear():new Date().getFullYear();else if(M&&M.start)m=m+M.start.getFullYear()-1;else if(m<100&&!g){var Y=ue(s.twoDigitYearMax)?s.twoDigitYearMax:2029;Y>99&&(m+=m+2e3<=Y?2e3:1900)}return(i=W.newDate(m,_,v,y,b+0,x,C)).getMonth()!=_||i.getDate()!=v||isNaN(i.getTime())?null:i},n.getFirstDayOfWeek=function(){var t=oe.Globalize.calendar.firstDay;return t||0},n.getNumberDecimalSeparator=function(){var t=oe.Globalize.numberFormat["."];return t||"."},n._toFixedStr=function(t,e){var r=t.toString(),i=r.indexOf("."),o=e-(r.length-i)+1,s=r.indexOf("e")>-1;return!s&&i>-1&&o>=0?r+Array(o+1).join("0"):(i>-1&&!s&&r[r.length-1]=="5"&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1)),t.toFixed(e))},n._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&(t[0]=="'"||t[0]=='"')?t.substr(1,t.length-2):t},n._parseNumericFormat=function(t){var e=n._numFormatInfo[t];if(!e){var r=t&&t.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],i=r[3]?r[3]:"n";i.length>1&&(r=[],i="n"),e={prefix:r[2]||"",spec:i.toLowerCase(),specRaw:i,prec:r[4]?parseInt(r[4]):null,scale:r[5]?3*r[5].length:0,suffix:r[7]||"",curr:r[8]||null},n._numFormatInfo[t]=e}return e},n._parseDateFormat=function(t){var e=n._dateFormatParts[t];if(!e){if(e=[],t){var r=void 0,i=void 0;for(r=0;r>-1&&r<t.length;r++){var o=t[r];if((o=="'"||o=='"')&&(i=t.indexOf(o,r+1))>-1)e.push(t.substring(r,i+1)),r=i;else if(o=="\\"&&r<t.length-1)r++,e.push('"'+t[r]+'"');else{for(i=r+1;i<t.length&&t[i]==o;i++);e.push(t.substring(r,i)),r=i-1}}}n._dateFormatParts[t]=e}return e},n._formatDatePart=function(t,e,r){var i,o=oe.Globalize.calendar,s=null,l=0,a=0,u=r.length;switch(r){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":l=(i=r[0]=="E"?W.toFiscal(t,!0):r[0]=="e"?W.toFiscal(t,!1):t).getFullYear(),o.eras.length>1&&e.indexOf("g")>-1&&(s=n._getEra(t,o))&&(l=Me(s.start)?l-s.start.getFullYear()+1:Math.abs(l));var c=r.length<3?l%100:r.length==3?l%1e3:l;return n._zeroPad(c,r.length);case"MMMMM":return o.monthsAbbr[t.getMonth()][0];case"MMMM":return o.months[t.getMonth()];case"MMM":return o.monthsAbbr[t.getMonth()];case"MM":case"M":return n._zeroPad(t.getMonth()+1,u);case"dddd":return o.days[t.getDay()];case"ddd":return o.daysAbbr[t.getDay()];case"dd":return n._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return n._zeroPad(n._h12(t),u);case"HH":case"H":return n._zeroPad(t.getHours(),u);case"mm":case"m":return n._zeroPad(t.getMinutes(),u);case"ss":case"s":return n._zeroPad(t.getSeconds(),u);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return a=t.getMilliseconds()*Math.pow(10,u-3),r[0]=="f"?n._zeroPad(a,u):a.toFixed(0);case"tt":return t.getHours()<12?o.am[0]:o.pm[0];case"t":return t.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return i=W.toFiscal(t,r=="U"),(Math.floor(i.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=n._getEra(t,o))){if(Q(s))return s;switch(r){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[r];case"K":var h=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":var d=-t.getTimezoneOffset(),f=Math.abs(d),p=n.formatNumber,g=void 0;switch(r){case"zzz":g=p(f/60,"d2",!1,!0)+o[":"]+p(f%60,"d2",!1,!0);break;case"zz":g=p(f/60,"d2",!1,!0);break;case"z":g=p(f/60,"d1",!1,!0)}return(d>=0?"+":"-")+g}return u>1&&r[0]==r[u-1]&&(r[0]=='"'||r[0]=="'")?r.substr(1,u-2):r},n._getEra=function(t,e){if(e.eras){var r=e.eras,i=e.eras.length;if(Me(t)){if(Q(r[0]))return r[t.getFullYear()>=0?0:1];if(Me(r[0].start)){for(var o=0;o<i;o++)if(t>=r[o].start)return r[o];return r[i-1]}}else if(Q(t)&&t.length>0)for(t=t.toLowerCase(),o=0;o<i;o++){var s=r[o];if(Q(s)){if(s.toLowerCase().indexOf(t)==0)return s}else if(s.name&&s.name.toLowerCase().indexOf(t)==0||s.symbol&&s.symbol.toLowerCase().indexOf(t)==0)return s}}return null},n._expandFormat=function(t){var e=oe.Globalize.calendar.patterns[t];return e||t},n._zeroPad=function(t,e){var r=t.toFixed(0),i=e-r.length+1;return i>0?Array(i).join("0")+r:r},n._h12=function(t){var e=oe.Globalize.calendar,r=t.getHours();return e.am&&e.am[0]&&(r%=12)==0&&(r=12),r},n._shiftDecimal=function(t,e,r){if(e==0||isNaN(t))return t;var i=t.toString();if(i.indexOf("e")>-1){var o=t*Math.pow(10,e);return r!=null&&(o=parseFloat(o.toFixed(r))),o}var s=Array(Math.abs(e)+1).join("0");e<0&&(i=s+i);var l=i.indexOf(".");return l<0&&(l=(i+=".").indexOf(".")),e>0&&(i+=s),l+=e,i=(i=i.replace(".","")).substr(0,l)+"."+i.substr(l),parseFloat(i)},n._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),n._numFormatInfo={},n._dateFormatParts={},n}();function _v(n){oe=n}function Si(n,t){var e=typeof window<"u"?window.wijmo:null,r=e?e.culture:null,i=r?r[n]:null;oe[n]=i||t}var Br=function(){function n(t,e,r){e===void 0&&(e=""),r===void 0&&(r="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=L(e),this.input=t,this.promptChar=L(r,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(n.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=L(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){if(t!=this._promptChar){B((t=L(t,!1)).length==1,"promptChar must be a string with length 1.");for(var e=this._tbx,r=e.value,i="",o=this._mskArr,s=this._promptChar,l=0;l<r.length;l++){var a=o[l],u=r[l];a&&a.literal||u!==s||(u=t),i+=u}e.value=i,this._promptChar=t}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(t){this._overWrite=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),n.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},n.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",r=0;r<this._mskArr.length&&r<t.length;r++)this._mskArr[r].literal||t[r]==this._promptChar||(e+=t[r]);return e},n.prototype.refresh=function(){this._parseMask(),this._valueChanged()},n.prototype._input=function(t){var e=this;this._msk&&!this._composing&&t!=this._evtInput&&(t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){e._valueChanged(),e._tbx&&e._tbx.dispatchEvent(e._evtInput)}))},n.prototype._keydown=function(t){if(t.keyCode==E.Back){var e=this._tbx.selectionStart,r=this._tbx.selectionEnd;if(e<=this._firstPos&&r==e){t.preventDefault(),this._backSpace=!1;return}}this._backSpace=t.keyCode==E.Back},n.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},n.prototype._cmpstart=function(t){this._composing=!0},n.prototype._cmpend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){var r=e._tbx;r&&e._valueChanged()&&r.dispatchEvent(e._evtInput)}))},n.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,r=e.selectionStart,i=String.fromCharCode(t);if(r<this._firstPos&&J(e,r=this._firstPos),r>=this._mskArr.length)return!0;var o=this._mskArr[r];if(o.literal)this._validatePosition(r);else if(o.wildCard!=i&&!this._isCharValid(o.wildCard,i))return!0}return!1},n.prototype._connect=function(t){var e=this._tbx;e&&(B(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._inputBnd,!0),e.addEventListener("keydown",this._keydownBnd,!0),e.addEventListener("keypress",this._keypressBnd,!0),e.addEventListener("compositionstart",this._cmpstartBnd,!0),e.addEventListener("compositionend",this._cmpendBnd,!0),e.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._inputBnd,!0),e.removeEventListener("keydown",this._keydownBnd,!0),e.removeEventListener("keypress",this._keypressBnd,!0),e.removeEventListener("compositionstart",this._cmpstartBnd,!0),e.removeEventListener("compositionend",this._cmpendBnd,!0),e.removeEventListener("blur",this._cmpendBnd,!0)))},n.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.selectionStart,r=e>0?t.value[e-1]:"",i=t.value;t.value=this._applyMask(),i==""&&(e=this._firstPos+1);var o=e>0?t.value[e-1]:"";return e>0&&o==this._promptChar&&r!=this.promptChar&&e--,e==i.length&&(e=this._matchEnd),this._validatePosition(e),i!=t.value},n.prototype._applyMask=function(){var t=this._tbx,e=t.value;if(this._full=!0,this._matchEnd=0,!this._msk||!e&&!t.required)return e;if(this._overWrite){var r=t.selectionStart;t==document.activeElement&&t.selectionEnd==r&&e.length>this.mask.length&&(e=e.substr(0,r)+e.substr(r+e.length-this.mask.length))}e=this._handleVagueLiterals(e);for(var i="",o=0,s=this._promptChar,l=0;l<this._mskArr.length;l++){var a=this._mskArr[l],u=a.literal;if(u&&u==e[o]&&o++,a.wildCard){if(u=s,e){for(var c=o;c<e.length;c++)if(this._isCharValid(a.wildCard,e[c])){switch(u=e[c],a.charCase){case">":u=u.toUpperCase();break;case"<":u=u.toLowerCase()}u!=s&&(this._matchEnd=i.length+1);break}o=c+1}u==s&&(this._full=!1)}i+=u}return i},n.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(e!=0&&t.length>1){for(var r=-1,i=this._tbx,o=i==Z()?i.selectionStart:i.value.length,s=Math.max(0,o-e);s<this._mskArr.length;s++)if(this._mskArr[s].vague){r=s;break}if(r>-1)if(e<0){var l=Array(1-e).join(this._promptChar),a=r+e;a>-1&&(t=t.substr(0,a)+l+t.substr(a))}else{for(;r>0&&this._mskArr[r-1].literal;)r--;t=t.substr(0,r)+t.substr(r+e)}}return t},n.prototype._isCharValid=function(t,e){if(e==this._promptChar)return!0;switch(t){case"0":return this._isDigit(e);case"9":return this._isDigit(e)||e==" ";case"#":return this._isDigit(e)||e==" "||e=="+"||e=="-";case"L":return this._isLetter(e);case"l":return this._isLetter(e)||e==" ";case"A":return this._isDigit(e)||this._isLetter(e);case"a":return this._isDigit(e)||this._isLetter(e)||e==" ";case"９":return e>="０"&&e<="９";case"Ｊ":case"Ｇ":return!(t=="Ｇ"&&n._X_DBCS_BIG_HIRA.indexOf(e)>-1)&&e>="ぁ"&&e<="ゟ";case"Ｋ":case"Ｎ":return!(t=="Ｎ"&&n._X_DBCS_BIG_KATA.indexOf(e)>-1)&&e>="゠"&&e<="ヿ";case"Ｚ":return!(e>="ｦ"&&e<="ﾟ")&&(e<="!"||e>="ÿ");case"H":return e>="!"&&e<="ÿ"||e>="ｦ"&&e<="ﾟ";case"K":case"N":return!(t=="N"&&n._X_SBCS_BIG_KATA.indexOf(e)>-1)&&e>="ｦ"&&e<="ﾟ"}return!1},n.prototype._isDigit=function(t){return t>="0"&&t<="9"},n.prototype._isLetter=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},n.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(t==0||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;Z()==this._tbx&&J(this._tbx,t),this._backSpace=!1},n.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,r="|",i=0;e&&i<e.length;i++)switch(e[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"９":case"Ｊ":case"Ｇ":case"Ｋ":case"Ｎ":case"Ｚ":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new no(e[i],r));break;case".":case",":case":":case"/":case"$":switch(e[i]){case".":case",":t=oe.Globalize.numberFormat[e[i]];break;case":":case"/":t=oe.Globalize.calendar[e[i]];break;case"$":t=oe.Globalize.numberFormat.currency.symbol}for(var o=0;o<t.length;o++)this._mskArr.push(new no(t[o]));break;case"<":case">":case"|":r=e[i];break;case"\\":i<e.length-1&&i++,this._mskArr.push(new no(e[i]));break;default:this._mskArr.push(new no(e[i]))}for(i=0;i<this._mskArr.length;i++){var s=this._mskArr[i];if(s.literal)for(o=0;o<i;o++){var l=this._mskArr[o];if(l.wildCard&&this._isCharValid(l.wildCard,s.literal)){s.vague=!0;break}}}},n._X_DBCS_BIG_HIRA="ぁぃぅぇぉっゃゅょゎゕゖ",n._X_DBCS_BIG_KATA="ァィゥェォッャュョヮヵヶ",n._X_SBCS_BIG_KATA="ｧｨｩｪｫｬｭｮｯ",n}(),no=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t},xe;(function(n){n[n.None=0]="None",n[n.Sum=1]="Sum",n[n.Cnt=2]="Cnt",n[n.Avg=3]="Avg",n[n.Max=4]="Max",n[n.Min=5]="Min",n[n.Rng=6]="Rng",n[n.Std=7]="Std",n[n.Var=8]="Var",n[n.StdPop=9]="StdPop",n[n.VarPop=10]="VarPop",n[n.CntAll=11]="CntAll",n[n.First=12]="First",n[n.Last=13]="Last"})(xe||(xe={}));function kl(n,t,e){var r=0,i=0,o=0,s=0,l=null,a=null,u=null,c=e?new lt(e):null;if((n=ye(n,xe))==xe.CntAll)return t.length;for(var h=0;h<t.length;h++){var d=t[h];if(c&&(d=c.getValue(d)),d!=null){if(n==xe.First)return d;r++,(l==null||d<l)&&(l=d),(a==null||d>a)&&(a=d),u=d,ue(d)&&!isNaN(d)?(i++,o+=d,s+=d*d):Je(d)&&(i++,d==1&&(o++,s++))}}var f=i==0?0:o/i;switch(n){case xe.Avg:return f;case xe.Cnt:return r;case xe.Max:return a;case xe.Min:return l;case xe.Rng:return a-l;case xe.Sum:return o;case xe.VarPop:return i<=1?0:s/i-f*f;case xe.StdPop:return i<=1?0:Math.sqrt(s/i-f*f);case xe.Var:return i<=1?0:(s/i-f*f)*i/(i-1);case xe.Std:return i<=1?0:Math.sqrt((s/i-f*f)*i/(i-1));case xe.Last:return u}throw"Invalid aggregate type."}var Mo=function(n){In(t,n);function t(){var e=this;return tl?e.length=0:e=n.call(this)||this,e}return t}(Array),tl=!0;try{Mo.prototype=Array.prototype,tl=Mo.prototype===Array.prototype}catch{tl=!1}var sa=typeof window<"u"?window.Symbol:null;!tl&&sa&&sa.species&&Object.defineProperty(Mo,sa.species,{get:function(){return Array},enumerable:!1,configurable:!1});var $t=function(n){In(t,n);function t(e){var r=n.call(this)||this;if(r._updating=0,r.collectionChanged=new P,e){e=mt(e),r._updating++;for(var i=0;i<e.length;i++)r.push(e[i]);r._updating--}return r}return t.prototype.push=function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.forEach(function(o){n.prototype.push.call(e,o),e._raiseCollectionChanged(Oe.Add,o,e.length-1)}),this.length},t.prototype.shift=function(){var e=n.prototype.shift.call(this);return this._raiseCollectionChanged(Oe.Remove,e,0),e},t.prototype.unshift=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.prototype.unshift.apply(this,e);return e.length==1?this._raiseCollectionChanged(Oe.Add,e[0],0):this._raiseCollectionChanged(),i},t.prototype.pop=function(){var e=n.prototype.pop.call(this);return this._raiseCollectionChanged(Oe.Remove,e,this.length),e},t.prototype.splice=function(e,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s,l=Oe,a=this._raiseCollectionChanged.bind(this);return r&&i.length?(s=n.prototype.splice.apply(this,[e,r].concat(i)),r==1&&i.length==1?a(l.Change,i[0],e):a()):i.length?(s=n.prototype.splice.apply(this,[e,0].concat(i)),i.length==1?a(l.Add,i[0],e):a()):(s=n.prototype.splice.call(this,e,r),r==1?a(l.Remove,s[0],e):a()),s},t.prototype.slice=function(e,r){return n.prototype.slice.call(this,e,r)},t.prototype.indexOf=function(e,r){return n.prototype.indexOf.call(this,e,r)},t.prototype.sort=function(e){var r=n.prototype.sort.call(this,e);return this._raiseCollectionChanged(),r},t.prototype.insert=function(e,r){this.splice(e,0,r)},t.prototype.remove=function(e){var r=this.indexOf(e);return r>-1&&this.removeAt(r),r>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,r){e>=this.length&&(this.length=e+1),this.splice(e,1,r)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return e=="INotifyCollectionChanged"},t.prototype.onCollectionChanged=function(e){e===void 0&&(e=Zt.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,r,i){if(e===void 0&&(e=Oe.Reset),!this.isUpdating){var o=new Zt(e,r,i);this.onCollectionChanged(o)}},t}(Mo),Mn;(function(n){n[n.Natural=0]="Natural",n[n.First=1]="First",n[n.Last=2]="Last"})(Mn||(Mn={}));var la=2,on=function(){function n(t,e){var r=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new $t,this._srtDsc=new $t,this._grpDesc=new $t,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=Mn.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new $t,this._chgRemoved=new $t,this._chgEdited=new $t,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new P,this.sourceCollectionChanging=new P,this.sourceCollectionChanged=new P,this.currentChanged=new P,this.currentChanging=new P,this.pageChanged=new P,this.pageChanging=new P,this._srtDsc.collectionChanged.addHandler(function(){r._srtDsc.forEach(function(i){B(i instanceof ji,"sortDescriptions array must contain SortDescription objects.")}),r.canSort&&r._commitAndRefresh()}),this._grpDesc.collectionChanged.addHandler(function(){r._grpDesc.forEach(function(i){B(i instanceof pc,"groupDescriptions array must contain GroupDescription objects.")}),r.canGroup&&r._commitAndRefresh()}),this._filters.collectionChanged.addHandler(function(){r._filters.forEach(function(i){B(ee(i),"filters array must contain IPredicate functions.")}),r.canFilter&&r._commitAndRefresh()}),this.sourceCollection=t||new $t,e&&(this._initializing=!0,this.deferUpdate(function(){Ei(r,e)}),this._initializing=!1),this._keepCurrentItem==null&&(this._keepCurrentItem=!0)}return n.prototype._copy=function(t,e){switch(t){case"sortDescriptions":var r=this.sortDescriptions;return r.deferUpdate(function(){r.clear(),mt(e).forEach(function(o){Q(o)?o=new ji(o,!0):o instanceof ji||!o.property||(o=new ji(o.property,o.ascending)),r.push(o)})}),!0;case"groupDescriptions":var i=this.groupDescriptions;return i.deferUpdate(function(){i.clear(),e.forEach(function(o){Q(o)&&(o=new su(o)),i.push(o)})}),!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(n.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(t){if(t&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),t=null),t!=this._calcFields){this._calcFields=t;var e=this._srcRaw;this._srcRaw=null,this.sourceCollection=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=ke(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=ke(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=ke(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=k(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(t){(t=ye(t,Mn))!=this._srtNulls&&(this._srtNulls=t,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=Mn.Last},set:function(t){xl("sortNullsFirst","sortNulls"),this.sortNulls=k(t)?Mn.First:Mn.Last},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,r){return kl(t,r?this._pgView:this._view,e)},Object.defineProperty(n.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),n.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},n.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(n.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=ke(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),n.prototype.onCollectionChanged=function(t){t===void 0&&(t=Zt.reset),t.action!=Oe.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this._updating||this.collectionChanged.raise(this,t)},n.prototype._raiseCollectionChanged=function(t,e,r){t===void 0&&(t=Oe.Reset);var i=new Zt(t,e,r);this.onCollectionChanged(i)},n.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},n.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(n.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(j(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=ke(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._srcRaw){if(!this.onSourceCollectionChanging(new we))return;var e=this.currentPosition;this.commitEdit(),this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=t,this._src=mt(t,!1),this._calcFields&&(this._src=Mp(this._src,this._calcFields)),this._ncc=Wt(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),n.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},n.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},n.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},n.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},n.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},n.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},n.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},n.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new we;if(this.onCurrentChanging(e)){var r=this._pgView[t],i=Op(r),o=this._edtItem,s=this._newItem;o&&o!=r&&o!=i?this.commitEdit():s&&s!=r&&s!=i&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},n.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var t=this.currentItem;this._performRefresh(),this.onCollectionChanged(),t==this.currentItem||this._initializing||this.onCurrentChanged()}},n.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},n.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=ce(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem&&t!=null?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups)}},n.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(o,s){return{item:o,index:s}}),r=this._compareItems();e.sort(function(o,s){var l=r(o.item,s.item);return l==0?o.index-s.index:l});for(var i=0;i<t.length;i++)t[i]=e[i].item}else t.sort(this._compareItems())},n.prototype._compareItems=function(){var t=this,e=this._srtDsc,r=this._srtCvt,i=this._srtCmp,o=n._collator,s=!0,l=0;return function(a,u){for(var c=0;c<e.length;c++){var h=e[c],d=h._bnd.getValue(a),f=h._bnd.getValue(u);if(r&&(d=r(h,a,d,s),f=r(h,u,f,!1),s=!1),i&&(l=i(d,f))!=null){if(l!=0)return h.ascending?+l:-l}else{if(d!=d&&(d=null),f!=f&&(f=null),d!==f&&(d==null||f==null))switch(t._srtNulls){case Mn.First:return d==null?-1:1;case Mn.Last:return d==null?1:-1;default:return l=d==null?-1:1,h.ascending?+l:-l}if(typeof d=="string"&&typeof f=="string"){if(o){if((l=o.compare(d,f))!=0)return h.ascending?+l:-l;continue}var p=d.toLowerCase(),g=f.toLowerCase();p!=g&&(d=p,f=g)}if((l=d<f?-1:d>f?1:0)!=0)return h.ascending?+l:-l}}return 0}},n.prototype._performFilter=function(t){return this.canFilter&&this._filter||this._filters.length?t.filter(this._filterItem,this):t},n.prototype._filterItem=function(t){for(var e=!this.canFilter||!this._filter||this._filter(t),r=0;r<this._filters.length&&e;r++)e=this._filters[r](t);return e},n.prototype.onCurrentChanged=function(t){this.currentChanged.raise(this,t)},n.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(n.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),n.prototype.beginUpdate=function(){this._updating++},n.prototype.endUpdate=function(t){t===void 0&&(t=!0),this._updating--,t&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),n.prototype.deferUpdate=function(t,e){e===void 0&&(e=!0);try{this.beginUpdate(),t()}finally{this.endUpdate(e)}},Object.defineProperty(n.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){t!=this._canAddNew&&(this._canAddNew=k(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),n.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone=this._extend({},this._edtItem))},n.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(t!=null){this._committing=!0;var r=this._getChangedFields(t,e),i=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var o=this._pgView.indexOf(t),s=this._digest;if(this._needRefresh(r)&&this._refreshOnEdit&&this._performRefresh(),r&&this._trackItemChanged(t,e),this._pgView.indexOf(t)!=o||s!=this._digest||i?this._raiseCollectionChanged():this._raiseCollectionChanged(Oe.Change,t,o),this.commitNew(),this._committing=!1,this.sourceCollection instanceof $t){this._updating++;var l=new Zt(Oe.Change,t);this.sourceCollection.onCollectionChanged(l),this._updating--}}},n.prototype.cancelEdit=function(){var t=this._edtItem;if(t!=null){if(this._edtItem=null,!this.canCancelEdit)return;var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Oe.Change,t,e),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},n.prototype.addNew=function(t,e){if(e===void 0&&(e=!1),this.commitEdit(),!this.canAddNew)return null;var r=this.sourceCollection;if(t==null&&(t=this.newItemCreator?this.newItemCreator():r&&r.length?new r[0].constructor:{}),t!=null){if(this._updating++,r.push(t),this._updating--,t=r[r.length-1],this._newItem=t,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var i=this.groups[this.groups.length-1];for(i.items.push(t);i.groups&&i.groups.length;)(i=i.groups[i.groups.length-1]).items.push(t)}this._raiseCollectionChanged(Oe.Add,t,this._pgView.length-1),this.moveCurrentTo(t),e&&this.commitNew()}return this._newItem},n.prototype.commitNew=function(){var t=this._newItem;if(t!=null){this._newItem=null;var e=this._pgView.indexOf(t),r=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var i=this._chgEdited.indexOf(t);i>-1&&this._chgEdited.removeAt(i),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)!=e||r!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(Oe.Change,t,e)}},n.prototype.cancelNew=function(){var t=this._newItem;t!=null&&this.remove(t)},n.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var r=this._src.indexOf(t);if(r>-1){var i=this._view.indexOf(t)<0,o=this.currentItem;this._updating++,this._src.splice(r,1),this._updating--;var s=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var l=this._pgView.indexOf(t);l>=0&&this._pgView.splice(l,1)}if(this._trackChanges){var a=this._chgAdded.indexOf(t);a>-1&&this._chgAdded.removeAt(a);var u=this._chgEdited.indexOf(t);u>-1&&this._chgEdited.removeAt(u),this._chgRemoved.indexOf(t)<0&&!e&&a<0&&this._chgRemoved.push(t)}var c=this.sortDescriptions.length>0,h=this.pageSize>0&&this._pgIdx>-1;c||h||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():i||this._raiseCollectionChanged(Oe.Remove,t,r),this.currentItem!==o&&this.onCurrentChanged()}}},n.prototype.removeAt=function(t){t=Ee(t),this.remove(this._pgView[t])},n.prototype._trackItemChanged=function(t,e){if(this._trackChanges){var r=this.sourceCollection;if(r&&r.indexOf(t)>-1){var i=this._orgVals,o=i?i.get(t):null;e&&!o&&i&&(i.set(t,e),o=e);var s=this._chgEdited.indexOf(t),l=Oe.Change;if(o&&this._sameContent(t,o)&&s>-1){this._chgEdited.removeAt(s),i.delete(t);return}if(s<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(s>-1){var a=new Zt(l,t,s);this._chgEdited.onCollectionChanged(a)}else(s=this._chgAdded.indexOf(t))>-1&&(a=new Zt(l,t,s),this._chgAdded.onCollectionChanged(a))}}},n.prototype._extend=function(t,e,r){r===void 0&&(r=la);for(var i in e)try{var o=e[i];r>0&&ot(o)?(t[i]={},this._extend(t[i],o,r-1)):t[i]=o}catch{}return t},n.prototype._getChangedFields=function(t,e,r){r===void 0&&(r=la),B(e!=null&&t!=null,"Two objects expected.");var i={};for(var o in e)try{this._sameValue(t[o],e[o],r)||(i[o]=!0)}catch{}for(var o in t)try{i[o]||this._sameValue(t[o],e[o],r)||(i[o]=!0)}catch{}var s=Object.keys(i);return s.length?s:null},n.prototype._sameValue=function(t,e,r){return r===void 0&&(r=la),!(t!==e&&!W.equals(t,e))||!(!ot(t)||!ot(e))&&(!(r>0)||this._getChangedFields(t,e,r-1)==null)},n.prototype._sameContent=function(t,e){return this._getChangedFields(t,e)==null},n.prototype._needRefresh=function(t){if(this._pendingRefresh)return!0;if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++){var r=this._getBindingRoot(this._srtDsc[e].property);if(t.indexOf(r)>-1)return!0}for(e=0;e<this._grpDesc.length;e++){var i=this._grpDesc[e];if(!(i instanceof su)||(r=this._getBindingRoot(i.propertyName),t.indexOf(r)>-1))return!0}return!1},n.prototype._getBindingRoot=function(t){var e=t.indexOf(".");return e>-1?t.substr(0,e):t},Object.defineProperty(n.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=Ee(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),n.prototype.moveToFirstPage=function(){return this.moveToPage(0)},n.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},n.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},n.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},n.prototype.moveToPage=function(t){var e=ce(t,0,this.pageCount-1);if(e!=this._pgIdx){if(!this.canChangePage)return!1;var r=new jp(e);if(this.onPageChanging(r)&&this.onCurrentChanging(r)){this.commitEdit(),this.commitNew();var i=this.currentItem;this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():(this.onCollectionChanged(),i!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==t},n.prototype.onPageChanged=function(t){this.pageChanged.raise(this,t)},n.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},n.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return e!=null&&(t=e),t},n.prototype._getGroupByPath=function(t,e,r){if(t)for(var i=0;i<t.length;i++){var o=t[i];if(o.level==e&&o._path==r||o.level<e&&r.indexOf(o._path)==0&&(o=this._getGroupByPath(o.groups,e,r))!=null)return o}return null},n.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},n.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var r=[],i={},o=null;return t.forEach(function(s){for(var l=r,a=e._grpDesc.length,u="",c=0;c<a;c++){var h=e._grpDesc[c],d=h.groupNameFromItem(s,c),f=c==a-1;!(o=i[u])&&Tr(d)&&(o={},i[u]=o);var p=e._getGroup(h,l,o,d,c,f);u+="/"+d,p._path=u,f&&p.items.push(s),l=p.groups}}),r},n.prototype._getGroupsDigest=function(t){for(var e="",r=0;t!=null&&r<t.length;r++){var i=t[r];e+="{"+i.name+":"+(i.items?i.items.length:"*"),i.groups.length>0&&(e+=",",e+=this._getGroupsDigest(i.groups)),e+="}"}return e},n.prototype._mergeGroupItems=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];if(!i._isBottomLevel)for(var o=this._mergeGroupItems(i.groups),s=0,l=o.length;s<l;s++)i._items.push(o[s]);for(s=0,l=i._items.length;s<l;s++)e.push(i._items[s])}return e},n.prototype._getGroup=function(t,e,r,i,o,s){var l;if(r&&Tr(i)){if(l=r[i])return l}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,i))return e[a];var u=new yn(t,i,o,s);return e.push(u),r&&(r[i]=u),u},n._collator=typeof window<"u"&&window.Intl&&Intl.Collator?new Intl.Collator:null,n}(),yn=function(){function n(t,e,r,i){this._gd=t,this._name=e,this._level=r,this._isBottomLevel=i,this._groups=[],this._items=[]}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,r){var i=Wt(r,on);return kl(t,(i?i._getFullGroup(this):this).items,e)},n}(),yc=typeof window<"u"&&window["wj-control-is-element"]?HTMLElement:Object,uu=!1;try{var Kh=function(){};Kh.prototype=Array.prototype,uu=Kh.prototype!==Array.prototype}catch{uu=!0}var mv=uu||yc!==Object,Vp=function(n){In(t,n);function t(){var e=this;return mv&&(e=n.call(this)||this),e}return t}(yc),O=function(n){In(t,n);function t(e,r,i){i===void 0&&(i=!1);var o=n.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new P,o.lostFocus=new P,o.invalidInput=new P,o.refreshing=new P,o.refreshed=new P,o._updateWme(),B(t.getControl(e)==null,"Element is already hosting a control.");var s=Gn(e);B(s!=null,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgInner=s.innerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,s.tagName!="INPUT"&&s.tagName!="SELECT"||(s=o._replaceWithDiv(s)),o._e=s,s[t._CTRL_KEY]=o;var l=o.addEventListener.bind(o);if(i==1){o._szCtl=new Xt(s.offsetWidth,s.offsetHeight);var a=window.ResizeObserver,u=null;a&&(u=o._szObserver=new a(function(d){return o._resizeObserverCallback(d)})),u?u.observe(s):l(window,"resize",o._handleResize.bind(o))}var c=o._handleFocusBlur.bind(o);l(s,"focus",c,!0),l(s,"blur",c,!0);var h=o._handleDisabled.bind(o);return l(s,"mousedown",h,!0),l(s,"mouseup",h,!0),l(s,"click",h,!0),l(s,"dblclick",h,!0),l(s,"wheel",h,Js(!0,!0)),l(s,"keydown",function(d){o.isDisabled&&d.keyCode!=E.Tab&&d.preventDefault()}),t._ctlCnt==0&&Yh(!0),t._ctlCnt++,o}return t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var r=e.constructor.controlTemplate;if(r)return r}return null},t.prototype.applyTemplate=function(e,r,i,o){var s=this,l=this._e;e&&ie(l,e);var a=null;r&&(a=_e(r,l));for(var u=l.querySelectorAll("a.wj-btn"),c=0;c<u.length;c++){var h=u[c];A(h,"role","button",!0),A(h,"href","",!0),A(h,"draggable",!1,!0)}var d=l.querySelectorAll("button");for(c=0;c<d.length;c++)A(d[c],"type","button",!0);var f=l.querySelectorAll("input"),p=f.length==1?f[0]:null;if(p){var g=t._rxInputAtts;this._copyAttributes(p,l.attributes,g),this._copyAttributes(p,this._orgAtts,g)}if(p&&l.id){for(var w=l;w.parentElement;)w=w.parentElement;var m=w.querySelector('label[for="'+l.id+'"]');if(m instanceof HTMLLabelElement){var _=_c(l.id+"_input");p.id=_,m.htmlFor=_}}if(p){var v=p.value,y=!0,b=!1,x=document.createEvent("HTMLEvents");x.initEvent("change",!0,!1),this.gotFocus.addHandler(function(){y=!1,b=!0,v=p.value}),this.addEventListener(l,"focusin",function(R){y&&(b=!0,y=!1,v=p.value)}),this.addEventListener(p,"input",function(){s._pristine=!1,setTimeout(function(){v=p.value})}),this.addEventListener(p,"change",function(R){R.isTrusted&&(v=p.value)});var C=function(){s._containsFocus()||(y=!0,s._pristine&&(s._pristine=!1,s._updateState()),b&&v!=p.value&&(v=p.value,p.dispatchEvent(x)),b=!1)};this.addEventListener(l,"blur",function(){C()}),this.lostFocus.addHandler(function(){C()})}if(p?l.tabIndex=-1:l.getAttribute("tabindex")||(l.tabIndex=0),this._updateState(),i)for(var S in i){var M=i[S];if(this[S]=a.querySelector('[wj-part="'+M+'"]'),this[S]==null&&a.getAttribute("wj-part")==M&&(this[S]=a),this[S]==null)throw'Missing template part: "'+M+'"';if(M==o){var I="name",N=l.attributes[I];N&&N.value&&this[S].setAttribute(I,N.value),I="accesskey",(N=l.attributes[I])&&N.value&&(this[S].setAttribute(I,N.value),l.removeAttribute(I))}}return a},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),r=0;r<e.length;r++){var i=t.getControl(e[r]);i&&i.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var o=this._szObserver;o&&o.disconnect(),this.removeEventListener();for(var s in this)s.length>2&&s.indexOf("on")==0&&(a=this[s[2].toLowerCase()+s.substr(3)])instanceof P&&a.removeAllHandlers();var l=this.collectionView;if(l instanceof on)for(var s in l){var a;(a=l[s])instanceof P&&a.removeHandler(null,this)}this._e.parentNode&&(this._orgOuter!=null&&(this._e.outerHTML=this._orgOuter),this._e.innerHTML=this._orgInner),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,t._ctlCnt--,t._ctlCnt==0&&Yh(!1),t._ctlInvalidInput===this&&(t._toInvalidInput&&(clearTimeout(t._toInvalidInput),t._toInvalidInput=null),t._toClearCtlInvalid&&(clearTimeout(t._toClearCtlInvalid),t._toClearCtlInvalid=null),t._ctlInvalidInput=null)}},t.getControl=function(e){var r=Gn(e);return r?Le(r[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return this._rtlDir==null&&(this._rtlDir=!!this._e&&getComputedStyle(this._e).direction=="rtl"),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&e.offsetHeight&&(this.isDisabled||!(e.tabIndex>=0)&&fo(e,0)||e.focus())},t.prototype.containsFocus=function(){return this._containsFocusImpl(Z())},t.prototype._containsFocus=function(){return this._containsFocusImpl(Fp())},t.prototype._containsFocusImpl=function(e){return q(this._e,e,!0)},t.prototype.invalidate=function(e){var r=this;e===void 0&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){r.refresh(r._fullUpdate),r._toInv=null},t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var r=this;this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout(function(){r.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var r=e.children;if(r)for(var i=0;i<r.length;i++)t.invalidateAll(r[i]);var o=t.getControl(e);o&&o.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var r=0;r<e.children.length;r++)t.refreshAll(e.children[r]);var i=t.getControl(e);i&&i.refresh()},t.disposeAll=function(e){var r=t.getControl(e);if(r)r.dispose();else if(e.children)for(var i=0;i<e.children.length;i++)t.disposeAll(e.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabOrder",{get:function(){return this._orgTabIndex},set:function(e){this._setTabOrder(e)},enumerable:!0,configurable:!0}),t.prototype._setTabOrder=function(e){var r=this._e;this._orgTabIndex=e;var i=r.querySelectorAll("input"),o=i.length===1?i[0]:null;r.tabIndex=this.isDisabled||o?-1:this._orgTabIndex,o&&(o.tabIndex=this._orgTabIndex)},Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute("disabled")!=null},set:function(e){this._setIsDisabled(e)},enumerable:!0,configurable:!0}),t.prototype._setIsDisabled=function(e){if((e=!!k(e,!0))!=this.isDisabled){var r=this._e;if(r){te(r,"wj-state-disabled",e),A(r,"disabled",e?"disabled":null),r.tabIndex=this.isDisabled||r.querySelectorAll("input").length===1?-1:this._orgTabIndex;for(var i=r.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),o=t._DSBL_KEY,s=0;s<i.length;s++){var l=i[s];if(e)l[o]=l.disabled,l.disabled=!0;else if(K(l,".wj-control.wj-state-disabled"))l[o]=l.disabled,l.disabled=!0;else{var a=l[o];Je(a)||(a=!1),l.disabled=a,delete l[o]}}}}},t.prototype.initialize=function(e){Ei(this,e)},t.prototype.addEventListener=function(e,r,i,o,s){if(e){o==null&&(o=!1),Je(o)&&s==null&&(r.indexOf("touch")>-1||r.indexOf("wheel")>-1)&&(s=!1);var l=Je(o)&&Je(s)?Js(o,s):o;e.addEventListener(r,i,l),this._listeners.push({target:e,type:r,fn:i,capture:o})}},t.prototype.removeEventListener=function(e,r,i,o){for(var s=0,l=0;l<this._listeners.length;l++){var a=this._listeners[l];e!=null&&e!=a.target||r!=null&&r!=a.type||i!=null&&i!=a.fn||o!=null&&o!=a.capture||(a.target.removeEventListener(a.type,a.fn,a.capture),this._listeners.splice(l,1),l--,s++)}return s},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){var r=this;if(this.invalidInput.raise(this,e),e.cancel){var i=t._FOCUS_INTERVAL+50;(t._ctlInvalidInput==null||t._ctlInvalidInput===this)&&(t._ctlInvalidInput=this,t._toInvalidInput&&clearTimeout(t._toInvalidInput),t._toClearCtlInvalid&&clearTimeout(t._toClearCtlInvalid),t._toInvalidInput=setTimeout(function(){t._toInvalidInput=null,r.focus(),t._toClearCtlInvalid=setTimeout(function(){t._ctlInvalidInput=null,t._toClearCtlInvalid=null},i)},i))}else t._ctlInvalidInput=null;return this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._updateWme=function(){var e=this._getProductInfo(),r=t._toWme,i=Gp;ee(i)&&!r[e]&&(r[e]=!0,i(this,t._licKey))},t.prototype._hasPendingUpdates=function(){return this._toInv!=null},t.prototype._handleResize=function(){if(this._e.parentElement){var e=new Xt(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._resizeObserverCallback=function(e){e.forEach(function(r){var i=t.getControl(r.target);i&&i._handleResize()})},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout(function(){e._toFocus=null,e._updateFocusState()},t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){setTimeout(function(){for(var e=xi.empty,r=document.body.querySelectorAll(".wj-state-focused"),i=0;i<r.length;i++)(a=t.getControl(r[i]))&&a._focus&&!a.containsFocus()&&(Rt(a._e,"wj-state-focus"),a._focus=!1,a._updateState(),a.onLostFocus(e));var o=Z();if(o)for(var s=!0,l=o;l;){var a;(a=t.getControl(l))&&!a._focus&&a.containsFocus()&&(s&&(ie(l,"wj-state-focus"),s=!1),a._focus=!0,a._updateState(),a.onGotFocus(e)),l=l[t._OWNR_KEY]||l.parentNode}})},t.prototype._updateState=function(){var e=this.hostElement;if(e){te(e,"wj-state-focused",this._focus),this._rtlDir=getComputedStyle(e).direction=="rtl",te(e,"wj-rtl",this._rtlDir);var r=e.querySelector("input");if(r instanceof HTMLInputElement){te(e,"wj-state-empty",r.value.length==0),te(e,"wj-state-readonly",r.readOnly);var i=r.validationMessage;te(e,"wj-state-invalid",!this._pristine&&i!=null&&i.length>0)}}},t.prototype._handleDisabled=function(e){(this.isDisabled||K(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var r=document.createElement("div");return e.parentElement.replaceChild(r,e),r.innerHTML=e.innerHTML,this._copyAttributes(r,e.attributes,/id|style|class/i),r},t.prototype._copyAttributes=function(e,r,i){if(e)for(var o=0;o<r.length;o++){var s=r[o].name;s.match(i)&&e.setAttribute(s,r[o].value)}},t.prototype._getKeyCode=function(e){var r=e.keyCode;if(this.rightToLeft)switch(r){case E.Right:r=E.Left;break;case E.Left:r=E.Right}return r},t._toWme={},t._ctlCnt=0,t._touching=!1,t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._DSBL_KEY="$WJ-DSBL",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(Vp);function Yh(n){if("ontouchstart"in window||"onpointerdown"in window){var t=document,e=Js(!0,!0),r=vv,i=yv,o=n?t.addEventListener.bind(t):t.removeEventListener.bind(t);"ontouchstart"in window?(o("touchstart",r,e),o("touchend",i,e),o("touchcancel",i,e)):"onpointerdown"in window&&(o("pointerdown",r,e),o("pointerup",i,e),o("pointercancel",i,e))}}function vv(n){(n.pointerType==null||n.pointerType=="touch")&&(O._toTouch&&(clearTimeout(O._toTouch),O._toTouch=null),O._touching=!0)}function yv(n){if((n.pointerType==null||n.pointerType=="touch")&&(O._toTouch=setTimeout(function(){O._toTouch=null,O._touching=!1},900),document.querySelector("ion-app"))){var t=n.target;K(t,".wj-dropdown-panel,.wj-dropdown")&&(t.focus(),n.stopPropagation(),n.stopImmediatePropagation())}}var wv=function(){function n(t){this._title=null,this._copyCss=!0,t!=null&&Ei(this,t)}return Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){this._title=L(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=k(t)},enumerable:!0,configurable:!0}),n.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},n.prototype.append=function(t){var e=this._getDocument();if(Q(t))e.write(t);else if(t instanceof Element){t instanceof HTMLElement&&O.refreshAll(t);for(var r=t.cloneNode(!0),i=r.querySelectorAll("input"),o=0;o<i.length;o++){var s=i[o];switch(s.type){case"checkbox":A(s,"checked",!!s.checked||null),A(s,"indeterminate",!!s.indeterminate||null);break;case"radio":A(s,"checked",!!s.checked||null);break;default:A(s,"value",s.value||null)}}e.write(r.outerHTML)}else B(!1,"content should be an HTML string or an Element.")},n.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout(function(){var r=e._iframe.contentWindow,i="onafterprint"in r&&!Wi();i&&(r.onafterprint=function(){e._afterPrint(t)}),!(ge()&&r.document.body==null)&&document.queryCommandSupported("print")?r.document.execCommand("print",!0,null):(r.focus(),r.print()),i||e._afterPrint(t)},100))},n.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,ee(t)&&t()},n.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");ie(t,"wj-printdocument"),H(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},n.prototype._close=function(){var t=this,e=this._getDocument();if(e.close(),e.title=this.title!=null?this.title:document.title,e.title&&e.title.trim()||(e.title=" "),this._copyCss&&[document.head,document.body].forEach(function(s){for(var l=s.querySelectorAll("LINK"),a=0;a<l.length;a++){var u=l[a];if(u.rel.match(/stylesheet/i)&&(!u.type||u.type.match(/text\/css/i))){var c=au(u.href,{async:!1});t._addStyle(c.responseText)}}var h=s.querySelectorAll("STYLE");for(a=0;a<h.length;a++)t._addStyle(h[a].textContent)}),this._css)for(var r=0;r<this._css.length;r++){var i=e.createElement("style"),o=au(this._css[r],{async:!1});i.textContent=o.responseText,e.head.appendChild(i)}},n.prototype._addStyle=function(t){var e=this._getDocument(),r=e.createElement("style");r.textContent=t,e.head.appendChild(r)},n}(),cu=function(){function n(){}return n.copy=function(t){n._copyPaste(L(t),null)},n.paste=function(t){t=ke(t),n._copyPaste(null,t)},n._copyPaste=function(t,e){for(var r=Z(),i=K(r,".wj-control");i&&O.getControl(i);)i=i.parentElement;if(i=i||document.body){var o=!1,s=_e('<textarea class="wj-clipboard">',i,{position:"fixed",opacity:"0"});s.onkeydown=function(l){return l.preventDefault()},s.onchange=function(l){return l.stopImmediatePropagation()},Q(t)?(s.value=t,s.select(),document.execCommand("copy")&&(o=!0)):(s.select(),ee(e)&&document.execCommand("paste")&&(e(s.value),o=!0)),setTimeout(function(){r.focus({preventScroll:!0}),(ge()?setTimeout:function(l,a){return l()})(function(){return De(s)},500),!o&&ee(e)&&e(s.value)},O._CLIPBOARD_DELAY)}},n}(),Ki=function(){function n(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(n.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=Le(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=k(t)},enumerable:!0,configurable:!0}),n.prototype._connect=function(t){var e=this;this._e&&n._startEvents.forEach(function(r){t?e._e.addEventListener(r,e._mousedownBnd):e._e.removeEventListener(r,e._mousedownBnd)})},n.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},n.prototype._mousedown=function(t){var e=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,n._stopEvents.forEach(function(r){document.addEventListener(r,e._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){e._isDown&&(e._click(),e._toRepeat=setTimeout(e._clickBnd,O._CLICK_REPEAT))},O._CLICK_DELAY))},n.prototype._mouseup=function(t){var e=this;this._isDown&&t&&t.type!="keydown"&&this._clicked&&t.preventDefault(),n._stopEvents.forEach(function(r){document.removeEventListener(r,e._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},n.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,O._CLICK_REPEAT)))},n._startEvents=["mousedown","touchstart"],n._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],n}(),sn;(function(n){n[n.Above=0]="Above",n[n.AboveRight=1]="AboveRight",n[n.RightTop=2]="RightTop",n[n.Right=3]="Right",n[n.RightBottom=4]="RightBottom",n[n.BelowRight=5]="BelowRight",n[n.Below=6]="Below",n[n.BelowLeft=7]="BelowLeft",n[n.LeftBottom=8]="LeftBottom",n[n.Left=9]="Left",n[n.LeftTop=10]="LeftTop",n[n.AboveLeft=11]="AboveLeft"})(sn||(sn={}));function kn(n,t,e,r,i,o){i===void 0&&(i=!0);var s=n.offsetHeight||n.offsetWidth,l=e;(Je(e)||e==null)&&(l=e?sn.AboveLeft:sn.BelowLeft);var a=Cv(t);if(xv(n,a),Sv(n,t,i),O.refreshAll(n),Wi()?requestAnimationFrame(function(){qh(n,t,l)}):qh(n,t,l),t instanceof HTMLElement&&(n[O._OWNR_KEY]=t),!s){if(Pv(n,t,o),r)return vc(function(u){return n.style.opacity=u<1?u.toString():""});n.style.opacity=""}return null}function en(n,t,e){t===void 0&&(t=!0),e===void 0&&(e=!1);var r=null;return e?r=vc(function(i){n.style.opacity=(1-i).toString(),i==1&&(hu(n,t),n.style.opacity="")}):hu(n,t),r}function qh(n,t,e){var r=Rv(n,t),i=Ev(n),o=kv(n,r,e,i),s={position:"absolute",zIndex:O._POPUP_ZINDEX},l=i.x==0;l?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var a=n.getBoundingClientRect().width;if(H(n,s),l){var u=a-n.getBoundingClientRect().width;u>0&&(n.style.left=o.x-Math.ceil(u)+"px")}}function hu(n,t){n.style.display="none",t&&n.parentElement&&setTimeout(function(){n.style.display=="none"&&(De(n),ee(t)&&t())},O._FOCUS_INTERVAL+50);var e=n[O._SCRL_KEY];e instanceof O&&e.dispose(),delete n[O._SCRL_KEY],delete n[O._OWNR_KEY]}function bv(n){var t=window.jQuery,e=ee(t)?t(n):null;return e&&ee(e.dialog)&&fe(n,"ui-dialog")}function Cv(n){var t=document.body;if(n instanceof HTMLElement){if(!q(document.body,n))return t;for(var e=n;e;e=e.parentElement){if(e.tagName=="DIALOG"||e.tagName=="ION-CONTENT"||getComputedStyle(e).position=="fixed"){t=e;break}if(bv(e)){t=e.querySelector(".ui-dialog-content")||e;break}}}return t}function xv(n,t){(!n.offsetHeight||!n.offsetWidth||n.parentElement!=t)&&(H(n,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(n))}function Ev(n){var t=document.body,e=document.documentElement,r=n.parentElement,i=new xt(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(r!=t){var o=r==t?e:n.offsetParent||r;if(o==t&&(o=r),o){var s=o.getBoundingClientRect();i=new xt(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(r instanceof HTMLElement){var l=getComputedStyle(r);i.x-=parseFloat(l.borderLeftWidth),i.y-=parseFloat(l.borderTopWidth)}return i}function Sv(n,t,e){if(t instanceof HTMLElement&&e){var r=e instanceof HTMLElement?e:t,i=getComputedStyle(r);new yt(i.backgroundColor).a==1&&H(n,{color:i.color,backgroundColor:i.backgroundColor,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,fontStyle:i.fontStyle})}}function Pv(n,t,e){var r=t instanceof MouseEvent?t.target:t;if(r instanceof HTMLElement&&r.parentElement!=document.body){var i=Date.now(),o=r.getBoundingClientRect(),s=new O(document.createElement("div"));n[O._SCRL_KEY]=s,s.addEventListener(document,"scroll",function(l){if(l.target!=n.parentElement&&Date.now()-i>100&&q(document,r)&&!q(n,l.target)&&(l.target!=document||t!=null&&n.style.position=="fixed")){var a=r.getBoundingClientRect(),u=Math.abs(a.left-o.left),c=Math.abs(a.top-o.top);(u>1||c>1)&&(ee(e)&&e(),hu(n,!0),s.dispose())}},!0)}}function kv(n,t,e,r){var i=document.documentElement,o=i.clientWidth,s=i.clientHeight,l=sn;switch(e){case l.AboveLeft:case l.AboveRight:case l.BelowLeft:case l.BelowRight:if(t){var a=t.width;a&&(ge()&&(a-=n.offsetWidth-n.clientWidth),n.style.minWidth=a+"px")}}var u=getComputedStyle(n),c=parseFloat(u.marginTop)+parseFloat(u.marginBottom),h=parseFloat(u.marginLeft)+parseFloat(u.marginRight),d=new Xt(n.offsetWidth+h,n.offsetHeight+c),f=new xt((o-d.width)/2,Math.round((s-d.height)/2*.7));if(t){u.direction=="rtl"&&(e=Iv(e));var p=t.left,g=o-t.right;switch(f.x=t.left,e){case l.Above:case l.Below:f.x=t.left+(t.width-d.width)/2;break;case l.AboveLeft:case l.BelowLeft:f.x=t.left;break;case l.AboveRight:case l.BelowRight:f.x=t.right-d.width;break;case l.Left:case l.LeftTop:case l.LeftBottom:f.x=p>=d.width||p>=g?t.left-d.width:t.right;break;case l.RightTop:case l.RightBottom:case l.Right:f.x=g>=d.width||g>=p?t.right:t.left-d.width}var w=t.top,m=s-t.bottom;switch(e){case l.Above:case l.AboveLeft:case l.AboveRight:f.y=w>d.height||w>m?t.top-d.height:t.bottom;break;case l.Below:case l.BelowLeft:case l.BelowRight:f.y=m>d.height||m>w?t.bottom:t.top-d.height;break;case l.LeftTop:case l.RightTop:f.y=t.top;break;case l.LeftBottom:case l.RightBottom:f.y=t.bottom-d.height;break;case l.Left:case l.Right:f.y=t.bottom-d.height+(d.height-t.height)/2}}return f.x=Math.min(f.x,o-d.width),f.y=Math.min(f.y,s-d.height),f.x=Math.max(0,f.x)+r.x,f.y=Math.max(0,f.y)+r.y,f}function Iv(n){var t=sn;switch(n){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return n}function Rv(n,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?bt.fromBoundingRect(t.target.getBoundingClientRect()):new bt(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof xt?new bt(t.x,t.y,0,0):t instanceof HTMLElement?bt.fromBoundingRect(t.getBoundingClientRect()):t&&t.top!=null&&t.left!=null?t:null}var nl=function(){function n(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=sn.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new P,Ei(this,t)}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){this._position=ye(t,sn)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=k(t)},enumerable:!0,configurable:!0}),n.prototype.setTooltip=function(t,e,r){t=Gn(t),e=this._getContent(e);var i=this._indexOf(t);i>-1&&(this._detach(t),this._tips.splice(i,1)),e&&(this._attach(t),this._tips.push({element:t,content:e,position:r}));var o=n._eTip;o&&o[O._TTIP_KEY]==t&&(e?this._setContent(e):this._hideAutoTip())},n.prototype.getTooltip=function(t){t=Gn(t);for(var e=this._tips,r=0;r<e.length;r++)if(e[r].element==t)return e[r].content;return null},n.prototype.show=function(t,e,r,i){if(t=Gn(t),e=this._getContent(e),t){i==null&&(i=this.position);var o=n._eTip;o||(ie(o=n._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),ie(o,this.cssClass),this._setContent(e),o[O._TTIP_KEY]=t;var s=new Up(e,t);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),r||(r=bt.fromBoundingRect(t.getBoundingClientRect()));var l=this.gap,a=sn;if(l)switch(i){case a.Above:case a.AboveLeft:case a.AboveRight:case a.Below:case a.BelowLeft:case a.BelowRight:r=r.inflate(0,l);break;default:r=r.inflate(l,0)}kn(o,r,i,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},n.prototype.hide=function(){var t=n._eTip;t&&(De(t),Rt(t,this.cssClass),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},n.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach(function(r){t._detach(r.element)}),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(n.prototype,"isVisible",{get:function(){var t=n._eTip;return t!=null&&t.parentElement!=null&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=L(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=j(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=Ee(t)},enumerable:!0,configurable:!0}),n.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},n.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},n.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&t.addEventListener("mousemove",this._mousemoveBnd)},n.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd),t.removeEventListener("mousemove",this._mousemoveBnd)},n.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if(t.type!="click"||O._touching){var r=t.type=="mouseenter"?this._showDelay:0,i=this._hideDelay;this._clearTimeouts(),this._eMouse=t,this._toShow=setTimeout(function(){var o=e._indexOf(t.target);if(o>-1){var s=e._tips[o],l=e._eMouse,a=e._showAtMouse?new bt(l.clientX,l.clientY,0,0):null,u=s&&s.element;if(u&&(u.offsetHeight||u.offsetWidth)){var c=O.getControl(s.element);(c==null||c.isVisible!=0)&&(e.show(s.element,s.content,a,s.position),i>0&&(e._toHide=setTimeout(function(){e.hide()},i)))}}},r)}else this._hideAutoTip()},n.prototype._mousemove=function(t){this._eMouse=t},n.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},n.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},n.prototype._getContent=function(t){if((t=L(t))&&t[0]=="#"){var e=Gn(t);e&&(t=e.innerHTML)}return t},n.prototype._setContent=function(t){var e=n._eTip;e&&(this._html?e.innerHTML=t:e.textContent=t)},n}(),Up=function(n){In(t,n);function t(e,r){var i=n.call(this)||this;return i._content=L(e),i._e=r,i}return Object.defineProperty(t.prototype,"tip",{get:function(){return nl._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=L(e)},enumerable:!0,configurable:!0}),t}(we);Bo("wijmo",vg);var Zi="The Wijmo license in this application ",wc={evl:"Wijmo Evaluation Version ({version})",prd:Zi+"is not valid for the <b>{control}</b> control.",ver:Zi+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:Zi+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:Zi+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:Zi+"is invalid.",mss:Zi+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},fr={};function Gp(n,t){var e=O._wme;if(!(e&&q(document.body,e)&&e.offsetWidth&&e.offsetHeight))if(t){var r=Wp(n);fr[r]||(fr[r]=!0,Fv(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(i){aa(n,t,i),delete fr[r]},function(){aa(n,t,null),delete fr[r]}))}else aa(n,null,null)}function Wp(n){return n._getProductInfo().split(",")[0]}function Dv(n){return n._getProductInfo().split(",")[1]}function aa(n,t,e){var r=oe.Licensing||wc,i=null;e?Mv(n,e)?Ov(n,e)?jv(n,e)?Tv(n,e)?Yp(n,e)&&(i=r.evl):i=r.prd:i=r.dmn:i=r.ver:i=r.exp:i=t?r.lic:r.mss,i&&Lv(n,i+="<br/><br/>"+r.ctc,e)}function Tv(n,t){var e=Wp(n);if(e&&e.length>=4){for(var r=0;r<t.Prd.length;r++)if(t.Prd[r].C.indexOf(e)>-1)return!0}return!1}function Mv(n,t){if(t.Exp){var e=t.Exp,r=new Date(parseInt(e.substr(0,4))||0,parseInt(e.substr(4,2))-1||0,parseInt(e.substr(6,2))||0);if(Math.ceil((r.valueOf()-Date.now())/864e5)<=0)return!1}return!0}function Ov(n,t){var e=t.Anl?t.Anl.ver:null,r=gc();return e&&r?parseInt(e.replace("v",""))+10>=parseInt(r.split(".")[1]):!0}function jv(n,t){if(qp()||!t.Dms)return!0;for(var e=location.hostname,r=t.Dms.split(","),i=0;i<r.length;i++)if(Kp(e,r[i]))return!0;return!1}function Kp(n,t){var e="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",r=new RegExp(e,"i").test(n);return r||t.substr(0,2)!="*."?r:Kp(n,t.substr(2))}function Yp(n,t){return!!t&&t.Evl}function qp(){var n=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return n.protocol=="file:"||new RegExp(t,"i").test(n.hostname)}function Lv(n,t,e){if(t=$h(n,t,e),!fr[" "]&&!qp()&&!Yp(n,e)){fr[" "]=!0;var r=oe.Licensing||wc,i=_e('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+r.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+r.cls+"</button></div></div></div>",document.body);i.addEventListener("click",function(l){l.target instanceof HTMLButtonElement&&De(i)})}if(!O._wme){var o=_e('<div><a href="'+Av()+'" target="_blank" rel="noopener">'+$h(n)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}H(o,s),document.body.appendChild(o),O._wme=o,Hv(o,t)}}function Hv(n,t){var e,r=_e(t);r.className="wj-tooltip",H(r,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[n,r].forEach(function(s){s.addEventListener("mouseenter",function(){return o(!0)}),s.addEventListener("mouseleave",function(){return o(!1)})});var i=0;function o(s){i+=s?1:-1,e&&clearTimeout(e),e=setTimeout(function(){e=null,i==1?kn(r,n.getBoundingClientRect()):i<1&&en(r)},500)}}function Av(){switch(oe.Globalize.name){case"ja":return"https://www.grapecity.co.jp/developer/support/wijmo-license";case"ko":return"https://www.grapecity.co.kr/wijmojs#price";default:return"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis"}}function $h(n,t,e){(!t||t.trim().length<15)&&(t=(oe.Licensing||wc).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var r=null;if(e&&e.Exp){var i=e.Exp;r=new Date(parseInt(i.substr(0,4))||0,parseInt(i.substr(4,2))-1||0,parseInt(i.substr(6,2))||0)}return t=Nr(t,{version:gc(),domain:location.hostname,control:Dv(n),licVer:e&&e.Anl?"5."+e.Anl.ver.replace("v","")+".*":null,licDomain:e?e.Dms:null,expDate:r})}function Fv(n,t,e,r){var i=zv(n,t.algorithmCode);if(!i)return r();var o=i.lic,s=i.prefix+"#"+t.algorithmCode;if(qv(s+JSON.stringify(o.D))!=o.H)return r();var l=window.msCrypto||window.crypto,a=l?l.subtle:null;if(!a||!location.protocol.match(/^https/i))return e(o.D);var u={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},c={alg:"RS256",e:"AQAB",kty:"RSA",n:Yv(t.publicKey)};c=window.msCrypto?Zh(JSON.stringify(c)):c;try{ed(a.importKey("jwk",c,u,!1,["verify"])).then(function(h){var d=Wv(Jh(Kv(s+JSON.stringify(o.D))));ed(a.verify(u,h,Jh(o.S),Zh(d))).then(function(f){return f?e(o.D):r()})},function(){return e(o.D)})}catch{return e(o.D)}}var bc=typeof window>"u"?null:window.Uint8Array||window.TypedArray;function zv(n,t){try{t="#"+t;var e=n.indexOf(t);if(e>-1)return{prefix:n.substring(0,e),lic:JSON.parse(Nv(n.substr(e+t.length)))}}catch{}return null}function Nv(n){if(!n)return"";var t=Bv(n);t=Uv(t);var e=Math.ceil(t.length/2);return Gv(t=(t=(t=t.substr(e)+t.substr(0,e)).replace("#","=")).replace("&","=="))}function Bv(n){for(var t=n.split(""),e=t.length-5;e>=0;e--)Xh(t,e+1,e+3,Qh),Xh(t,e,e+2,Qh);return t.join("")}function Xh(n,t,e,r){n.length>1&&n.splice(e,1,r(n.splice(t,1,r(n[e]))[0]))}function Vv(n,t){var e=n.charCodeAt(0);return e>=65&&e<=90?n.toLowerCase():e>=97&&e<=122?n.toUpperCase():e>=48&&e<=57?String.fromCharCode(48+(e-48+10+t)%10):n}function Qh(n){return Vv(n,-1)}function Uv(n){return n.split("").reverse().join("")}function Gv(n){for(var t=atob(n),e="",r=0;r<t.length;r++)e+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)}function Wv(n){return String.fromCharCode.apply(null,new bc(n))}function Jh(n){for(var t=atob(n),e=t.length,r=new bc(e),i=0;i<e;i++)r[i]=t.charCodeAt(i);return r.buffer}function Kv(n){return btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))}function Yv(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Zh(n){for(var t=new ArrayBuffer(n.length),e=new bc(t),r=0,i=n.length;r<i;r++)e[r]=n.charCodeAt(r);return t}function qv(n){for(var t=0,e=5381,r=0,i=n.length-1;i>=0;i--){var o=n.charCodeAt(i);t=o+(t<<6)+(t<<16)-t,e=o+((e<<5)+e),r=o+((r<<5)-r)}var s=t^e^r;return s<0&&(s=~s),s.toString(16).toUpperCase()}function ed(n){return"oncomplete"in n&&(n.then=function(t,e){n.resolve=t,n.reject=e},n.oncomplete=function(t){n.resolve(n.result)},n.onerror=function(t){n.reject()}),n}/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var il,$v=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),du=function(n,t,e,r){return new(e||(e=Promise))(function(i,o){function s(u){try{a(r.next(u))}catch(c){o(c)}}function l(u){try{a(r.throw(u))}catch(c){o(c)}}function a(u){u.done?i(u.value):new e(function(c){c(u.value)}).then(s,l)}a((r=r.apply(n,t||[])).next())})},fu=function(n,t){var e,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(a){return function(u){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(i=2&h[0]?r.return:h[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,h[1])).done)return i;switch(r=0,i&&(h=[2&h[0],i.value]),h[0]){case 0:case 1:i=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,r=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){s.label=h[1];break}if(h[0]===6&&s.label<i[1]){s.label=i[1],i=h;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(h);break}i[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(n,s)}catch(d){h=[6,d],r=0}finally{e=i=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,u])}}};function td(){return du(this,void 0,void 0,function(){var n;return fu(this,function(t){try{n=require("react-dom/client"),il=n}catch{il=void 0,console.error("Please upgrade react-dom package")}return[2]})})}var gi=function(n){$v(t,n);function t(e,r,i){var o=n.call(this,e)||this;if(o._objPropHash={},o._isMounted=!1,o._mountedCBs=[],o._hostRef=function(c){return o._hostRefValue=c},o._beforeRender=new P,o._afterRender=new P,o._beforeWillUnmount=new P,o._afterWillUnmount=new P,o._beforeDidUpdate=new P,o._afterDidUpdate=new P,!t._reactMajorVersion){var s=parseInt(ht.version);t._reactMajorVersion=s,s>=18&&td()}o.props=e,o.controlType=r;for(var l=0,a=i&&i.objectProps||[];l<a.length;l++){var u=a[l];o._objPropHash[u]=!0}return o}return t.prototype.render=function(){this._onBeforeRender();var e=this._renderImpl();return this._onAfterRender(),e},t.prototype.componentDidMount=function(){var e=this;if(this.timer&&this.control&&(clearTimeout(this.timer),this.control.hostElement&&(this.control._orgOuter=null,this.control.dispose())),this._isChild()){var r=this.props[t._propsParent];r&&r._mountedCB(function(){e._setParent(r)})}else this._prepareControl();return this.control},t.sensitiveDomRender=function(e,r){return du(this,void 0,void 0,function(){var i;return fu(this,function(o){switch(o.label){case 0:return t._reactMajorVersion<18?(ou.render(e,r),[3,4]):[3,1];case 1:return il?[3,3]:[4,td()];case 2:o.sent(),o.label=3;case 3:i=il.createRoot(r),t.elemRootMap.push({elem:r,root:i}),i.render(e),o.label=4;case 4:return[2]}})})},t.sensitiveDomUnmount=function(e,r){return r===void 0&&(r=!0),du(this,void 0,void 0,function(){var i,o,s;return fu(this,function(l){return t._reactMajorVersion<18?ou.unmountComponentAtNode(e):(o=void 0,(s=t.elemRootMap.find(function(a,u){if(a.elem===e)return i=u,!0}))&&(o=s.root,t.elemRootMap.splice(i,1)),o&&r&&o.unmount()),[2]})})},t.prototype.componentWillUnmount=function(){this._onBeforeWillUnmount(),this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var e=this.control;if(e)if(this._isChild()){var r=this._getParentProp();if(r){var i=this.parent.control[r];if(We(i)){var o=i.indexOf(e);o>-1&&i.splice(o,1)}}}else e instanceof O&&(this.timer=setTimeout(function(){e.hostElement&&(e._orgOuter=null,e.dispose())}));this._onAfterWillUnmount()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.componentDidUpdate=function(e){this._onBeforeDidUpdate();var r=this.control;this._copy(r,this.props,e),this._onAfterDidUpdate()},t.prototype._mountedCB=function(e){this._isMounted?e():this._mountedCBs.push(e)},t.prototype._renderImpl=function(){var e={};e[t._propsParent]=this;var r=ht.Children.map(this.props.children,function(o){return o&&ht.cloneElement(o,e)}),i={ref:this._hostRef};return this._isChild()&&(i.style={display:"none"}),ht.createElement("div",i,r)},t.prototype._onBeforeRender=function(e){this._beforeRender.raise(this,e)},t.prototype._onAfterRender=function(e){this._afterRender.raise(this,e)},t.prototype._onBeforeWillUnmount=function(e){this._beforeWillUnmount.raise(this,e)},t.prototype._onAfterWillUnmount=function(e){this._afterWillUnmount.raise(this,e)},t.prototype._onBeforeDidUpdate=function(e){this._beforeDidUpdate.raise(this,e)},t.prototype._onAfterDidUpdate=function(e){this._afterDidUpdate.raise(this,e)},t.prototype._createControl=function(){var e=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new this.controlType(e)},t.prototype._prepareControl=function(){var e=this._getElement(),r=this.props;e&&!this._isChild()&&t._copyAttrs(e,r,O._rxInputAtts);var i=this.control=this._createControl(),o=i instanceof O,s=t;this._siblingId||(this.constructor[s._typeSiblingIdProp]==null&&(this.constructor[s._typeSiblingIdProp]=++s._siblingDirId+""),this._siblingId=this.constructor[s._typeSiblingIdProp]),e.setAttribute(s._typeSiblingIdProp,this._siblingId);var l={};for(var a in r){var u=r[a];this._ignoreProp(a)||Un(u)||(a in i?l[a]=u:this._setHostAttribute(e,a,u))}o?i.initialize(l):this._copy(i,l,null,!0),this._isMounted=!0;var c=this._mountedCBs;this._mountedCBs=[];for(var h=0,d=c;h<d.length;h++)(0,d[h])();ee(r.initialized)&&r.initialized(i)},t.prototype._initParent=function(){var e=this._getParentProp();if(e){var r=this.parent.control,i=r[e];if(We(i)){var o=this._getSiblingIndex();(o<0||o>=i.length)&&(o=i.length),i.splice(o,0,this.control),this._siblingInsertedEH=this._siblingInserted.bind(this),this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else r[e]=this.control}},t.prototype._setParent=function(e){if(e!==this.parent){if(this.parent)throw"Wijmo child component is already attached to a different parent.";this.parent=e,this._prepareControl(),this._initParent()}},t.prototype._isChild=function(){return this._parentProp!=null||this._parentInCtor!=null},t.prototype._isParentInCtor=function(){return this._parentInCtor===!0},t.prototype._getParentProp=function(){return this.props.wjProperty||this._parentProp},t.prototype._getSiblingIndex=function(){var e=this._getElement(),r=e.parentElement;if(!r)return-1;for(var i=r.childNodes,o=-1,s=this._siblingId,l=0;l<i.length;l++){var a=i[l];if(a.nodeType==1&&a.getAttribute(t._typeSiblingIdProp)==s&&(++o,a===e))return o}return-1},t.prototype._siblingInserted=function(e){if(e.target===this._getElement()){var r=this._getSiblingIndex(),i=this.control,o=this.parent.control[this._getParentProp()],s=o.indexOf(i);r>=0&&s>=0&&r!==s&&(o.splice(s,1),r=Math.min(r,o.length),o.splice(r,0,i))}},t.prototype._copy=function(e,r,i,o){if(o===void 0&&(o=!1),e&&r){var s,l=e===this.control;for(var a in r)if(!this._ignoreProp(a)||!l){var u=r[a];if(a in e){if(this._isEvent(e,a))o&&ee(u)&&e[a].addHandler(u);else if(!i||!this._sameValue(i[a],u))if(u==null)e[a]=u;else if(Tr(u)||ee(u)||this._objPropHash[a]&&e===(s||(s=this.control)))e[a]=u;else if(We(u)&&We(e[a])){var c=e[a],h=u;if(h.length==c.length)for(var d=0;d<h.length;d++)this._copy(c[d],h[d])}else ot(u)&&this._copy(e[a],r[a])}else this._setHostAttribute(e.hostElement,a,r[a])}}},t.prototype._setHostAttribute=function(e,r,i){if(e)switch(r){case"className":var o=this._appliedClassName;o!==i&&(Rt(e,o),ie(e,i),this._appliedClassName=i);break;case"style":H(e,i);break;default:e[r]!=null?e[r]=i:typeof i=="string"&&r[0]!=="$"&&e.setAttribute(r,i)}},t.prototype._sameValue=function(e,r){return e==r||W.equals(e,r)},t.prototype._isEvent=function(e,r){var i=e&&e[r];return i!=null&&i instanceof P},t.prototype._getElement=function(){return this._hostRefValue},t.prototype._ignoreProp=function(e){return e==="children"},t._copyAttrs=function(e,r,i){if(e)for(var o in r)o.match(i)&&e.setAttribute(o,r[o])},t.isInStrictMode=function(e){return!!(e.hasOwnProperty("_reactInternalFiber")&&1&e._reactInternalFiber.mode)},t._propsParent="$parent",t._typeSiblingIdProp="_wjSiblingIdProp",t._siblingDirId=0,t.elemRootMap=[],t}(ht.Component);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var Ke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Si("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var Xv=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._value=null,i._min=null,i._max=null,i._format="",i._step=null,i._showBtn=!0,i._readOnly=!1,i._handleWheel=!0,i._oldText="",i._fromKb=!0,i.textChanged=new P,i.valueChanged=new P;var o=i.hostElement;A(o,"role","spinbutton",!0);var s=i.getTemplate();i.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var l=oe.InputNumber.ariaLabels;Ve(i._btnUp.querySelector("button"),l.incVal),Ve(i._btnDn.querySelector("button"),l.decVal),i._tbx.type.match(/number/i)&&(i.inputType="");var a=i._tbx;a.autocomplete="off",a.spellcheck=!1,i._updateSymbols();var u=i.addEventListener.bind(i);u(a,"keypress",i._keypress.bind(i)),u(a,"keydown",i._keydown.bind(i)),u(a,"input",i._input.bind(i)),u(a,"blur",function(){i.text!=i._oldText&&i._setText(i.text)}),u(a,"paste",function(){i._fromKb=!1}),u(a,"compositionstart",function(){i._composing=!0}),u(a,"compositionend",function(){i._composing=!1,setTimeout(function(){var h=i.text,d=i._oldText,f=i._chrPct;d&&d.indexOf(f)>-1&&h.indexOf(f)<0&&(h+=f),i._setText(h)})});var c=i._clickSpinner.bind(i);return u(i._btnUp,"click",c),u(i._btnDn,"click",c),i._rptUp=new Ki(i._btnUp.querySelector("button")),i._rptDn=new Ki(i._btnDn.querySelector("button")),u(a,"wheel",function(h){if(i.handleWheel&&!h.defaultPrevented&&!h.ctrlKey&&i._isEditable()&&i.containsFocus()){var d=ce(-h.deltaY,-1,1);i._increment((i.step||1)*d),setTimeout(function(){return i.selectAll()}),h.preventDefault()}}),i.value=0,i.isRequired=!0,i.initialize(r),i}return Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value){if((e=j(e,!this.isRequired||e==null&&this._value==null))==null)this._setText("");else if(!isNaN(e)){var r=ne.format(e,this.format);this._setText(r)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=k(e),this.inputElement.readOnly=this._readOnly,te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=j(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=j(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=j(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=L(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=k(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!k(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;J(e,0,e.value.length)},t.prototype.clamp=function(e){return ce(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,n.prototype.dispose.call(this)},t.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var r=this.clamp(this.value);if(r==this.value||this.onInvalidInput(new we)){var i=ne.format(r,this.format);this._setText(i)}}n.prototype.onLostFocus.call(this,e)},t.prototype.refresh=function(e){if(e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){this._updateSymbols();var r=ne.format(this.value,this.format);this._setText(r)}},t.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},t.prototype._updateSymbols=function(){var e=oe.Globalize.numberFormat,r=ne._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=r.curr||e.currency.symbol||"$",this._fmtSpc=r.spec,this._fmtPrc=r.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("^\\s*(\\-|\\"+this._chrNeg+")|([^e](\\-|\\"+this._chrNeg+")|\\()")},t.prototype._isNumeric=function(e,r){var i=e==this._chrDec||e>="0"&&e<="9",o=this._fmtSpc=="x";return!i&&o&&(i=e>="a"&&e<="f"||e>="A"&&e<="F"),i||r||o||(i=e==this._chrPls||e==this._chrNeg||e=="("||e==")"),i},t.prototype._getInputRange=function(e){for(var r=[0,0],i=this.text,o=!1,s=0;s<i.length;s++)this._isNumeric(i[s],e)&&(o||(r[0]=s,o=!0),r[1]=s+1);return r},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,r=this._tbx.selectionStart,i=this._tbx.value,o=0;o<i.length&&o<r;o++)this._isNumeric(i[o],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var r=this._tbx.value,i=0;i<r.length&&e>=0;i++)if(this._isNumeric(r[i],!0)){if(!e){J(this._tbx,i);break}e--}else if(!e){J(this._tbx,i);break}},t.prototype._increment=function(e){if(e){var r=this.clamp(ue(this.value)?this.value+e:0),i=ne.format(r,this.format,!1,!1);this._setText(i)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,r=e;H([this._btnUp,this._btnDn],{display:e?"":"none"}),te(this.hostElement,"wj-input-show-spinner",e),Dt(this._btnUp,r),Dt(this._btnDn,r),this._updateAria()},t.prototype._setText=function(e,r){if(r===void 0&&(r=!1),!this._composing){var i=this._tbx,o=this._chrDec,s=this._rxNeg.test(e),l=this._delKey,a=this.containsFocus();if(e&&this._rxSym.test(e)&&a&&(e=this.isRequired||!l?(s?"-0":"0")+(e.indexOf(o)>-1?o:""):""),this._delKey=!1,l&&this.value==0&&!this.isRequired&&(e=""),!e){if(!this.isRequired){i.value="",this._value!=null&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),this._updateBtn();return}e="0"}var u=e.indexOf(o),c=this._format||(u>-1?"n2":"n0"),h=ne.parseFloat(e,c);if(isFinite(h)||(h=this.clamp(h)),isNaN(h))this.onInvalidInput(new we)?i.value=this._oldText:this.focus();else{var d=a&&u>-1?2:null,f=ne.format(h,c,!1,r,d);s&&h>=0&&!l&&(f=this._chrNeg+f),a&&u>-1&&this._fmtSpc=="g"&&this._fmtPrc!=0&&(f=e).indexOf(o)<0&&(f+=o),i.value!=f&&(i.value=f,h=ne.parseFloat(f,c)),h!=this._value&&(this._value=h,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},t.prototype._keypress=function(e){if(!e.defaultPrevented&&!this._composing&&this._isEditable()&&e.charCode&&!e.ctrlKey&&!e.metaKey&&e.keyCode!=E.Enter){var r=this._tbx,i=String.fromCharCode(e.charCode);if(this._isNumeric(i,!1)){var o=r.maxLength;if(o>-1&&r.value.length>=o&&r.selectionEnd==r.selectionStart){e.preventDefault();return}var s=this._getInputRange(!0),l=r.selectionStart,a=r.selectionEnd;if(l<s[0]&&a<r.value.length&&(a=Math.max(a,s[0]),J(r,s[0],a)),l>=s[1]){var u=this._fmtPrc!=null?this._fmtPrc:2,c=r.value.indexOf(this._chrDec);c>-1&&l-c>u&&e.preventDefault()}}else e.preventDefault();switch(i){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&r.selectionStart==r.selectionEnd?this._flipSign():this.clamp(-1)<0&&(r.value=this._chrNeg,J(r,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(this._fmtPrc==0)e.preventDefault();else{var h=r.value.indexOf(this._chrDec);h>-1&&(r.selectionStart<=h&&h++,J(r,h),e.preventDefault())}}if(!e.defaultPrevented&&ge()){var d=r.value;(l=r.selectionStart)==(a=r.selectionEnd)&&(r.value=d.substr(0,l)+i+d.substr(a),J(r,l+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var r=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing&&!fe(this._tbx,"wj-grid-ime")){var i=this._tbx,o=i.value,s=i.selectionStart,l=i.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout(function(){r.selectAll()}),e.preventDefault());break;case E.Up:case E.Down:this.step&&this._isEditable()&&(this._increment(this.step*(e.keyCode==E.Up?1:-1)),setTimeout(function(){r.selectAll()}),e.preventDefault());break;case E.Back:if(this._delKey=!0,l-s<2&&this._isEditable()){var a=o[l-1];(a==this._chrDec||a==this._chrPct||a==this._chrTho||a==")")&&(setTimeout(function(){l=a==r._chrPct?r._getInputRange(!0)[1]:l-1,J(i,l)}),e.preventDefault())}break;case E.Delete:if(this._delKey=!0,l-s<2&&this._isEditable())if(o=="0"&&s==1)J(i,0);else{var u=o[s];(u==this._chrDec||u==this._chrPct)&&(setTimeout(function(){J(i,s+1)}),e.preventDefault())}break;case E.Escape:this.value=this._oldValue,this.selectAll()}}},t.prototype._input=function(){var e=this;this._composing?this._fromKb=!0:setTimeout(function(){var r=e._tbx,i=r.value,o=i.indexOf(e._chrDec),s=r.selectionStart,l=e._getSelStartDigits();if(e._fmtSpc=="p"&&i.length&&i.indexOf(e._chrPct)<0&&(i+=e._chrPct),e._setText(i,e._fromKb),e._fromKb=!0,e.containsFocus()){var a=r.value,u=a.indexOf(e._chrDec),c=e._getInputRange(!0);if(i==e._chrNeg+e._chrDec&&u>-1){J(r,u+1);return}if(i[0]==e._chrNeg&&a[0]!=e._chrNeg){a.length==1?J(r,1):e._setSelStartDigits(l);return}i?i==e._chrDec&&u>-1?s=u+1:s<=o&&u>-1||o<0&&u<0?s+=a.length-i.length:o<0&&u>-1&&(s=u):s=u>-1?u:c[1],s=ce(s,c[0],c[1]),J(r,s)}})},t.prototype._clickSpinner=function(e){var r=this;!e.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(q(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout(function(){return r.selectAll()}))},t.prototype._updateAria=function(){var e=this.hostElement;e&&(A(e,"aria-valuemin",this.min),A(e,"aria-valuemax",this.max),A(e,"aria-valuenow",this.value),Dt(this._btnDn,this.min==null||this.value>this.min),Dt(this._btnUp,this.max==null||this.value<this.max))},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',t}(O),Qv=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i.valueChanged=new P;var o=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),i._orgTag=="INPUT"){var s=i._tbx.getAttribute("value");s&&(i.value=s)}return i._msk=new Br(i._tbx),i.isRequired=!0,i.initialize(r),i.addEventListener(i._tbx,"input",function(){i.onValueChanged()}),i.addEventListener(i._tbx,"blur",i._commitText.bind(i)),i.addEventListener(i._tbx,"keydown",function(l){l.keyCode==E.Enter&&i._commitText()}),i}return Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=L(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=L(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(e){var r=this.value;this._msk.mask=L(e),this.value!=r&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var r=this.value;this._msk.promptChar=e,this.value!=r&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(e){this._msk.overwriteMode=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();J(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){(this.rawValue||this.isRequired)&&(this.maskFull||this.onInvalidInput(new we)),this._updateState()},t.prototype.dispose=function(){this._msk.input=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},t.prototype.onGotFocus=function(e){n.prototype.onGotFocus.call(this,e),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(O),$p=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._hsb=[.5,1,1],i._alpha=1,i.valueChanged=new P;var o=i.getTemplate();i.applyTemplate("wj-control wj-content wj-colorpicker",o,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),i._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),i._updatePalette(),i._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",i._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(i._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",i._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),o=t._tplCursor,i._cSB=_e(o),i._cHue=_e(o),i._cHue.style.width="100%",i._cAlpha=_e(o),i._cAlpha.style.height="100%",i._eSB.appendChild(i._cSB),i._eHue.appendChild(i._cHue),i._eAlpha.appendChild(i._cAlpha);var s=i.addEventListener.bind(i),l=i.removeEventListener.bind(i),a=document;s(i.hostElement,"mousedown",function(h){s(a,"mousemove",u),s(a,"mouseup",c),i._mouseDown(h)}),s(i.hostElement,"touchstart",function(h){s(a,"touchmove",u),s(a,"touchend",c),i._mouseDown(h)});var u=function(h){i._mouseMove(h)},c=function(h){l(a,"mousemove",u),l(a,"mouseup",c),l(a,"touchmove",u),l(a,"touchend",c),i._mouseUp(h)};return s(i.hostElement,"click",function(h){var d=h.target;if(d&&d.tagName=="DIV"&&q(i._ePal,d)){var f=d.style.backgroundColor;f&&(i.value=new yt(f).toString())}}),i.value="#ffffff",i.initialize(r),i._updatePanels(),i}return Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!="none"},set:function(e){this._eAlpha.parentElement.style.display=k(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._eText.style.display!="none"},set:function(e){this._eText.style.display=k(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){e=L(e);var r=yt.fromString(e);if(r){this._value=e,this._eText.innerText=e;var i=r.getHsb();(this._hsb[0]!=i[0]||this._hsb[1]!=i[1]||this._hsb[2]!=i[2]||this._alpha!=r.a)&&(i[2]==0?(i[0]=this._hsb[0],i[1]=this._hsb[1]):i[1]==0&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=r.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){(e=(e=mt(e)).slice(0,10)).every(function(r){return yt.fromString(r)!=null})&&(this._palette=e,this._updatePalette())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var r=e.touches?e.touches[0]:e,i=this._htDown;if(i){var o=i.getBoundingClientRect(),s=this._hsb;i==this._eHue?s[0]=ce((r.clientY-o.top)/o.height,0,.99):i==this._eSB?(s[1]=ce((r.clientX-o.left)/o.width,0,1),s[2]=ce(1-(r.clientY-o.top)/o.height,0,1)):i==this._eAlpha&&(this._alpha=ce((r.clientX-o.left)/o.width,0,1)),this._updateColor()}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=yt.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new yt("#fff"),r=new yt("#000");this._ePal.innerHTML="";for(var i=0;i<this._palette.length;i++){var o=_e('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),s=new yt(this._palette[i]),l=s.getHsb();o.appendChild(this._makePalEntry(s,4));for(var a=0;a<5;a++){if(l[1]==0){var u=.1*a+(l[2]>.5?.05:.55);s=yt.interpolate(e,r,u)}else s=yt.fromHsb(l[0],.1+.2*a,1-.1*a);o.appendChild(this._makePalEntry(s,0))}this._ePal.appendChild(o)}},t.prototype._makePalEntry=function(e,r){var i=document.createElement("div");return H(i,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:r||""}),i.innerHTML="&nbsp",i},t.prototype._updatePanels=function(){var e=yt.fromHsb(this._hsb[0],1,1,1),r=yt.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+r.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+r.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var r=e.target;return q(this._eSB,r)?this._eSB:q(this._eHue,r)?this._eHue:q(this._eAlpha,r)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(O),Jv=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._view=null,i._byPage=!1,i._fmt="{current:n0} / {count:n0}";var o=i.getTemplate();return i.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),i._rptNext=new Ki(i._btnNext.querySelector("button")),i._rptPrev=new Ki(i._btnPrev.querySelector("button")),i.addEventListener(i.hostElement,"click",i._click.bind(i)),i.initialize(r),i._update(),i}return Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var r=this._view;r&&(r.collectionChanged.removeHandler(this._collectionChanged),r.currentChanged.removeHandler(this._currentChanged)),r=this._view=Le(e,"ICollectionView",!0),this._update(),r&&(r.collectionChanged.addHandler(this._collectionChanged,this),r.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=k(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=L(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!k(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,r=this._byPage,i=e?r?e.pageIndex:e.currentPosition:0,o=e?r?e.pageCount:e.itemCount:0;Dt(this._btnFirst,e&&i>0),Dt(this._btnPrev,e&&i>0),Dt(this._txtCurr,e!=null),Dt(this._btnNext,e&&i<o-1),Dt(this._btnLast,e&&i<o-1),this._txtCurr.value=Nr(this._fmt,{current:e?i+1:0,count:e?o:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var r=e.target,i=this._view,o=this._byPage;i&&(q(this._btnFirst,r)?o?i.moveToFirstPage():i.moveCurrentToFirst():q(this._btnPrev,r)?o?i.moveToPreviousPage():i.moveCurrentToPrevious():q(this._btnNext,r)?o?i.moveToNextPage():i.moveCurrentToNext():q(this._btnLast,r)&&(o?i.moveToLastPage():i.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(O),Vr=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e,null,!0)||this;i._cv=null,i._itemFormatter=null,i._pathDisplay=new lt(""),i._pathValue=new lt(""),i._pathChecked=new lt(""),i._html=!1,i._shGroups=!1,i._checkedItems=[],i._itemRole="option",i._caseSensitive=!1,i._vThreshold=t._VTHRESH,i._isVirtual=!1,i._children=[],i._clientHeight=-1,i._itemHeight=30,i._itemsAbove=-1,i._itemsBelow=-1,i._eSizer=document.createElement("div"),i._ePadTop=document.createElement("div"),i._ePadBot=document.createElement("div"),i._checking=!1,i._ignoredItemChangedEvents=!1,i._search="",i._fmtItemHandlers=0,i._itemCount=0,i._oldSel=null,i._container=null,i.selectedIndexChanged=new P,i.itemsChanged=new P,i.loadingItems=new P,i.loadedItems=new P,i.itemChecked=new P,i.checkedItemsChanged=new P,i.formatItem=new P(function(){i.invalidate()}),i.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=i.hostElement;return A(o,"role","listbox",!0),i._orgTag=="SELECT"&&i._initFromSelect(i.hostElement),i.addEventListener(o,"click",i._click.bind(i)),i.addEventListener(o,"keydown",i._keydown.bind(i)),i.addEventListener(o,"keypress",i._keypress.bind(i)),i.addEventListener(o,"wheel",function(s){o.scrollHeight>o.offsetHeight&&(s.deltaY<0&&o.scrollTop==0||s.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation())}),[i._eSizer,i._ePadTop,i._ePadBot].forEach(function(s){s.tabIndex=-1,A(s,"aria-hidden",!0),H(s,{pointerEvents:"none",opacity:"0"})}),i.initialize(r),i._updateViewRange(),i.hostElement.addEventListener("scroll",function(s){i._updateViewRange()}),i}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=No(e),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(e){if(e!=this._vThreshold){var r=this._getVirtual();this._vThreshold=j(e,!1,!0),r!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=k(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=k(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=ke(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=L(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=L(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=L(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var r=null;e>-1&&Ue(this._cv)&&(r=this._cv.items[e],this.displayMemberPath&&(r=this._pathDisplay.getValue(r)));var i=r!=null?r.toString():"";return this._itemFormatter&&(i=this._itemFormatter(e,i)),i},t.prototype.getDisplayText=function(e){var r=this._getChild(e);return r!=null?r.textContent:""},t.prototype.isItemEnabled=function(e){var r=this._getChild(e);return r!=null&&!r.hasAttribute("disabled")&&!fe(r,"wj-state-disabled")&&!fe(r,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(j(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var r=this._cv,i=r?r.items:null,o=this.selectedValuePath,s=-1;if(i){for(var l=0;l<i.length;l++){var a=i[l],u=o?this._pathValue.getValue(a):a;if(u===e||W.equals(u,e)){s=l;break}if(this.isContentHtml&&Q(u)&&u.indexOf("<")>-1&&Pn(u)===e){s=l;break}}this.selectedIndex=s}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement,r=e?parseFloat(e.style.maxHeight):null;return isNaN(r)?null:r},set:function(e){var r=this.hostElement;r&&(e=j(e,!0),r.style.maxHeight=e==null?"":e+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){e===void 0&&(e=this.containsFocus());var r=this.hostElement,i=this._children,o=this._getSelectedElement(!1),s=new bt(0,0,0,0);o!=this._oldSel&&(this._updateItemAttributes(o,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=o),o instanceof HTMLElement?s=this._getBoundingClientRect(o):this._children.length>0&&(s=this._getBoundingClientRect(this._getChild(0)));var l=this._getBoundingClientRect(r),a=0;if(this._shGroups&&(a=this._itemHeight,!this._isVirtual)){var u=i[0];u.offsetHeight&&fe(u,"wj-header")&&(a=u.offsetHeight)}s.bottom>l.bottom?r.scrollTop+=s.bottom-l.bottom:s.top<l.top+a&&(r.scrollTop-=l.top+a-s.top),this._updateViewRange(),o=this._getSelectedElement(!0),e&&(o&&!q(o,Z())?o:r).focus(),r.tabIndex=o?-1:this._orgTabIndex},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var r=this._cv.items[e],i=this._pathChecked;if(ot(r)&&i.path)return i.getValue(r);var o=this._getCheckbox(e);return!!o&&o.checked},t.prototype.setItemChecked=function(e,r){this._setItemChecked(e,r,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(e){var r=mt(e,!1);this._arrayEquals(r,this._checkedItems)||(this._updateCheckedList(r),this._arrayEquals(r,this._checkedItems)||(this._checkedItems=r,this.onCheckedItemsChanged()))},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return(e=K(e,".wj-listbox-item"))?e[t._DIDX_KEY]:-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(e){if(e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var r=this._cv?this._cv.items.length:0,i=this.formatItem.handlerCount;r!=this._itemCount||i!=this._fmtItemHandlers?(this._fmtItemHandlers=i,this._populateList()):this._updateViewRange()}},t.prototype._updateCheckedList=function(e){var r=this,i=this._cv,o=this._pathChecked,s=new Map;if(o&&i){var l=i.sourceCollection;if(l&&l.length){ot(l[0])||(o=null),e.forEach(function(u){return s.set(u,!0)}),this._checking=!0;var a=[];l.forEach(function(u){var c=s.has(u);c&&a.push(u),o&&o.setValue(u,c)}),this._checking=!1,e=a}i.items.forEach(function(u,c){r._setItemChecked(c,s.has(u),!1)})}},t.prototype._getBoundingClientRect=function(e){if(!e.offsetHeight){var r=this.indexOf(e),i=this.hostElement;if(r>-1&&i){r=this._getElementIndex(r);var o=i.getBoundingClientRect();return new bt(0,o.top-i.scrollTop+r*this._itemHeight,o.width,this._itemHeight)}}return bt.fromBoundingRect(e.getBoundingClientRect())},t.prototype._updateItemAttributes=function(e,r){if(e){var i=this.checkedMemberPath?this._getCheckbox(this.indexOf(e)):null,o=i?i.checked:null;te(e,"wj-state-selected",r),A(e,"aria-selected",this._getAriaSelected(r,o)),e.tabIndex=r?this._orgTabIndex:-1}},t.prototype._getCheckedItems=function(){var e=this,r=this._cv,i=this._pathChecked,o=[];return r&&i&&i.path&&(o=r.sourceCollection.filter(function(s,l){if(r.filter&&!r.filter(s))return!1;if(ot(s))return i.getValue(s);var a=r.items[l]==s?l:r.items.indexOf(s);return e.getItemChecked(a)})),o},t.prototype._arrayEquals=function(e,r){if(e==r)return!0;if(!e||!r||e.length!=r.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==r[i])return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this._children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var r=this._children,i=0;i<=e&&i<r.length;i++){var o=r[i];fe(o,"wj-header")&&e++}return e},t.prototype._setItemChecked=function(e,r,i){i===void 0&&(i=!0);var o=this._cv.items[e],s=this._pathChecked,l=!1,a=this.selectedIndex,u=this._checking;if(ot(o)&&s.path){if(!!s.getValue(o)!=r){var c=Wt(this._cv,"IEditableCollectionView");l=!0,this._checking=!0,c?(c.editItem(o),s.setValue(o,r),c.commitEdit()):(s.setValue(o,r),c.refresh()),this._checking=u}}else if(i){var h=this._checkedItems.indexOf(o);(r&&h<0||!r&&h>=0)&&(l=!0)}var d=this._getCheckbox(e);if(d){d.checked=r;var f=K(d,".wj-listbox-item");f&&(te(f,"wj-state-checked",r),A(f,"aria-selected",!!r||null))}return i&&(l&&(this._checkedItems=this._checkedItemsUpdate(o,r),this.onItemChecked(),this.onCheckedItemsChanged()),a!=this.selectedIndex&&this.onSelectedIndexChanged()),l},t.prototype._checkedItemsUpdate=function(e,r){var i=this._cv.sourceCollection,o=this._checkedItems,s=0;if(r){for(var l=0;l<i.length;l++){var a=i[l];if(a===o[s]&&s<o.length)s++;else if(a===e)return o.slice(0,s).concat([e]).concat(o.slice(s))}return o}var u=o.indexOf(e);return o.slice(0,u).concat(o.slice(u+1))},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this._ignoredItemChangedEvents||this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement,r=this._cv;if(this._itemCount=r?r.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,e){var i=this.containsFocus(),o=void 0;this.onLoadingItems();var s=this._children=[];if(e.textContent="",r){var l=0,a=void 0,u=[];if(this._shGroups&&r.groups&&r.groups.length){o={};for(var c=0;c<r.groups.length;c++){var h=r.groups[c];o[l]=h,a=this._createHeaderItem(h),u.push(a);for(var d=0;d<h.items.length;d++,l++)a=this._createItem(l),u.push(a)}}else for(d=0;d<r.items.length;d++,l++)a=this._createItem(l),u.push(a);var f=this._isVirtual?document.createElement("div"):e,p=0;for(f.innerHTML=u.join(""),d=0;d<f.children.length;d++){var g=f.children[d];p==r.currentPosition&&(this._oldSel=g),g[t._DIDX_KEY]=g.className.indexOf("wj-header")<0?p++:-1,s.push(g)}}if(this.formatItem.hasHandlers&&r){l=0;var w=r.items;for(g=new Cc(0,null,null),d=0;d<s.length;d++)g._item=s[d],this._shGroups&&fe(g._item,"wj-header")?(g._index=-1,g._data=o[l]):(g._index=l,g._data=w[l++]),this.onFormatItem(g)}if(this._isVirtual){var m=this._getCanvasContext(),_=null,v=0;for(d=0;d<s.length;d++){a=s[d];var y=m.measureText(a.textContent);y.width>v&&(_=a,v=y.width)}if(_){var b=!1,x=e.style.display,C=e.style.position;e.parentElement||(b=!0,(this._container||document.body).appendChild(e),H(e,{display:"",position:"absolute"})),e.appendChild(_);var S=_.style.whiteSpace;_.style.whiteSpace="nowrap",this._ePadTop.style.width=_.offsetWidth+"px",this._itemHeight=_.offsetHeight||this._itemHeight,_.style.whiteSpace=S,this._eSizer.style.height=s.length*this._itemHeight+"px",e.appendChild(this._eSizer),this._clientHeight=e.clientHeight,De(this._eSizer),b&&(De(e),H(e,{display:x,position:C})),De(_)}else this._ePadTop.style.width="";this._updateViewRange()}this.checkedItems=this._getCheckedItems();var M=this._getSelectedElement(!0);i?(M||e).focus():M&&this.showSelection(),e.tabIndex=M?-1:this._orgTabIndex,this.onLoadedItems()}},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),r=getComputedStyle(this.hostElement);return r.fontSize&&r.fontFamily&&(e.font=r.fontSize+" "+r.fontFamily.split(",")[0]),e},t.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var r=getComputedStyle(e);if(parseInt(r.columnCount)>1||r.display.indexOf("flex")>-1||r.display.indexOf("grid")>-1)return!1}return!0},t.prototype._getMaxSupportedCssHeight=function(){var e=265e5;return ge()?e=15e5:Wi()&&(e=175e5),e},t.prototype._updateViewRange=function(){var e=this.hostElement,r=this._itemHeight,i=this._children;if(!(e&&e.parentElement&&this._isVirtual&&i))return!1;var o=e.scrollTop;B(r*i.length<this._getMaxSupportedCssHeight(),"The number of items ("+i.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/r)+") allowed for this browser.");var s=Math.max(e.clientHeight,this._clientHeight),l=Math.floor(o/r),a=Math.min(i.length,Math.ceil((o+s)/r)-l),u=Math.max(0,i.length-l-a);if(l==this._itemsAbove&&u==this._itemsBelow)return!1;this._itemsAbove=l,this._itemsBelow=u;var c=document.createDocumentFragment(),h=this.containsFocus();if(this._ePadTop.style.height=l*r+"px",c.appendChild(this._ePadTop),this.showGroups&&!fe(i[l],"wj-header")){for(var d=l;d>=0;d--)if(fe(i[d],"wj-header")){c.appendChild(i[d]);break}}for(d=l;d<=l+a&&d<i.length;d++)c.appendChild(i[d]);this._ePadBot.style.height=u*r+"px",c.appendChild(this._ePadBot),e.textContent="",e.appendChild(c);var f=(l+a+u)*r-e.scrollHeight;this._ePadBot.style.height=this._ePadBot.offsetHeight-f+"px";var p=this._getSelectedElement(!0);return h&&(p||e).focus({preventScroll:!0}),e.tabIndex=p?-1:this._orgTabIndex,!0},t.prototype._getSelectedElement=function(e){var r=this.selectedIndex,i=this._getElementIndex(r),o=i>-1?this._children[i]:null;return e&&o&&!o.offsetHeight&&(o=null),o},t.prototype._handleResize=function(){this._updateViewRange()},t.prototype._createItem=function(e){var r=this._cv.items[e],i=e==this._cv.currentPosition,o=this.getDisplayValue(e);this._html!=1&&(o=xn(o));var s=null;this.checkedMemberPath&&(s=!1,ot(r)?s=!!this._pathChecked.getValue(r):this._checkedItems&&(s=this._checkedItems.indexOf(r)>-1),o='<label><input type="checkbox" tabindex="-1"'+(s?" checked":"")+"><span></span> "+o+"</label>");var l="wj-listbox-item";if(i&&(l+=" wj-state-selected"),s&&(l+=" wj-state-checked"),this._html){var a=["wj-separator","wj-state-disabled"];if(o.indexOf(a[0])>-1||o.indexOf(a[1])>-1){var u=_e(o);a.forEach(function(c){fe(u,c)&&(l+=" "+c)})}}return'<div class="'+l+'" role="'+this.itemRole+'" '+(this._getAriaSelected(i,s)?'aria-selected="true" ':"")+'tabindex="'+(i&&!this.isDisabled?this._orgTabIndex:-1)+'">'+o+"</div>"},t.prototype._getAriaSelected=function(e,r){return!!(r??e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+xn(e.name)+"</div>"},t.prototype._click=function(e){if(e.button==0&&!e.defaultPrevented){var r=this.indexOf(e.target);if(r>-1)if(this.selectedIndex=r,this.checkedMemberPath){var i=this._getCheckbox(r),o=K(i,".wj-listbox-item");(e.target==i||e.target==o)&&(o.focus({preventScroll:!0}),this.setItemChecked(r,i.checked))}else(o=K(e.target,".wj-listbox-item")).focus({preventScroll:!0})}},t.prototype._keydown=function(e){var r=this.selectedIndex;if(!e.defaultPrevented){if(e.keyCode==65&&(e.ctrlKey||e.metaKey)){var i=this.collectionView;if(this.checkedMemberPath&&Ue(i)){this.checkedItems=this.checkedItems.length!=i.items.length?i.items:[],e.preventDefault();return}}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case E.Down:e.preventDefault(),this._selectNext();break;case E.Up:e.preventDefault(),this._selectPrev();break;case E.Home:e.preventDefault(),this._selectFirst();break;case E.End:e.preventDefault(),this._selectLast();break;case E.PageDown:e.preventDefault(),this._selectNextPage();break;case E.PageUp:e.preventDefault(),this._selectPrevPage();break;case E.Space:if(this.checkedMemberPath&&r>-1){var o=this._getCheckbox(r);o&&this.isItemEnabled(r)&&(this.setItemChecked(r,!o.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var r=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||e.charCode==32&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){r._toSearch=null,r._search=""},O._SEARCH_DELAY);var i=this._findNext();i<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],i=this._findNext()),i>-1&&(this.selectedIndex=i)}},t.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,r=this._children,i=this._cv?this._cv.items.length:0,o=0;if(e>0)for(var s=this.selectedIndex+1;s<i;s++){var l=r[s].scrollHeight||this._itemHeight;if(o+l>e&&this.isItemEnabled(s))return this.selectedIndex=s,!0;o+=l}return this._selectLast()},t.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,r=this._children,i=0;if(e>0)for(var o=this.selectedIndex-1;o>0;o--){var s=r[o].scrollHeight||this._itemHeight;if(i+s>e&&this.isItemEnabled(o))return this.selectedIndex=o,!0;i+=s}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,r=this.selectedIndex;(r<0||this._search.length==1)&&r++;var i=this._search,o=this.caseSensitiveSearch;o||(i=i.toLowerCase());for(var s=0;s<e;s++){var l=(r+s)%e;if(this.isItemEnabled(l)){var a=this.getDisplayText(l).trim();if(o||(a=a.toLowerCase()),a.indexOf(i)==0)return l}}}return-1},t.prototype._getCheckbox=function(e){var r=this._children;return e=this._getElementIndex(e),this.hostElement&&e>-1&&e<r.length?r[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var r=e.children,i=[],o=-1,s=0;s<r.length;s++){var l=r[s];l.tagName=="OPTION"&&(l.hasAttribute("selected")&&(o=i.length),l.innerHTML?i.push({hdr:l.innerHTML,val:l.getAttribute("value"),cmdParam:l.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"></div>'}),e.removeChild(l),s--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=o)},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this.isDisabled||this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.hostElement,r=this._getSelectedElement(!0);r?(r.tabIndex=this.isDisabled?-1:this._orgTabIndex,e.tabIndex=-1):e.tabIndex=this.isDisabled?-1:this._orgTabIndex},t._DIDX_KEY="$WJ-DIDX",t._VTHRESH=Number.MAX_VALUE/2,t}(O),Cc=function(n){Ke(t,n);function t(e,r,i){var o=n.call(this)||this;return o._index=j(e),o._data=r,o._item=Le(i,HTMLElement,!0),o}return Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(xi);Si("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var Xp=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._selectAllLabel=null,i._filterPlaceholder=null,i._filterText="",i._checkOnFilter=!0,i._delay=O._SEARCH_DELAY,i.checkedItemsChanged=new P,i.selectedIndexChanged=new P;var o=i.getTemplate();i.applyTemplate("wj-control wj-content wj-multiselectlistbox",o,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),i._selectAll.style.display="none",i._filter.style.display="none",i._lbx=new Vr(i._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,loadedItems:function(){return i._updateCheckAllCheckbox()},checkedItemsChanged:function(l){return i.onCheckedItemsChanged(l)},selectedIndexChanged:function(){return i.onSelectedIndexChanged()}}),i._cbSelectAll=i._selectAll.querySelector("input[type=checkbox]"),i._spSelectAll=i._selectAll.querySelector("label>span");var s=oe.MultiSelectListBox;return mn(i._spSelectAll,s.selectAll),i._filter.placeholder=s.filterPlaceholder,i.initialize(r),i.addEventListener(i._filter,"input",function(){i._filter.value!=i._filterText&&(i._filterText=i._filter.value,i._toSearch&&clearTimeout(i._toSearch),i._toSearch=setTimeout(function(){i._toSearch=null,i._applyFilter()},i.delay))}),i.addEventListener(i._cbSelectAll,"click",function(l){var a=i._lbx.collectionView;Ue(a)&&(i.checkedItems=l.target.checked?a.items:[])}),i.addEventListener(i.hostElement,"keydown",function(l){var a=i.showFilterInput?i._filter:null,u=i._lbx;if(a&&l.keyCode==E.F3&&(J(a,0,a.value.length),l.preventDefault()),Z()==a){var c=!l.altKey;switch(l.keyCode){case E.Escape:case E.F4:c=!1}c&&l.stopPropagation()}if(!u.containsFocus())switch(l.keyCode){case E.Up:case E.Down:i._lbx.focus();var h=u.selectedIndex+(l.keyCode==E.Up?-1:1);u.selectedIndex=Math.max(0,h),l.preventDefault()}},!0),i.hostElement.tabIndex=-1,i._lbx.tabOrder=i._orgTabIndex,i}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=k(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._filter.style.display==""},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=k(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=L(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._selectAll.style.display==""},set:function(e){this._selectAll.style.display=k(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=L(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=L(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=mt(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){var r=this;this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e),typeof e._items[0]=="object"&&(this.checkedMemberPath||t._DEF_CHECKED_PATH)in e._items[0]&&setTimeout(function(){r._lbx._updateCheckedList(r.checkedItems)},0)},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){if(e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var r=oe.MultiSelectListBox;this._filter.placeholder=this._filterPlaceholder!=null?this._filterPlaceholder:r.filterPlaceholder,this._spSelectAll&&mn(this._spSelectAll,this._selectAllLabel!=null?this._selectAllLabel:r.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),n.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,r=this._lbx,i=r.collectionView,o=this._filter.value,s=o?new RegExp(mc(o),r.caseSensitiveSearch?"":"i"):null,l=this.displayMemberPath,a=l?new lt(l):null,u=this.checkOnFilter?null:this.checkedItems;i.filter=function(c){return s!=null?u&&u.indexOf(c)>-1?!0:(a&&(c=a.getValue(c)),e.isContentHtml&&(c=Pn(c)),c!=null&&s.test(c.toString())):!0},r.selectedIndex=Math.max(0,r.selectedIndex),this._checkOnFilter&&(this.checkedItems=s?i.items:[])},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,r=this._cbSelectAll;if(Ue(e)){var i=e.items.length,o=this.checkedItems.length;Mr(r,o==i||o!=0&&null),r.disabled=!1}else Mr(r,!1),r.checked=!1,r.disabled=!0},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=-1,this.isDisabled?this._lbx.tabOrder=-1:this._lbx.tabOrder=this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._lbx.tabOrder=e},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(O);Si("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}});var Tt;(function(n){n[n.None=0]="None",n[n.Day=1]="Day",n[n.Month=2]="Month",n[n.Range=3]="Range"})(Tt||(Tt={}));var Cr;(function(n){n[n.None=0]="None",n[n.FirstMonth=1]="FirstMonth",n[n.LastMonth=2]="LastMonth",n[n.FirstAndLastMonths=3]="FirstAndLastMonths",n[n.AllMonths=4]="AllMonths",n[n.Outside=5]="Outside"})(Cr||(Cr={}));var Qp=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._yrPicker=!0,i._mtPicker=Cr.FirstMonth,i._wksBefore=0,i._wksAfter=0,i._rngMin=0,i._rngMax=0,i._min=null,i._max=null,i._readOnly=!1,i._handleWheel=!0,i._fdw=null,i._selMode=Tt.Day,i._tmYrHidden=0,i._fmtYrMo="y",i._fmtYr="yyyy",i._fmtDayHdr="ddd",i._fmtDay="d ",i._fmtMonths="MMM",i.valueChanged=new P,i.rangeEndChanged=new P,i.rangeChanged=new P,i.displayMonthChanged=new P,i.formatItem=new P(function(){i.invalidate()}),i._value=i._rngEnd=W.newDate(),i._month=i._getMonth(i._value),i._cals=[i],i._createChildren(),i._createYearPicker();var o=i.hostElement,s=i.addEventListener.bind(i);return s(o,"keydown",i._keydown.bind(i)),s(o,"click",i._click.bind(i)),i._rptUp=new Ki(i._btnPrv),i._rptDn=new Ki(i._btnNxt),i.addEventListener(o,"wheel",function(l){i.handleWheel&&!l.defaultPrevented&&!i.isReadOnly&&i.containsFocus()&&(l.deltaY<0?i._btnPrv.click():i._btnNxt.click(),l.preventDefault())}),i.initialize(r),i.refresh(!0),i}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value&&(this._clearingRangeEnd=!W.equals(this._value,e),this.rangeEnd=null,this._clearingRangeEnd=!1,e=Nt(e,!0),e=this._clamp(e),(this._valid(e)||e==null)&&(this.ensureVisible(e||new Date),W.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged())),!this.value)){var r=this.min,i=this.max,o=this.displayMonth;i&&i<o?this.ensureVisible(i):r&&r>o&&this.ensureVisible(r)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(e){if(e=Nt(e,!0),(e=this._clamp(e))&&this._value&&this._rngMode()){e<this._value&&(e=this._value);var r=this._rngMin,i=this._rngMax;if(r&&r>0||i&&i>0){var o=this._value,s=Math.ceil((e.getTime()-o.getTime())/864e5)+1;r&&r>0&&s<r&&(e=W.addDays(o,r-1)),i&&i>0&&s>i&&(e=W.addDays(o,i-1))}}(this._valid(e)||e==null)&&!W.equals(this._rngEnd,e)&&(this._rngEnd=e,this.ensureVisible(e),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(e){(e=j(e,!0,!0))!=this._rngMin&&(this._rngMin=e,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(e){(e=j(e,!0,!0))!=this._rngMax&&(this._rngMax=e,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){(e=Nt(e,!0))!=this.min&&(this._min=e,this._syncProp(this,"min"),this.refresh(),!this.value&&e&&e>this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){(e=Nt(e,!0))!=this.max&&(this._max=e,this._syncProp(this,"max"),this.refresh(),!this.value&&e&&e<this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){var r=Tt;(e=ye(e,r))!=this._selMode&&(this._selMode=e,this._mthMode()&&(this.monthView=!1),this._rngEnd=e==r.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=k(e),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!k(e),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){e!=this._yrPicker&&(this._yrPicker=k(e),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(e){if(e!=this._mtPicker){var r=Cr;Je(e)&&(e=e?r.FirstMonth:r.None),this._mtPicker=ye(e,r),te(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==r.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=j(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._month},set:function(e){e=Nt(e),e=this._getMonth(e);var r=this._getDisplayMonthRange();r.to&&e>r.to&&(e=r.to),r.from&&e<r.from&&(e=r.from),W.equals(this.displayMonth,e)||(this._month=e,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(e){var r=this,i=this.hostElement;if(e!=this.monthCount&&i){var o=i.querySelectorAll(".wj-calendar");e=Ee(e,!1),B(e>0,"monthCount must be >= 1."),B(e==1||!K(i.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var s=0;s<o.length;s++){var l=o[s];De(l),this._getCalendar(l).dispose()}for(this._cals=[this],s=1;s<e;s++){(l=new t(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(c,h){return r.onFormatItem(h)}}))._selMode=this._selMode,l._value=this._value,l._rngEnd=this._rngEnd;for(var a in this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(a)){var u=this[a];ee(u)||u instanceof P||(l[a]=u)}this._cals.push(l),i.appendChild(l.hostElement)}te(i,"wj-calendar-multimonth",e>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=L(e),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=L(e),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=L(e),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=L(e),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=L(e),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._tbHdr.style.display!="none"},set:function(e){e!=this.showHeader&&(this._tbHdr.style.display=k(e)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return this._tbMth.style.display!="none"},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var r=oe.Calendar.ariaLabels;Ve(this._btnPrv,e?r.prvMo:r.prvYr),Ve(this._btnTdy,e?r.today:r.currMo),Ve(this._btnNxt,e?r.nxtMo:r.nxtYr),Ve(this._btnMth,e?r.monthView:r.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(e){e!=this._wksBefore&&(this._wksBefore=Math.floor(j(e,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(e){e!=this._wksAfter&&(this._wksAfter=Math.floor(j(e,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=ke(e),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=ke(e),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){var r=e instanceof MouseEvent?e.target:e instanceof Element?e:null;return B(r!=null,"MouseEvent or Element expected"),r?r[t._DATE_KEY]:null},t.prototype.ensureVisible=function(e){if(e!=null){var r=this._getCalendars(),i=r.indexOf(this),o=r[0],s=r[r.length-1];e<o.displayMonth?this.displayMonth=W.addMonths(this._getMonth(e),i):e>s.displayMonth&&(this.displayMonth=W.addMonths(this._getMonth(e),i-r.length+1))}},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(e)},t.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0);var r=this.hostElement,i=this.containsFocus();if(r){n.prototype.refresh.call(this,e),e&&this._updateContent(),this._updateSelection();var o=this._getDisplayMonthRange(),s=this.displayMonth;if(Dt(this._btnPrv,o.from==null||s>o.from),Dt(this._btnNxt,o.to==null||s<o.to),i){var l=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||r;l&&l.focus()}var a=this._getCalendars();a.length>1&&this==a[0]&&a.forEach(function(u,c){c>0&&u.refresh(e)})}},t.prototype._getShowMonthPicker=function(){var e=Cr,r=this._getCalendars(),i=r.indexOf(this),o=this.showMonthPicker;switch(o){case e.FirstMonth:case e.Outside:return i==0?o:0;case e.LastMonth:return i==r.length-1?o:0;case e.FirstAndLastMonths:return i==0||i==r.length-1?o:0;case e.AllMonths:return o}return 0},t.prototype._getDisplayMonthRange=function(){var e={from:null,to:null};if(this.min||this.max){var r=this._getCalendars(),i=r.indexOf(this),o=this._mthMode()?W.addYears:W.addMonths;this.min&&(e.from=o(this._getMonth(this.min),i)),this.max&&(e.to=o(this._getMonth(this.max),i-r.length+1))}return e},t.prototype._getCalendar=function(e){return O.getControl(e)},t.prototype._getCalendars=function(){var e=K(this.hostElement,".wj-calendar-multimonth");return(e?this._getCalendar(e):this)._cals},t.prototype._syncProp=function(e,r){var i=this;if(!this._syncing){var o=this._getCalendars();if(o&&o.length>1){var s=e[r],l=this._mthMode()?W.addYears:W.addMonths;r=="displayMonth"&&(s=l(s,-o.indexOf(e))),o[0].deferUpdate(function(){i._syncing=!0,o.forEach(function(a,u){if(a!=e){var c=a.displayMonth;a[r]=r=="displayMonth"?l(s,u):s,r=="value"&&(a.displayMonth=c,i._rngMode()&&(a.rangeEnd=null))}}),i._syncing=!1})}}},t.prototype._updateContent=function(){var e=this.displayMonth,r=ne.format,i=W,o=this._getShowMonthPicker();mn(this._spMth,r(e,this._fmtYrMo));var s=this._btnMth.querySelector(".wj-glyph-down");s&&(s.style.display=this._mthMode()||!o?"none":"");var l=K(this._btnTdy,".wj-btn-group");l&&(l.style.display=o?"":"none");for(var a=this._fdw!=null?this._fdw:ne.getFirstDayOfWeek(),u=i.addDays(e,-(e.getDay()-a+7)%7),c=i.monthLast(e),h=this._tbMth.querySelectorAll("td"),d=0;d<7&&d<h.length;d++){var f=i.addDays(u,d);mn(h[d],r(f,this._fmtDayHdr))}var p=this._tbMth.querySelectorAll("tr");for(d=1;d<p.length;d++)De(p[d]);var g=i.addDays(u,-7*this._wksBefore);for(d=0;d<this._wksBefore;d++)g=this._addWeek(g,"wj-week-before");for(;g<=c;)g=this._addWeek(g);for(d=0;d<this._wksAfter;d++)g=this._addWeek(g,"wj-week-after");for((h=this._tbYr.querySelectorAll("td")).length&&mn(h[0],r(e,this._fmtYr)),d=1;d<h.length;d++){g=i.newDate(e.getFullYear(),d-1,1);var w=h[d],m=!this._monthInValidRange(g);w[t._DATE_KEY]=g,mn(w,r(g,this._fmtMonths)),te(w,"wj-state-disabled",m),Ve(w,ne.format(g,"MMMM yyyy"))}},t.prototype._updateSelection=function(){for(var e=t._DATE_KEY,r=W,i=this._tbMth.querySelectorAll("td"),o=7;o<i.length;o++){var s=(d=i[o])[e],l=this.value,a=this.rangeEnd,u=this._selMode&&l!=null&&r.sameDate(s,l),c=this._selMode&&l!=null&&r.sameDate(s,a),h=this._selMode&&l!=null&&s>l&&a!=null&&s<=a;te(d,"wj-state-selected",u),te(d,"wj-state-multi-selected",h),te(d,"wj-state-last-selected",c),A(d,"aria-selected",!!u||null),this._customizeCell(o,s,d)}for(i=this._tbYr.querySelectorAll("td"),o=0;o<i.length;o++){var d;s=(d=i[o])[e],u=this._sameMonth(s,this.value),te(d,"wj-state-selected",u),A(d,"aria-selected",!!u||null)}},t.prototype._addWeek=function(e,r){for(var i=this._createElement("tr",this._tbMth,r),o=W,s=0;s<7;s++){var l=this._createElement("td",i),a=o.addDays(e,s);l[t._DATE_KEY]=a,mn(l,ne.format(a,this._fmtDay)),Ve(l,ne.format(a,"D"));var u=!this._valid(a),c=a.getDay(),h=a.getMonth()!=this.displayMonth.getMonth();te(l,"wj-day-today",o.sameDate(a,o.newDate())),te(l,"wj-day-weekend",c==0||c==6),te(l,"wj-day-othermonth",h||!this._inValidRange(a)||u),te(l,"wj-state-invalid",u)}return o.addDays(e,7)},t.prototype._customizeCell=function(e,r,i){if(ee(this.itemFormatter)&&this.itemFormatter(r,i),this.formatItem.hasHandlers){var o=new Cc(e,r,i);this.onFormatItem(o)}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=Tt.None},t.prototype._valid=function(e){return!(!Me(e)||!W.sameDate(e,this._clamp(e)))&&(!ee(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){var r=W.fromDateTime;return!(this.min&&e<r(this.min,e))&&!(this.max&&e>r(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var r=e.getFullYear(),i=e.getMonth(),o=W,s=o.newDate(r,i,1),l=o.newDate(r,i+1,0);if(this.min&&this.min>l||this.max&&this.max<s)return!1}return!0},t.prototype._sameMonth=function(e,r){return Me(e)&&Me(r)&&e.getMonth()==r.getMonth()&&e.getFullYear()==r.getFullYear()},t.prototype._getValidDate=function(e,r){if(Me(e))for(var i=e.getFullYear(),o=e.getMonth()+(r?0:1),s=r?1:0,l=W,a=l.newDate(i,o,s),u=r?1:-1,c=0;c<31;c++){if(this._valid(a))return a;a=l.addDays(a,u)}return null},t.prototype._clamp=function(e){if(e){var r=W.fromDateTime;if(this.min){var i=r(this.min,e);e<i&&(e=i)}if(this.max){var o=r(this.max,e);e>o&&(e=o)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var r=oe.Calendar.ariaLabels;Ve(this._tbMth,r.calendar),Ve(this._tbYr,r.calendar),Ve(this._btnPrv,r.calendar),Ve(this._btnMth,r.monthView),Ve(this._btnPrv,r.prvMo),Ve(this._btnTdy,r.today),Ve(this._btnNxt,r.nxtMo);for(var i=this._createElement("tr",this._tbMth,"wj-header"),o=0;o<7;o++)this._createElement("td",i);i=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",i).setAttribute("colspan","4");for(var s=0;s<3;s++){i=this._createElement("tr",this._tbYr);for(var l=0;l<4;l++)this._createElement("td",i)}},t.prototype._createYearPicker=function(){var e=this,r=this.hostElement,i=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");i.tabIndex=this._orgTabIndex,this._lbYears=new Vr(i,{lostFocus:function(o){if(en(i),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),o.selectedIndex>-1){var s=W.clone(e.displayMonth);s.setFullYear(o.selectedIndex+o.itemsSource[0]),e.displayMonth=s}}}),this.addEventListener(i,"keydown",function(o){switch(o.keyCode){case E.Enter:r.focus();break;case E.Escape:e._lbYears.selectedIndex=-1,r.focus()}o.defaultPrevented&&o.stopPropagation()}),this.addEventListener(i,"click",function(o){r.focus()})},t.prototype._createElement=function(e,r,i){var o=document.createElement(e);return i&&ie(o,i),r&&r.appendChild(o),o},t.prototype._click=function(e){var r=this;if(!e.defaultPrevented&&e.button==0){var i=!1,o=e.target;if(q(this._btnMth,o)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,i=!0):q(this._btnPrv,o)?(this._navigate(-1),i=!0):q(this._btnNxt,o)?(this._navigate(1),i=!0):q(this._btnTdy,o)&&(this._navigate(0),i=!0),o&&!i&&this._yrPicker&&q(this._tbYr,o)&&K(o,".wj-header")){if(Date.now()-this._tmYrHidden<600){e.preventDefault();return}for(var s=this.displayMonth.getFullYear(),l=this.min?this.min.getFullYear():s-100,a=this.max?this.max.getFullYear():s+100,u=[],c=l;c<=a;c++)u.push(c);var h=this._lbYears,d=h.hostElement,f=K(o,".wj-header"),p=this.hostElement,g=K(p,".wj-inputdate-dropdown")||p;h.itemsSource=u,h.selectedIndex=s-u[0],A(d,"dir",this.rightToLeft?"rtl":null),H(d,{minWidth:"",width:f.offsetWidth}),kn(d,f,!1,!1,g),requestAnimationFrame(function(){h.showSelection(!0)}),this.addEventListener(window,"touchstart",function(y){q(d,y.target)||(en(d),r._tmYrHidden=Date.now(),r.removeEventListener(window,"touchstart"))}),e.preventDefault();return}if(o&&!i){var w=K(o,"td");if(w){var m=this.hitTest(w),_=W.fromDateTime;if(this.monthView){if(m&&this._canChangeValue()){var v=_(m,this._value);this._inValidRange(v)&&this._valid(v)&&(this._rngMode()&&this.value&&!this.rangeEnd&&v>=this.value?this.rangeEnd=v:this.value=v),i=!0}}else m&&(this.displayMonth=m,this._mthMode()?this._canChangeValue()&&(v=_(this.displayMonth,this.value),this._inValidRange(v)&&(this.value=v)):this.monthView=!0,i=!0)}}i&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case E.Up:case E.Down:return;case E.End:this._navigate(0),e.preventDefault();return}if(!(e.ctrlKey||e.metaKey||e.shiftKey&&!this._rngMode())){var r=this._getKeyCode(e),i=0,o=0,s=!0;if(this.monthView)switch(r){case E.Left:i=-1;break;case E.Right:i=1;break;case E.Up:i=-7;break;case E.Down:i=7;break;case E.PageDown:o=e.altKey?12:1;break;case E.PageUp:o=e.altKey?-12:-1;break;case E.Home:case E.End:if(this._canChangeValue()&&!e.shiftKey){var l=this.value||this.displayMonth;(u=this._getValidDate(l,r==E.Home))&&(this.value=W.fromDateTime(u,this.value),this._rngEnd=null)}break;default:s=!1}else switch(r){case E.Left:o=-1;break;case E.Right:o=1;break;case E.Up:o=-4;break;case E.Down:o=4;break;case E.PageDown:o=e.altKey?120:12;break;case E.PageUp:o=e.altKey?-120:-12;break;case E.Home:o=this.value?-this.value.getMonth():0;break;case E.End:o=this.value?11-this.value.getMonth():0;break;case E.Enter:this._mthMode()?s=!1:this.monthView=!0;break;default:s=!1}if(this._canChangeValue()&&(i||o)){var a=e.shiftKey&&this.rangeEnd!=null?this.rangeEnd:this.value,u=W;if(a?(a=u.addDays(a,i),a=u.addMonths(a,o)):a=this._getValidDate(new Date,!0),o&&!this._valid(a)){l=a.getMonth();for(var c=1;c<31&&!this._valid(a);c++){var h=u.addDays(a,+c),d=u.addDays(a,-c);this._valid(h)&&h.getMonth()==l?a=h:this._valid(d)&&d.getMonth()==l&&(a=d)}}for(c=0;c<31&&!this._valid(a);c++)a=u.addDays(a,i>0||o>0?1:-1);e.shiftKey&&a>this.value?this.rangeEnd=a:this.value=a}s&&e.preventDefault()}}},t.prototype._getMonth=function(e){var r=W;return e=e||r.newDate(),r.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._mthMode=function(){return this.selectionMode==Tt.Month},t.prototype._rngMode=function(){return this.selectionMode==Tt.Range},t.prototype._navigate=function(e){var r=this.monthView,i=this.displayMonth,o=W;switch(e){case 0:var s=o.newDate();this._canChangeValue()&&(this.value=r?o.fromDateTime(s,this.value):this._getMonth(s)),i=this._getMonth(s);break;case 1:i=o.addMonths(i,r?1:12);break;case-1:i=o.addMonths(i,r?-1:-12)}this.displayMonth=i},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this._lbYears.tabOrder=this._orgTabIndex},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(O);Si("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}});var si;(function(n){n[n.Select=0]="Select",n[n.Open=1]="Open",n[n.Toggle=2]="Toggle"})(si||(si={}));var fn,Or=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._clickAction=si.Select,i._showBtn=!0,i._autoExpand=!0,i._animate=!1,i._internalSettingText=!1,i._oldText="",i.textChanged=new P,i.isDroppedDownChanging=new P,i.isDroppedDownChanged=new P;var o=i.getTemplate();i.applyTemplate("wj-control wj-content wj-dropdown",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),i._dropDown.style.display="none";var s=oe.DropDown.ariaLabels;Ve(i._btn.querySelector("button"),s.tgl);var l=i._elRef=i._tbx;Sl(l),i._createDropDown(),i._updateBtn();var a=i.hostElement;ie(a,"wj-state-collapsed"),i.addEventListener(window,"resize",function(){i.isDroppedDown&&i.invalidate()});var u=i.dropDown,c=i.addEventListener.bind(i),h=i._updateFocusState.bind(i);c(u,"blur",h,!0),c(u,"focus",h);var d=i._keydown.bind(i);c(a,"keydown",d),c(u,"keydown",d);var f=i._keypress.bind(i);return c(a,"keypress",f,!0),c(u,"keypress",f,!0),c(l,"input",function(){i._setText(i.text,!1)}),c(l,"blur",function(){i._commitText(!0)},!0),c(l,"click",function(){i._autoExpand&&i._expandSelection()}),c(l,"mousedown",function(p){switch(i._clickAction){case si.Open:i.isDroppedDown||(p.preventDefault(),i.focus(),i.isDroppedDown=!0);break;case si.Toggle:p.preventDefault(),i.focus(),i.isDroppedDown=!i.isDroppedDown}}),c(i._btn,"mousedown",function(p){i._btnclick(p)}),De(u),ge()&&i._elRef==i._tbx&&c(a,"mouseup",function(p){if(!p.defaultPrevented&&p.button==0&&fe(p.target,"wj-btn")){var g=Z();g&&g!=p.target&&setTimeout(function(){g.focus()})}}),Jn()&&c(l,"keyup",function(){i._setText(i.text,!1)}),c(u,"click",i._dropDownClick.bind(i)),i}return Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=ye(e,si)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&e.style.display!="none"},set:function(e){var r=this,i=this.hostElement,o=this._dropDown,s=this.containsFocus();i&&o&&(e=k(e)&&!this.isDisabled&&!this.isReadOnly&&i.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new we)&&(e?(this._minWidthDropdown=o.style.minWidth,o.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",function(l){for(var a=l.target;a;){if(a==i)return;a=a[O._OWNR_KEY]||a.parentNode}O._touching=!0,r.isDroppedDown=!1,O._touching=!1})):(this.removeEventListener(window,"touchstart"),en(o),o.style.minWidth=this._minWidthDropdown),s&&(this.isTouching&&this.showDropDownButton?i.focus():this.selectAll()),this._updateFocusState(),te(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(Rt(this._dropDown,this._cssClass),this._cssClass=L(e),ie(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=k(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=k(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&J(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(e){this.isTouching||q(this._dropDown,Z())||this.selectAll(),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,n.prototype.onLostFocus.call(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this.isDroppedDown&&q(this._dropDown,e)},t.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){this._dropDown=null,De(e);var r=O.getControl(e);r&&r.dispose()}n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e);var r=this.hostElement;if(r&&r.offsetHeight&&this.isDroppedDown){var i=Z();this.isAnimated&&this._dropDown.style.opacity!=""||kn(this._dropDown,r,!1,!1,this.dropDownCssClass==null),i instanceof HTMLElement&&i!=Z()&&i.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,r=e.value,i=e.selectionStart,o=e.selectionEnd;if(r&&i==o){var s=this._getCharType(r,i);if(s>-1){for(;o<r.length&&this._getCharType(r,o)==s;o++);for(;i>0&&this._getCharType(r,i-1)==s;i--);i!=o&&J(e,i,o)}}},t.prototype._getCharType=function(e,r){var i=e[r];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented&&!this._isHiddenEditor()){switch(e.keyCode){case E.Tab:case E.Escape:case E.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==E.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case E.F4:case E.Up:case E.Down:if(e.keyCode==E.F4||e.altKey){var r=this.hostElement;r&&r.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}if(!e.defaultPrevented&&e.keyCode==E.Escape&&ge()){var i=this._tbx;if(e.target==i){var o=i.value;i.value=o+" ",i.value=o}}}},t.prototype._isHiddenEditor=function(){return fe(this._tbx,"wj-grid-ime")},t.prototype._keypress=function(e){e.code!="AltLeft"&&e.code!="AltRight"||e.preventDefault()},t.prototype._btnclick=function(e){!e.defaultPrevented&&e.button==0&&(e.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(e,r){(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this._internalSettingText||this.onTextChanged()),this._updateState()},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(e){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;A(e,"dir",this.rightToLeft?"rtl":null),kn(e,this.hostElement,!1,this._animate,this.dropDownCssClass==null)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(O),Be;(function(n){n[n.None=0]="None",n[n.ClickOwner=1]="ClickOwner",n[n.ClickPopup=2]="ClickPopup",n[n.Click=3]="Click",n[n.BlurOwner=4]="BlurOwner",n[n.BlurPopup=8]="BlurPopup",n[n.Blur=12]="Blur",n[n.ClickOrBlur=15]="ClickOrBlur",n[n.DownOwner=16]="DownOwner",n[n.DownPopup=32]="DownPopup",n[n.Down=48]="Down",n[n.EnterOwner=64]="EnterOwner",n[n.EnterPopup=128]="EnterPopup",n[n.Enter=192]="Enter",n[n.LeaveOwner=256]="LeaveOwner",n[n.LeavePopup=512]="LeavePopup",n[n.Leave=768]="Leave"})(Be||(Be={}));(function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=4]="Right",n[n.Bottom=8]="Bottom",n[n.LeftTop=3]="LeftTop",n[n.RightTop=6]="RightTop",n[n.RightBottom=12]="RightBottom",n[n.LeftBottom=9]="LeftBottom"})(fn||(fn={}));var Zv=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._owner=null,i._modal=!1,i._position=sn.BelowLeft,i._showTrigger=Be.ClickOwner,i._hideTrigger=Be.Blur,i._hideAnim=[],i._fadeIn=!0,i._fadeOut=!0,i._removeOnHide=!0,i._draggable=!1,i._resizable=!1,i._result=null,i._resultEnter=null,i._resultSubmit=null,i._callback=null,i._visible=!1,i._ownerClickBnd=i._ownerClick.bind(i),i._ownerDownBnd=i._ownerDown.bind(i),i._ownerBlurBnd=i._ownerBlur.bind(i),i._ownerEnterBnd=i._ownerEnter.bind(i),i._ownerLeaveBnd=i._ownerLeave.bind(i),i._mousedownBnd=i._mousedown.bind(i),i._mousemoveBnd=i._mousemove.bind(i),i._mousedragBnd=i._mousedrag.bind(i),i._mouseupBnd=i._mouseup.bind(i),i._hideBnd=i.hide.bind(i),i._lastShow=0,i.showing=new P,i.shown=new P,i.hiding=new P,i.hidden=new P,i.resizing=new P,i.resized=new P,i.dragging=new P,i.dragged=new P,i.sizeChanging=new P,i.sizeChanged=new P,i.positionChanging=new P,i.positionChanged=new P;var o=i.hostElement;ie(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),en(o,!1);var s=i.addEventListener.bind(i);s(o,"compositionstart",function(){i._composing=!0}),s(o,"compositionend",function(){i._composing=!1}),s(window,"resize",function(){!i.isVisible||i._dragged||i.isTouching||i.invalidate()}),s(o,"keydown",function(u){if(!u.defaultPrevented){if(u.keyCode==E.Escape&&!i._composing&&(u.preventDefault(),i.hide()),u.keyCode==E.Enter&&!i._composing){var c=i.dialogResultEnter;c&&(u.preventDefault(),i._validateAndHide(c))}u.keyCode==E.Tab&&i.modal&&(u.preventDefault(),fo(o,u.shiftKey?-1:1))}}),s(o,"click",function(u){var c=u.target;if(c instanceof HTMLElement){if(c instanceof HTMLButtonElement&&c.type=="submit"){var h=i.hostElement,d=i.dialogResultSubmit;h instanceof HTMLFormElement&&d&&h.reportValidity()&&(u.preventDefault(),i.hide(d))}var f=c.className.match(/\bwj-hide[\S]*\b/);f&&f.length>0&&(u.preventDefault(),u.stopPropagation(),i.hide(f[0]))}});var l=i._toggle.bind(i),a=Be;return i.addEventListener(o,"click",function(u){i._ignoreClick||l(u,a.ClickPopup)},!0),i.addEventListener(o,"mousedown",function(u){i._ignoreClick=!1,l(u,a.DownPopup)},!0),i.addEventListener(o,"mouseenter",function(u){u.target==o&&l(u,a.EnterPopup)},!0),i.addEventListener(o,"mouseleave",function(u){u.target==o&&l(u,a.LeavePopup)},!0),i.addEventListener(o,"blur",function(u){i.containsFocus()||l(u,a.BlurPopup)},!0),s(document,"wheel",function(u){if(i.isVisible&&i._modal){for(var c=u.target;c&&c!=document.body;c=c.parentElement)if(c.scrollHeight>c.clientHeight)return;u.preventDefault()}}),i.initialize(r),i}return Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var r=this._owner;r&&(this.removeEventListener(r,"click"),this.removeEventListener(r,"mousedown"),this.removeEventListener(r,"mouseenter"),this.removeEventListener(r,"mouseleave"),this.removeEventListener(r,"blur")),(r=this._owner=e!=null?Gn(e):null)&&(this.addEventListener(r,"click",this._ownerClickBnd,!0),this.addEventListener(r,"mousedown",this._ownerDownBnd,!0),this.addEventListener(r,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(r,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(r,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=ye(e,sn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=ye(e,Be)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=ye(e,Be)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){if((e=k(e))!=this.removeOnHide&&(this._removeOnHide=e,!this.isVisible)){var r=this.hostElement;e?De(r):r&&document.body&&(r.style.display="none",document.body.appendChild(r))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&e!=null&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,r){var i=this;if(this._lastShow=Date.now(),!this.isVisible){var o=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach(function(l){clearInterval(l)}),this._hideAnim.length>0&&(this._hideAnim.length=0,this._bkDrop&&(en(this._bkDrop,this.removeOnHide),this._bkDrop.style.opacity=""),en(o,this.removeOnHide),o.style.opacity="");var s=new we;this.onShowing(s)&&(e!=null&&(this.modal=k(e)),r!=null&&(this._callback=ke(r)),this._oldFocus=Z(),kn(o,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(s),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",function(){if(!i.containsFocus()){var l=i._myFocus;l&&l.offsetHeight?l.focus():fo(o,0)}}),this.addEventListener(o,"focusin",function(){var l=Z();l&&q(o,l)&&(l.tabIndex>-1||!i._myFocus)&&(i._myFocus=l)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(l){i._hideTrigger&Be.Blur&&!q(o,l.target,!0)&&i.hide()}),setTimeout(function(){i.addEventListener(window,"click",function(l){i._hideTrigger&Be.BlurPopup&&i.isDisabled&&!q(o,l.target,!0)&&i.hide()})}),setTimeout(function(){if(!i.isDisabled&&!i.containsFocus()&&!i.isTouching){var l=o.querySelector("[autofocus]");l&&l.clientHeight>0&&!l.disabled&&l.tabIndex>-1&&!K(l,"[disabled],.wj-state-disabled")?(l.focus(),ee(l.select)&&l.select()):fo(o,0)}!i.isDisabled&&!i.containsFocus()&&(o.tabIndex=0,o.focus())},100))}},t.prototype.hide=function(e){var r=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){Un(e)||(this.dialogResult=e);var i=new we,o=this.hostElement;if(this.onHiding(i)){for(var s=this.containsFocus()?this._oldFocus:null,l=o.querySelectorAll(".wj-control.wj-dropdown"),a=0;a<l.length;a++){var u=O.getControl(l[a]);u instanceof Or&&(u.isDroppedDown=!1)}var c=this.removeOnHide,h=this.fadeOut;setTimeout(function(){if(r._updateState(),r.onHidden(i),r._callback&&r._callback(r),r.hideTrigger&Be.LeavePopup){var d=O.getControl(K(r.owner,".wj-popup"));if(d instanceof t&&d.hideTrigger&Be.Leave){var f=t._evtHover,p=f?document.elementFromPoint(f.clientX,f.clientY):null,g=O.getControl(K(p,".wj-popup"));g instanceof t&&!g.isVisible&&(p=null),p&&q(d.hostElement,p,!0)||d.hide()}}},O._FOCUS_INTERVAL+50),this._bkDrop&&this._hideAnim.push(en(this._bkDrop,c,h)),this._hideAnim.push(en(o,c,h)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(o,"focusin"),this.containsFocus()&&Z().blur(),this._clearTimeouts(),!this.isVisible&&s&&s.offsetHeight&&s.focus()}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(e){if(n.prototype.onLostFocus.call(this,e),this._hideTrigger&Be.BlurPopup&&!this.containsFocus()){var r=document.createEvent("Event");r.initEvent("blur",!0,!0),this._toggle(r,Be.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0);var r=this.hostElement;if(n.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing&&r){this._refreshing=!0;for(var i=Z(),o=this._owner?this._owner.getBoundingClientRect():null,s=[],l=r.querySelectorAll(".wj-dropdown"),a=0;a<l.length;a++){var u=O.getControl(l[a]);u instanceof Or&&u.isDroppedDown&&(s.push(u),u.dropDown.style.display="none")}kn(r,o,this._position),s.forEach(function(c){c.dropDown.style.display="",c._updateDropDown()}),this._modal&&i instanceof HTMLElement&&i!=Z()&&i.focus(),this._refreshing=!1}},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},t.prototype._handleDragResize=function(e){var r=this.hostElement,i=this._draggable?this._getHeaderElement():null,o=this.addEventListener.bind(this),s=this.removeEventListener.bind(this),l=this._mousemoveBnd,a=this._mousedownBnd;e?(o(r,"mousemove",l),o(r,"mousedown",a),o(r,"touchstart",a),i&&(i.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,s(r,"mousemove",l),s(r,"mousedown",a),s(r,"touchstart",a),s(document,"mousemove",this._mousedragBnd),s(document,"mouseup",this._mouseupBnd),i&&(i.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var r=this.hostElement,i=this._getEdges(r,e),o="",s=fn;this._edges=i,this._resizable&&(i==s.LeftTop||i==s.RightBottom?o="nwse-resize":i==s.LeftBottom||i==s.RightTop?o="nesw-resize":i==s.Left||i==s.Right?o="ew-resize":i!=s.Top&&i!=s.Bottom||(o="ns-resize")),this._draggable&&!o&&this._getClosestHeader(e.target)&&(o="move"),r.style.cursor=o}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var r=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,r),this._edges||this._draggable&&this._getClosestHeader(e.target)){var i=new we;if(this._edges?this.onResizing(i):this.onDragging(i)){this._mousedownEvt=r,this._rcBounds=this.hostElement.getBoundingClientRect();var o=this.addEventListener.bind(this),s=document,l=this._mousedragBnd,a=this._mouseupBnd;o(s,"mousemove",l),o(s,"touchmove",l),o(s,"mouseup",a),o(s,"touchend",a)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),r=document,i=this._mousedragBnd,o=this._mouseupBnd;e(r,"mousemove",i),e(r,"touchmove",i),e(r,"mouseup",o),e(r,"touchend",o),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var r=this.hostElement,i=this._mousedownEvt,o=e.touches&&e.touches.length>0?e.touches[0]:e,s=o.clientX-i.clientX,l=o.clientY-i.clientY,a=this._rcBounds,u=this._edges,c=t._SZ_MIN,h=bt.fromBoundingRect(a);if(u){if(u&fn.Left?(h.left=a.left+s+(o.pageX-o.clientX),h.width=Math.max(a.width-s,c)):u&fn.Right&&(h.left=a.left,h.width=Math.max(a.width+s,c)),u&fn.Top?(h.top=a.top+l+(o.pageY-o.clientY),h.height=Math.max(a.height-l,c)):u&fn.Bottom&&(h.top=a.top,h.height=Math.max(a.height+l,c)),this.onSizeChanging(new pu(h))&&(H(r,{left:h.left,top:h.top,width:h.width,height:h.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var d=this.hostElement.children,f=0;f<d.length;f++)O.invalidateAll(d[f])}else this._draggable&&(this._dragged||Math.abs(s)+Math.abs(l)>t._DRAG_THRESHOLD)&&(h.left=Math.max(a.left+s+(o.pageX-o.clientX),50-a.width),h.top=Math.max(a.top+l+(o.pageY-o.clientY),0),this.onPositionChanging(new pu(h))&&(H(r,{left:h.left,top:h.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,r){var i=0;if(this._resizable){var o=e.getBoundingClientRect(),s=t._SZ_EDGE;r.clientX-o.left<s&&(i|=fn.Left),r.clientY-o.top<s&&(i|=fn.Top),o.right-r.clientX<s&&(i|=fn.Right),o.bottom-r.clientY<s&&(i|=fn.Bottom)}return i},t.prototype._ownerClick=function(e){this._toggle(e,Be.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,Be.DownOwner)},t.prototype._ownerBlur=function(e){q(this._owner,Z())||this._toggle(e,Be.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,Be.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,Be.LeaveOwner)},t.prototype._toggle=function(e,r){var i=this;if(e instanceof MouseEvent&&(t._evtHover=e),!(e.type=="mouseenter"&&Date.now()-this._lastShow<300||e.defaultPrevented)){var o=(this._hideTrigger&r)!=0,s=(this._showTrigger&r)!=0,l=Be;(o||s)&&this._clearTimeouts(),o&&this.isVisible&&(r&l.Leave?this._toHideLeave=setTimeout(function(){var a=t._evtHover,u=a?document.elementFromPoint(a.clientX,a.clientY):null;u&&q(i.hostElement,u,!0)||i.hide()},O._LEAVE_DELAY):r&l.Blur?this._toHideBlur=setTimeout(function(){i.containsFocus()||q(i._owner,Z())||i.hide()},O._FOCUS_INTERVAL+50):this.hide()),s&&r!=l.ClickPopup&&(this._wasVisible||(r&l.Enter?this._toShow=setTimeout(function(){i.show()},O._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return K(e,".wj-dialog-header")||K(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,ie(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",function(i){i.preventDefault(),i.stopPropagation(),e.hostElement.focus(),e.hideTrigger&Be.Blur&&e.hide()})),H(this._bkDrop,{zIndex:O._POPUP_ZINDEX,display:""});var r=this.hostElement;r.parentElement.insertBefore(this._bkDrop,r)},t.prototype._validateAndHide=function(e){var r=this.hostElement;if(r instanceof HTMLFormElement)r.reportValidity()&&this.hide(e);else{var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(O),pu=function(n){Ke(t,n);function t(e){var r=n.call(this)||this;return r._rc=e,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(we),xc=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._fmt="d",i._sep=" - ",i._rngs=null,i._showCal=!1,i._clsOnSel=!0,i._handleWheel=!0,i._clicked=!1,i._rangeChanged=!1,i._textInitialized=!1,i.valueChanged=new P,i.rangeEndChanged=new P,i.rangeChanged=new P,ie(i.hostElement,"wj-inputdate"),i._msk=new Br(i._tbx),Jn()||(i.inputType="tel"),i._tbx.type.match(/^(tel|text|)$/i)||(i.inputType="text"),i.addEventListener(i.hostElement,"wheel",function(u){if(i.handleWheel&&!u.defaultPrevented&&!i.isDroppedDown&&i.containsFocus()&&i.value!=null&&i._canChangeValue()){var c=ce(-u.deltaY,-1,1),h=i.value;i.value=i.selectionMode==Tt.Month?W.addMonths(h,c):W.addDays(h,c),i.selectAll(),u.preventDefault()}});var o=i._lbx=new Vr(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(u){var c=u.selectedItem,h=W.fromDateTime;if(c&&c.from&&c.to){var d=i.value;i.value=h(c.from,d),i.rangeEnd=h(c.to,d),i._selectAll()}else i._cal.hostElement.style.display=""}}),s=i._cal=new Qp(document.createElement("div")),l=i._dropDown;if(ie(l,"wj-inputdate-dropdown"),l.appendChild(o.hostElement),l.appendChild(s.hostElement),i.addEventListener(l,"click",function(){i._clicked=!0,setTimeout(function(){i._clicked=!1},50)},!0),i._orgTag=="INPUT"){var a=i._tbx.getAttribute("value");a&&(s.value=s.rangeEnd=ne.parseDate(a,"yyyy-MM-dd"))}return i.isRequired=!0,i._tbx.value=i._oldText=i._getText(),i.initialize(r),i._textInitialized&&i._tbx.value!==i._oldText&&(i._oldText=i._tbx.value,i._commitText()),i._updateState(),s.valueChanged.addHandler(function(u,c){i._refreshText(),i.onValueChanged(c),i._closeOnChange()}),s.rangeEndChanged.addHandler(function(u,c){s._rngMode()&&(i.onRangeEndChanged(c),i._closeOnChange(),s._clearingRangeEnd||i._refreshText())}),s.hostElement.addEventListener("click",function(u){if(s.selectionMode&&!s._rngMode()){var c=u.target,h=s.hitTest(c);(W.sameDate(i.value,h)||K(c,"[wj-part=btn-today]"))&&(i._closeOnChange(),i._refreshText())}}),i}return Object.defineProperty(t.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){var r=(e||"").toString();r!=this.text&&(r!=this._tbx.value&&(this._tbx.value=r),r!=this._oldText&&(this._oldText=r),this._commitText(),this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){e!=this.format&&(this._fmt=L(e),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._sep},set:function(e){e!=this._sep&&(this._sep=L(e,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(e){this._clsOnSel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){e=k(e),this._handleWheel=e,e||(this.calendar.handleWheel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(e){this._rngs!=e&&(B(e==null||ot(e),"Object expected"),this._rngs=e,this._lbx.itemsSource=this._getRanges(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(e){this._showCal=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._cal.min},set:function(e){this._cal.min=Nt(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._cal.max},set:function(e){this._cal.max=Nt(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(e){this._cal.repeatButtons=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this._refreshText(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(e){e!=this.itemValidator&&(this._cal.itemValidator=ke(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(e){this._cal.itemFormatter=ke(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))},t.prototype.onRangeChanged=function(e){this._rangeChanged=!1,this.rangeChanged.raise(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},t.prototype.onIsDroppedDownChanging=function(e){if(this.isDroppedDown)(i=this._cal)._rngMode()&&i.value&&!i.rangeEnd&&(i.rangeEnd=i.value);else{var r=this._lbx,i=this._cal,o=r.collectionView,s=r.hostElement.style,l=i.hostElement.style;if(i._rngMode()&&Ue(o)){var a=this._updateRangeSelection();s.display="",l.display=!this._showCal&&a&&a.from&&o.items.some(function(u){return!u.to})?"none":""}else s.display="none",l.display="";i._mthMode()||(i.monthView=!0)}return n.prototype.onIsDroppedDownChanging.call(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e);var r=this.containsFocus();this.isDroppedDown?(r&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},t.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),n.prototype._updateDropDown.call(this)},t.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)){if(this._isHiddenEditor())return;switch(e.keyCode){case E.Enter:this.isDroppedDown?this._refreshText():this._commitText();break;case E.Escape:this.text=this._getText(),this.selectAll();break;case E.Tab:if(this._cal._rngMode()){var r=this._tbx,i=this._sep,o=r.value,s=o.indexOf(i);if(s>-1){var l=o.length,a=r.selectionStart,u=r.selectionEnd,c=null;r.selectionEnd<=s&&!e.shiftKey?c=a==0&&u==0:e.shiftKey&&r.selectionStart>=s+i.length&&(c=a<l||u<l),c!=null&&(c?J(r,0,s):J(r,s+i.length,l),e.preventDefault())}}break;case E.Up:case E.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var h=e.keyCode==E.Up?1:-1,d=this.selectionMode==Tt.Month?W.addMonths(this.value,h):W.addDays(this.value,h);this.value=this._fromDateTime(d),this.selectAll(),e.preventDefault()}}}n.prototype._keydown.call(this,e)},t.prototype._expandSelection=function(){if(this._cal._rngMode()){var e=this._tbx,r=e.value,i=e.selectionStart,o=e.selectionEnd,s=this._sep,l=r.indexOf(s);l>-1&&i==o&&(o<=l?J(e,0,l):i>=l+s.length&&J(e,l+s.length,e.value.length))}else n.prototype._expandSelection.call(this)},t.prototype._refreshText=function(){var e=this._getText();e!=this.text&&(this._tbx.value=this._oldText=e,this.onTextChanged())},t.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},t.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var r=this._cal;(!r._rngMode()||r.value&&r.rangeEnd)&&setTimeout(function(){e.isDroppedDown=!1})}},t.prototype._tryFocus=function(e){var r=e.hostElement;return r&&r.offsetHeight?(r.focus(),!0):!1},t.prototype._clamp=function(e){return this._cal._clamp(e)},t.prototype._getText=function(){var e=ne.format,r=this._fmt,i=e(this.value,r);return this._cal._rngMode()&&i&&(i+=this._sep+e(this.rangeEnd,r)),i},t.prototype._commitText=function(e){var r=this._tbx.value;if(r!=this._getText()){var i=!1,o=this._fmt,s=this._cal,l=ne.parseDate;if(r||this.isRequired)if(s._rngMode()){var a=r.split(this._sep);if(a.length==2&&a[0]&&(c=l(a[0],o,this.value))){var u=l(a[1],o,this.value);s.value=this._fromDateTime(c),s.rangeEnd=u&&u>=c?this._fromDateTime(u):c,i=!0}}else{var c;(c=l(r,o,this.value))&&(this.value=this._fromDateTime(c),i=!0)}else this.value=this.rangeEnd=null,i=!0;(i||!this._containsFocus()&&this.onInvalidInput(new we))&&(this.text=this._getText())}e||this._selectAll()},t.prototype._fromDateTime=function(e){return W.fromDateTime(e,this.value)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=Tt.None},t.prototype._isValidDate=function(e){return!(e&&(this._clamp(e)!=e||this.itemValidator&&!this.itemValidator(e)))},t.prototype._getRanges=function(e){var r=[];if(ot(e))for(var i in e){var o=e[i];r.push({name:i,from:o?o[0]:null,to:o?o[1]:null})}return new on(r,{currentItem:null})},t.prototype._updateRangeSelection=function(){var e=this._lbx,r=-1;if(Ue(e.collectionView))for(var i=this._lbx.collectionView.items,o=W.sameDate,s=0;s<i.length;s++){var l=i[s];if(l.from){if(o(l.from,this.value)&&o(l.to,this.rangeEnd)){r=s;break}}else r=s}return e.selectedIndex=r,e.selectedItem},t.prototype._copy=function(e,r){if(e==="text"){var i=(r||"").toString();return i!==this.text&&(this._tbx.value=i,this._textInitialized=!0),!0}return!1},t}(Or),ey=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e,{selectionMode:Tt.Range,showMonthPicker:"Outside",monthCount:2})||this;return ie(i.hostElement,"wj-inputdaterange"),i._tbx.value=i._oldText=i._getText(),i.initialize(r),i._tbx.value!==i._oldText&&(i._oldText=i._tbx.value,i._commitText()),i}return Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){e=ye(e,Tt),B(e==Tt.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),t}(xc),ty=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;return i.valueChanged=new P,ie(i.hostElement,"wj-inputcolor"),i._ePreview=_e('<div class="wj-inputcolorbox"></div>',i.hostElement.firstElementChild),i._orgTag=="INPUT"&&(i._tbx.type="",i._commitText()),i.value="#ffffff",i.isRequired=!0,i.initialize(r),i._commitText(),i.addEventListener(i._colorPicker.hostElement,"click",function(o){var s=o.target;s&&s.tagName=="DIV"&&(K(s,'[wj-part="div-pal"]')||K(s,'[wj-part="div-pv"]'))&&s.style.backgroundColor&&(i.isDroppedDown=!1)}),i}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){(e=L(e))!=this.text&&(e||!this.isRequired)&&(!e||yt.fromString(e))&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new $p(this._dropDown),H(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){e.value=e._colorPicker.value})},t.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case E.Enter:this._commitText(),this.selectAll();break;case E.Escape:this.text=this.value,this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text,this._ePreview.style.backgroundColor="",this.onValueChanged();return}if(yt.fromString(this.text)){var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new we)&&(this.text=this._value?this._value:"")}},t.prototype._copy=function(e,r){if(e==="text"){var i=(r||"").toString();return i!==this.text&&(this._tbx.value=i),!0}return!1},t}(Or),Vo=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._editable=!1,i._trimText=!0,i._handleWheel=!0,i._delKey=0,i._pathHdr=new lt(null),i._bsCollapse=!0,i._fmtItemHandlers=0,i.itemsSourceChanged=new P,i.selectedIndexChanged=new P;var o=i.hostElement;ie(o,"wj-combobox"),i.dropDown.id=_c(o.id+"_dropdown"),i.autoExpandSelection=!1;var s=i._tbx;i.addEventListener(s,"compositionstart",function(){i._composing=!0}),i.addEventListener(s,"compositionend",function(){i._composing=!1,i._setText(i.text,!0)}),i.addEventListener(o,"wheel",i._wheel.bind(i)),i._orgTag=="SELECT"&&i._lbx._initFromSelect(o);var l=i._lbx;return l.loadedItems.addHandler(function(a){i.selectedIndex>-1&&(i.selectedIndex=l.selectedIndex)}),i.isRequired=!0,i.initialize(r),i}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var r=this.getDisplayText();this.text!=r&&this._setText(r,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=L(e);var r=this.getDisplayText();this.text!=r&&this._setText(r,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=k(e);var r=this.getDisplayText();this.text!=r&&this._setText(r,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=k(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=ke(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&ue(e)&&(this._lbx.selectedIndex=e),e=this.selectedIndex;var r=this.getDisplayText(e);if(this.text!=r){var i=this._internalSettingText;this._internalSettingText=this._lbx._ignoredItemChangedEvents,this._setText(r,!0),this._internalSettingText=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:e!=null&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,r=e?parseInt(e.style.maxWidth):null;return isNaN(r)?null:r},set:function(e){var r=this._dropDown.style;e=j(e,!0),r.maxWidth=e==null?"":e+"px",r.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,r){e===void 0&&(e=this.selectedIndex),r===void 0&&(r=this._trimText);var i,o=this.collectionView;if(this.headerPath&&e>-1&&Ue(o)){var s=o.items[e];i=(i=s?this._pathHdr.getValue(s):null)!=null?i.toString():"",this.isContentHtml&&(i=Pn(i))}else i=this._lbx.getDisplayText(e);return r?i.trim():i},t.prototype.indexOf=function(e,r){var i=this.collectionView,o=this.caseSensitiveSearch;if(Ue(i)&&e!=null){e=e.toString(),o||(e=e.toLowerCase()),this._trimText&&(e=e.trim());var s=this.selectedIndex,l=this.getDisplayText(s);if(r){if(o||(l=l.toLowerCase()),e==l)return s}else if(!e&&l=="")return s;for(var a=0;a<i.items.length;a++)if(this._lbx.isItemEnabled(a)){if(l=this.getDisplayText(a),o||(l=l.toLowerCase()),r){if(l==e)return a}else if(e&&l.indexOf(e)==0||!e&&l=="")return a}}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&Ue(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&Ue(this.collectionView)&&(this.selectedIndex=0),n.prototype.onLostFocus.call(this,e)},t.prototype.onIsDroppedDownChanging=function(e){return!this.isDroppedDown&&!this._hasItems()?(e.cancel=!0,!1):n.prototype.onIsDroppedDownChanging.call(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateBtn()},t.prototype._updateBtn=function(){var e=this.collectionView,r=this._tbx,i=this._hasItems();n.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&e!=null?"":"none",Dt(this._btn,i&&!this.isDisabled),A(r,"role",i?"combobox":null),A(r,"aria-autocomplete",i?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Ue(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,r=this.isDroppedDown,i=this.dropDown?this.dropDown.id:null,o=i&&Ue(this.collectionView);A(e,"aria-owns",o&&r?i:null),A(e,"aria-expanded",o?r:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new Vr(this._dropDown),this._lbx._container=this.hostElement),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn();var r=e._lbx.selectedIndex,i=e._lbx.hostElement.children,o=r>-1&&r<i.length?i[r].id:null;A(e._tbx,"aria-activedescendant",o&&o.length?o:null),e.selectedIndex=r,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()})},t.prototype._wheel=function(e){if(this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var r=this._findNext("",e.deltaY>0?1:-1);r>-1&&(this.selectedIndex=r),e.preventDefault()}},t.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),n.prototype._dropDownClick.call(this,e)},t.prototype._setText=function(e,r){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var i=this.formatItem.handlerCount;this._fmtItemHandlers!=i&&(this._fmtItemHandlers=i,this._lbx.loadList())}e==null&&(e=""),e=e.toString();var o=this.selectedIndex,s=this.collectionView,l=this._getSelStart(),a=-1,u=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(r=!0,u=!1),o=this.indexOf(e,r),u&&(o<0&&r&&(o=this.indexOf(e,!1)),o<0&&l>0&&(o=this.indexOf(e.substr(0,l),!1))),o<0&&!this.isEditable&&Ue(s)&&(this.isRequired||e)){var c=this._oldText||"";o=Math.max(0,this.indexOf(c,!1)),l=0;for(var h=0;h<e.length&&h<c.length;h++)if(e[h]!=c[h]){l=h;break}}o>-1&&(a=l,e=this.getDisplayText(o));var d=this._tbx;e!=d.value&&(d.value=e),a>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(a),s&&s.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,n.prototype._setText.call(this,e,r)}},t.prototype._findNext=function(e,r,i){i===void 0&&(i=this.selectedIndex);var o=this.collectionView,s=o?o.items.length:0,l=this._lbx,a=this.caseSensitiveSearch;if(o&&s&&r){a||(e=e.toLowerCase());for(var u=i+r;u>-1&&u<s;u+=r){var c=this.getDisplayText(u);if(a||(c=c.toLowerCase()),c.indexOf(e)==0&&(!this.dropDown.children[u]||l.isItemEnabled(u)))return u}}return i},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&Ue(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var r=this._getSelStart();switch(e.keyCode){case E.Back:if(this._bsCollapse&&!this.isEditable){var i=this._getSelEnd();r>0&&i==this._tbx.value.length&&Ue(this.collectionView)&&this._setSelRange(r-1,i)}this._delKey=e.keyCode;break;case E.Delete:this._delKey=e.keyCode;break;case E.Up:case E.Down:r==this.text.length&&(r=0),this.selectedIndex=this._findNext(this.text.substr(0,r),e.keyCode==E.Up?-1:1),this._setSelRange(r,this.text.length),e.preventDefault();break;case E.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case E.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}}},t.prototype._updateInputSelection=function(e){var r=this._tbx;this._elRef==r&&this._setSelRange(e,r.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,r){var i=this._tbx;this._elRef!=i||i.readOnly||J(i,e,r)},t}(Or);Si("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var ny=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;return i._maxHdrItems=2,i._readOnly=!1,i._hdrFmt=null,i.checkedItemsChanged=new P,ie(i.hostElement,"wj-multiselect"),i._tbx.readOnly=!0,i.checkedMemberPath=null,i.removeEventListener(i.dropDown,"click"),i._lbx.itemsChanged.addHandler(function(){i._updateHeader(!1)}),i._lbx.checkedItemsChanged.addHandler(function(){i._updateHeader(!1),i.onCheckedItemsChanged()}),i.clickAction=si.Toggle,i.initialize(r),i}return Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=k(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=j(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=L(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=ke(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=e==null?[]:mt(e),this._updateHeader()},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this._lbx.dispose(),n.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(e){var r=this;n.prototype.onIsDroppedDownChanged.call(this,e),setTimeout(function(){if(r.isDroppedDown&&r.containsFocus())if(r.showFilterInput&&!r.isTouching)r._msLbx._filter.focus();else{var i=r.listBox;if(i.selectedIndex<0){var o=0,s=i.checkedItems;s.length&&(o=i.collectionView.items.indexOf(s[0])),i.selectedIndex=Math.max(0,o)}i.showSelection(!0),i.focus()}})},t.prototype._createDropDown=function(){var e=_e("<div></div>",this._dropDown);this._msLbx=new Xp(e),this._lbx=this._msLbx.listBox,n.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=k(e),te(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,r){},t.prototype._keydown=function(e){n.prototype._keydown.call(this,e),fe(this._tbx,"wj-grid-ime")||!e.defaultPrevented&&Ue(this.collectionView)&&e.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._hasItems=function(){var e=this.collectionView,r=e?e.sourceCollection:null;return Ue(e)||r&&r.length&&this.showFilterInput},t.prototype._updateHeader=function(e){e===void 0&&(e=!0);var r="";if(ee(this._hdrFormatter))r=this._hdrFormatter(this);else{var i=this.checkedItems;if(i.length>0)if(i.length<=this._maxHdrItems){if(this.headerPath){var o=new lt(this.headerPath);i=i.map(function(a){return o.getValue(a)})}else if(this.displayMemberPath){var s=new lt(this.displayMemberPath);i=i.map(function(a){return s.getValue(a)})}this.isContentHtml&&(i=i.map(function(a){return Pn(a)})),this.trimText&&(i=i.map(function(a){return a?a.toString().trim():""})),r=i.join(", ")}else r=Nr(this.headerFormat||oe.MultiSelect.itemsSelected,{count:i.length})}var l=this.inputElement;r!=l.value&&(l.value=r,this.onTextChanged()),e&&this._lbx._updateCheckedList(this.checkedItems),this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(Vo),iy=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;i._closing=!1,i._cmd=null,i._cmdPath=null,i._cmdParamPath=null,i._subPath=null,i._owner=null,i._isButton=!1,i._openOnHover=!1,i._closeOnLeave=!0,i._subMenu=null,i._hoverEnterBnd=i._hoverEnter.bind(i),i._hoverLeaveBnd=i._hoverLeave.bind(i),i._hoverOverBnd=i._hoverOver.bind(i),i.itemClicked=new P;var o=i.hostElement,s=i._tbx,l=i._lbx,a=i.dropDown;return ie(o,"wj-menu"),s.style.display="none",i._hdr=i._elRef=_e('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(i._hdr,i._tbx),o.tabIndex=i.isDisabled?-1:i._orgTabIndex,i.isRequired=!1,A(o,"role","menubar",!0),A(s,"role",null),A(s,"aria-autocomplete",null),A(s,"aria-owns",null),A(a,"role","menu"),l.itemRole="menuitem",i._orgTag=="SELECT"&&(i.header=o.getAttribute("header"),i._lbx.itemsSource&&(i.commandParameterPath="cmdParam")),i.isContentHtml=!0,i.maxDropDownHeight=500,i.addEventListener(i._hdr,"click",function(u){u.defaultPrevented||(i._clearHover(u),i._isButton?(i.isDroppedDown=!1,i._raiseCommand()):i.isDroppedDown=!i.isDroppedDown)}),l.lostFocus.addHandler(function(){i.containsFocus()||(i.isDroppedDown=!1)}),ie(a,"wj-menu-items"),l.formatItem.addHandler(i._formatMenuItem.bind(i)),i.initialize(r),i}return Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=k(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=k(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=Le(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new we))){var r=this.dropDown,i=this.owner;!i&&e instanceof MouseEvent&&(i=e.target),i instanceof HTMLElement&&(r[O._OWNR_KEY]=i),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new xt(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),kn(r,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),r.focus()}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new we)&&(en(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown){this._closing=!0;var r=this._lbx._ignoredItemChangedEvents;this._lbx._ignoredItemChangedEvents=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this._lbx._ignoredItemChangedEvents=r,this.dropDown.focus()}else{if(!this.selectedItem){var i=this._lbx._checking;this._lbx._checking=!0,this.selectedItem=this._defaultItem,this._lbx._checking=i}var o=this._subMenu;o&&(o.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,r=this.dropDown,i=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),s="mouseleave";o(e,"mouseenter",this._hoverEnterBnd),o(e,s,this._hoverLeaveBnd),o(r,"mouseover",this._hoverOverBnd),o(r,s,this._hoverLeaveBnd),this._openOnHover&&(i(e,"mouseenter",this._hoverEnterBnd),i(r,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(i(e,s,this._hoverLeaveBnd),i(r,s,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var r=this.subItemsPath,i=e&&r?e[r]:null;return We(i)&&i.length?i:null},t.prototype._formatMenuItem=function(e,r){var i=r.item;this._getSubItems(r.data)?ie(i,"wj-subitems"):i.innerHTML=="-"&&(i.innerHTML="",ie(i,"wj-separator"))},t.prototype._keydown=function(e){if(!e.defaultPrevented){var r=this._getKeyCode(e);if(this.isDroppedDown)switch(r){case E.Enter:case E.Right:if(this._showSubMenu()){e.preventDefault();return}break;case E.Left:var i=O.getControl(this.owner);if(i instanceof t){var o=i.dropDown,s=i.selectedIndex;(s>-1?o.children[s]:o).focus(),e.preventDefault();return}}r==E.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,e.preventDefault()))}n.prototype._keydown.call(this,e)},t.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu()){e.preventDefault();return}this.selectedIndex>-1&&this._raiseCommand()}n.prototype._dropDownClick.call(this,e)},t.prototype._showSubMenu=function(){var e=this,r=this._getSubItems(this.selectedItem);if(!r)return null;var i=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new xt(i.right,i.top);if(i.height==0)return null;var s=this.rightToLeft||this.dropDown.getAttribute("dir")=="rtl";s&&(o.x=i.left);var l=this._subMenu;l&&(l.isDroppedDown=!1),l=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:r,itemClicked:function(h,d){e.itemClicked.raise(h,d)},formatItem:function(h,d){e.formatItem.raise(h,d)}});var a=this.collectionView,u=l.collectionView;a&&a.filter&&u&&!u.filter&&(u.filter=a.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(h){l[h]=e[h]});var c=l.dropDown;return A(c,"dir",s?"rtl":null),l.show(o),c[O._OWNR_KEY]=this.dropDown,c.focus(),l},t.prototype._raiseCommand=function(e){var r=this.selectedItem,i=this._getSubItems(r),o=this._getCommand(r);if(o&&!i){var s=this._getCommandParm(r);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}var l=this.headerPath;if(l){var a=new lt(l).getValue(r);a=a==null?"":a.toString(),this.header=this.isContentHtml?a:xn(a)}if(this.onItemClicked(e),this.containsFocus()){for(var u=this;u&&u.owner;){var c=O.getControl(u.owner);if(!(c instanceof t))break;u=c}var h=u.owner;if(!h&&u.dropDown&&(h=u.dropDown[O._OWNR_KEY]),u.isDroppedDown=!1,u.focus(),!u.containsFocus()&&h instanceof HTMLElement&&h.offsetHeight){var d=document.documentElement,f=d.scrollLeft,p=d.scrollTop;h.focus(),d.scrollLeft=f,d.scrollTop=p}}},t.prototype._getCommand=function(e){var r=e&&this._cmdPath?e[this._cmdPath]:null;return r||this._cmd},t.prototype._getCommandParm=function(e){var r=this._cmdParamPath;return e&&r?e[r]:e},t.prototype._executeCommand=function(e,r){e&&!ee(e)&&(e=e.executeCommand),ee(e)&&e(r)},t.prototype._canExecuteCommand=function(e,r){if(e){var i=e.canExecuteCommand;if(ee(i))return i(r)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,r=0;r<e.length;r++){var i=e[r],o=this._getCommand(i);if(o){var s=this._lbx.hostElement.children[r],l=this._getCommandParm(i);te(s,"wj-state-disabled",!this._canExecuteCommand(o,l))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._isTargetDisabled=function(e){return fe(e.target,"wj-state-disabled")},t.prototype._hoverEnter=function(e){var r=this;this._clearHover(e),this._toHover=setTimeout(function(){r._toHover=null,r.isDroppedDown=!0},O._HOVER_DELAY)},t.prototype._hoverOver=function(e){var r=this;this._clearHover(e),this._toHover=setTimeout(function(){r._toHover=null;var i=r.listBox.indexOf(e.target);i>-1&&!fe(e.target,"wj-state-disabled")&&(r.selectedIndex=i,r._subMenu=r._showSubMenu())},O._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var r=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout(function(){var i=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,o=K(i,".wj-listbox.wj-menu-items"),s=r._subMenu;!o&&!q(r.hostElement,i,!0)&&(r.isDroppedDown=!1,s&&(s.isDroppedDown=!1))},O._LEAVE_DELAY))},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},t}(Vo),Jp=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;if(i._format="t",i.valueChanged=new P,ie(i.hostElement,"wj-inputtime"),i.isEditable=!0,i._value=W.newDate(),i._min=i._max=null,i._msk=new Br(i._tbx),Jn()||(i._tbx.type="tel"),i._orgTag=="INPUT"){var o=i._tbx.getAttribute("value");o&&(i.value=ne.parseDate(o,"HH:mm:ss"))}return i.step=15,i.autoExpandSelection=!0,i.initialize(r),i._commitText(),i}return Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=L(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=Nt(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?ne.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=W.fromDateTime(e,this.selectedItem.value)),e!=this._value&&!W.equals(e,this._value)&&(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=Nt(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=Nt(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=j(e,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=L(e),this._tbx.value=ne.format(this.value,this.format),Ue(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=L(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(e){n.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=this.itemsSource!=null},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk.refresh(),this._tbx.value=ne.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var r=this.value?this.value:W.newDate(),i=this.selectedItem.value!=null?this.selectedItem.value:ne.parseDate(this.text,this.format,this.value);this.value=W.fromDateTime(r,i)}n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._clamp=function(e){return this._min!=null&&this._getTime(e)<this._getTime(this._min)&&(e=W.fromDateTime(e,this._min)),this._max!=null&&this._getTime(e)>this._getTime(this._max)&&(e=W.fromDateTime(e,this._max)),e},t.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&ue(this.step)&&this.step>0){var r=W.addMinutes(this.value,this.step*ce(e.deltaY,-1,1));this.value=this._clamp(r),this.selectAll(),e.preventDefault()}n.prototype._wheel.call(this,e)},t.prototype._updateInputSelection=function(e){if(this._delKey)n.prototype._updateInputSelection.call(this,e);else{for(var r=this._tbx.value;e<r.length&&!r[e].match(/[a-z0-9]/i);)e++;J(this._tbx,e,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],r=new Date(2020,0),i=new Date(2020,0,1,23,59,59),o=this.step;if(this.min&&r.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&i.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),ue(o)&&o>=1)for(var s=r;s<=i;s=W.addMinutes(s,o))e.push({value:s,text:ne.format(s,this.format)});var l=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,!l&&this.isRequired||(this.value=l)}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case E.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case E.Escape:this.text=ne.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?ne.format(this.value,this.format):"";if(this.text!=e){var r=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:ne.parseDate(this.text,this.format,this.value);r?(W.sameTime(r,this._clamp(r))||this.onInvalidInput(new we))&&(this.value=W.fromDateTime(this.value,r)):this.onInvalidInput(new we)&&(this.text=e)}}else this.value=null},t.prototype._copy=function(e,r){return e==="text"?((r||"").toString()!==this.text&&this._setText(r,!0),!0):!1},t}(Vo);Si("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var ry=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;ie(i.hostElement,"wj-inputdatetime");var o=oe.InputDateTime.ariaLabels;Ve(i._btn,o.tglDate),Ve(i._btnTm,o.tglTime),i.value=new Date,i.format="g",i._inputTime=new Jp(document.createElement("div"),{valueChanged:function(a){var u=i.rangeEnd;i.value=W.fromDateTime(i.value,a.value),i.calendar._rngMode()&&u&&(i.rangeEnd=W.fromDateTime(u,a.value))},isDroppedDownChanged:function(a){a.listBox.containsFocus()&&i.inputElement.focus(),i._selectAll()}});var s=i.addEventListener.bind(i);i._btnTm=i.hostElement.querySelector('[wj-part="btn-tm"]'),s(i._btnTm,"mousedown",function(a){i._btnclick(a)}),i._ddDate=i._dropDown;var l=i._ddTime=i._inputTime.dropDown;return s(l,"keydown",i._keydown.bind(i),!0),s(l,"blur",function(){i._updateFocusState()},!0),s(l,"click",function(a){a.defaultPrevented||a.target!=l&&i.hostElement.focus()},!0),i.initialize(r),i._commitText(),i}return Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e,this._btnTm.style.display=ue(e)&&e>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._fromDateTime=function(e){return e},t.prototype._btnclick=function(e){var r=K(e.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(r),n.prototype._btnclick.call(this,e)},t.prototype.dispose=function(){this._setDropdown(this._ddDate),n.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(e){e===void 0&&(e=!0),this._inputTime.refresh(),n.prototype.refresh.call(this,e)},t.prototype._updateBtn=function(){n.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var r=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=r,!0},t.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),n.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&this.value!=null,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):n.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(xc),Zp=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;return i._cssMatch="wj-state-match",i._minLength=2,i._maxItems=6,i._itemCount=0,i._beginsWith=!1,i._delay=O._SEARCH_DELAY,i._query="",i._inCallback=!1,i._srchProps=[],i._oldSelectedIndex=-1,ie(i.hostElement,"wj-autocomplete"),i._bsCollapse=!1,i.isEditable=!0,i.isRequired=!1,i.listBox.formatItem.addHandler(i._formatListItem,i),i._itemsSourceFnCallbackBnd=i._itemSourceFunctionCallback.bind(i),i.initialize(r),i}return Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(e){this._beginsWith=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=j(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=L(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=ke(e),ee(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=L(e)},enumerable:!0,configurable:!0}),t.prototype.onSelectedIndexChanged=function(e){this._settingText||n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case E.Up:case E.Down:this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._setText=function(e){var r=this;if(this._composing&&e!=this._oldText&&(this._oldText=e,this.onTextChanged()),!(this._inCallback||this._composing||this._settingText)){if(this._toSearch||(this._oldSelectedIndex=this.selectedIndex),this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),e!=this._oldText){var i=this._tbx;i.value!=e&&(i.value=e),this._oldText=e,this.onTextChanged();var o=this.collectionView;if(!e&&o){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,o.filter=null;var s=this.itemsSourceFunction;ee(s)&&(this.isDroppedDown=!1,s(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)),this.selectedIndex==-1&&this._oldSelectedIndex!=-1&&this.onSelectedIndexChanged();return}}this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){r._toSearch=null;var l=r.text.trim();if(l.length>=r._minLength&&l!=r._query){r._query=l,l=mc(l);var a=xn(l),u=r.caseSensitiveSearch?"":"i";r._beginsWith||(u+="g"),r._rxSrch=r._beginsWith?new RegExp("^"+l+".*",u):new RegExp("(?=.*"+l.replace(/ /g,")(?=.*")+")",u),r._rxHighlight=r._beginsWith?new RegExp("^"+l,u):new RegExp("("+a.replace(/\s+/g,"|")+")",u);var c=r.itemsSourceFunction;ee(c)?c(r._query,r.maxItems,r._itemsSourceFnCallbackBnd):r._updateItems()}r.selectedIndex==-1&&r._oldSelectedIndex!=-1&&r.onSelectedIndexChanged()},this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var r=No(e||[]);if(r.moveCurrentToPosition(-1),this.itemsSource=r,this._inCallback=!1,this.containsFocus()){var i=this._tbx,o=i.selectionStart,s=i.selectionEnd,l=this.collectionView;this.isDroppedDown=l!=null&&l.items.length>0,J(i,o,s),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching){var r=this.collectionView;if(this.selectedIndex<0&&r){var i=r.items,o=this.text;i.length==1&&i[0]==o?this.selectedIndex=0:J(this._tbx,o.length)}}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var r=e.items.length,i=this._tbx,o=i.selectionStart,s=i.selectionEnd;if(this.isDroppedDown=r>0&&this.containsFocus(),r||this.isEditable||(this.selectedIndex=-1),r==1&&this.selectedIndex<0){var l=this._getItemText(e.items[0],!1),a=i.value;this.caseSensitiveSearch||(l=l.toLowerCase(),a=a.toLowerCase()),l==a&&(this.selectedIndex=0)}this.isDroppedDown&&J(i,o,s),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var r=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach(function(o){var s=e[o];s!=null&&r.push(s)}),this.isContentHtml&&(r=r.map(function(o){return o.replace(/(<[^>]*>|&[^;]*;)/g,"")}));for(var i=0;i<r.length;i++)if(this._rxSrch.test(r[i]))return this._itemCount++,!0;return!1},t.prototype._getItemText=function(e,r){var i=e?e.toString():"",o=r&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return o&&(i=(i=o.getValue(e))!=null?i.toString():""),i},t.prototype._formatListItem=function(e,r){var i=this;this._cssMatch&&this._rxHighlight&&(r.item.innerHTML=r.item.innerHTML.replace(this._rxHighlight,function(o,s,l,a){return i._enclosed(a,l,"<",">")||i._enclosed(a,l,"&",";")?o:'<span class="'+i._cssMatch+'">'+o+"</span>"}))},t.prototype._enclosed=function(e,r,i,o){for(var s=r;s>=0&&e[s]!=o;s--)if(e[s]==i){for(var l=r;l<e.length&&e[l]!=i;l++)if(e[l]==o)return!0}return!1},t}(Vo),oy=function(n){Ke(t,n);function t(e,r){var i=n.call(this,e)||this;return i._selItems=[],i._maxSelItems=null,i._lastInputValue="",i._selPath=new lt(null),i._notAddItm=!1,i.selectedItemsChanged=new P,ie(i.hostElement,"wj-multi-autocomplete"),i._wjTpl=i.hostElement.querySelector(".wj-template"),i._wjInput=i.hostElement.querySelector(".wj-input"),i.showDropDownButton=!1,i.initialize(r),i.addEventListener(i.hostElement,"keyup",i._keyup.bind(i),!0),i.addEventListener(window,"resize",i._adjustInputWidth.bind(i)),i.addEventListener(i._tbx,"focus",function(){i._itemOff()}),i._addHelperInput(),i._initSeltems(),i.listBox.itemsChanged.addHandler(function(){return i.selectedIndex=-1}),i._refreshHeader(),i._updateTabIndex(),i}return Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=j(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=L(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){var r=this._selItems===e;if(r||this._selItems==null||e==null||this._selItems.length!==e.length||(r=this._selItems.every(function(s,l){return s===e[l]})),this._selItems=mt(e),!r){if(this.selectedMemberPath&&this.selectedMemberPath!==""&&this._selItems)for(var i=0;i<this._selItems.length;i++){var o=this._selItems[i];this._setSelItem(o,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()}},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,n.prototype.onIsDroppedDownChanged.call(this,e)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case E.Back:this._lastInputValue=this._tbx.value;break;case E.Enter:this._itemOff(),this._addItem(!0),ge()&&J(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case E.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,e.preventDefault()):this._updateFocus();break;case E.Space:if(this._tbx.value!=="")return;!this.isDroppedDown&&!this._tbx.disabled&&(this.isDroppedDown=!0,this._clearSelIndex());break;case E.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case E.Left:this._itemOn(!this.rightToLeft);break;case E.Right:this._itemOn(!!this.rightToLeft);break;case E.Up:case E.Down:var r=Z();if(e.altKey){if(this._tbx==r){this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),e.preventDefault();return}}else if(this._tbx!==r)return;default:if(e.keyCode===E.Back||e.keyCode===E.Delete)return;this._itemOff(),this._maxSelItems!=null&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||n.prototype._keydown.call(this,e)}},t.prototype._updateState=function(){n.prototype._updateState.call(this),this._wjTpl&&(fe(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case E.Back:this._tbx.value.length===0&&this._lastInputValue.length===0&&this._delItem(!1);break;case E.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),r=0;r<e.length;r++)this._wjTpl.removeChild(e[r]);var i=this.selectedItems;if(i&&i.length!==0){for(r=0;r<i.length;r++)this._insertToken(i[r]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var r=this._getItemText(e,!0);this.isContentHtml||(r=xn(r)),this._wjTpl.insertBefore(this._createItem(r),this._wjInput)},t.prototype._updateMaxItems=function(){this._maxSelItems!=null&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,r=this._wjTpl.querySelector("."+t._clsActive);r?(Rt(r,t._clsActive),setTimeout(function(){e._tbx.focus()})):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var r,i,o=this._wjTpl.querySelector("."+t._clsActive),s=!1;(!e||o)&&(o?(i=this._getItemIndex(o))>-1&&(r=this._selItems[i],s=!0):this._selItems.length>0&&(r=this._selItems[this._selItems.length-1],s=!0),s&&(this._updateSelItems(r,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,r){if(r){if(this._selItems&&this._selItems.length!==0||(this._selItems=[]),this._maxSelItems!=null&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var i=this._selItems.indexOf(e);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,r),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var r=this,i=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return i.appendChild(o),i.appendChild(s),i.className="wj-token",o.className="wj-token-label",o.innerHTML=e,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="×",i.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(i,"click",function(l){r._helperInput.focus();var a=r._wjTpl.querySelector("."+t._clsActive);a&&Rt(a,t._clsActive),ie(i,t._clsActive),l.stopPropagation(),l.preventDefault()}),this.addEventListener(s,"click",function(l){if(!r.isReadOnly){var a=r._getItemIndex(i);if(a>-1){var u=r._selItems[a];r._updateSelItems(u,!1)}r._wjTpl.removeChild(i),r._adjustInputWidth(),r._disableInput(!1),r._tbx.focus(),l.stopPropagation(),l.preventDefault()}}),i},t.prototype._itemOn=function(e){var r,i,o,s=Z();if((this._tbx!=s||this._tbx.value.length===0)&&(r=this._wjTpl.querySelectorAll(".wj-token")).length!==0){if(i=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(i),e){if(o===0)return;o===-1?(ie(r[r.length-1],t._clsActive),this._helperInput.focus()):(Rt(i,t._clsActive),ie(r[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(o===-1)return;o!==r.length-1?(Rt(i,t._clsActive),ie(r[o+1],t._clsActive),this._helperInput.focus()):(Rt(i,t._clsActive),this._tbx.focus())}}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&Rt(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var r=0;r<e.sourceCollection.length;r++)this._getSelItem(r)&&this._selItems.push(e.sourceCollection[r])}},t.prototype._getSelItem=function(e){var r=this.collectionView,i=r?r.sourceCollection[e]:null;return!(!ot(i)||!this.selectedMemberPath)&&this._selPath.getValue(i)},t.prototype._setSelItem=function(e,r){this.itemsSource,ot(e)&&this._selPath.getValue(e)!=r&&this._selPath.setValue(e,r)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&this.selectedMemberPath!==""},t.prototype._disableInput=function(e){this._maxSelItems!=null&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var e,r=el(this.hostElement),i=el(this._tbx),o=getComputedStyle(this._tbx),s=parseInt(o.paddingLeft,10),l=parseInt(o.paddingRight,10);e=this.rightToLeft?i.left+i.width-r.left-s-l-8:r.left+r.width-i.left-s-l-8,this._tbx.style.width=e+"px"},t.prototype._getItemIndex=function(e){for(var r=this.hostElement.querySelectorAll(".wj-token"),i=0;i<r.length;i++)if(e===r[i])return i;return-1},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.hostElement;this._tbx.tabIndex=this.isDisabled?-1:this._orgTabIndex,e.tabIndex=-1},t._clsActive="wj-token-active",t}(Zp);Bo("wijmo.input",yg);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var nd,qt=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eg=null;function tg(){return eg}if(wr()){var ua=navigator.userAgent.match(/version\/([\d\.]+)/i);if(ua!=null){var id=ua[1],rd=(ua=id.match(/(\d+)/g)).map(function(n){return parseInt(n)});eg={full:id,major:rd[0],minor:rd[1]}}}var Bt;(function(n){n[n.AutoComplete=0]="AutoComplete",n[n.DropDownList=1]="DropDownList",n[n.RadioButtons=2]="RadioButtons"})(Bt||(Bt={}));var gu=function(){function n(t,e,r){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this._serK=!0,this.mapChanged=new P,We(t)&&!e&&!r&&(t=t.map(function(i){return{value:i}}),e=r="value"),this._cv=No(t),this._keyPath=L(e,!1),this._displayPath=L(r,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(n.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(t){this._sortByVal=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serializeKeys",{get:function(){return this._serK},set:function(t){if((t=k(t))!==this._serK){var e=this._map,r=e&&e.size;this._map=null,this._serK=t,r&&this.onMapChanged(xi.empty)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),n.prototype.getDataItem=function(t){var e=this;if(!this._map){var r=this._cv.sourceCollection,i=new Bp(this.serializeKeys);We(r)&&this._keyPath&&r.forEach(function(o){var s=o[e._keyPath];i.has(s)||i.set(s,o)}),this._map=i}return this._map.get(t)},n.prototype.getDisplayValue=function(t){var e=this._displayPath,r=this.getDataItem(t);return e&&r?r[e]:t},n.prototype.getKeyValue=function(t,e){var r=this._displayPath,i=this._indexOf(t,r,e,!0);return i<0&&(i=this._indexOf(t,r,e,!1)),i>-1?this._cv.sourceCollection[i][this._keyPath]:null},n.prototype.getDisplayValues=function(t){var e=this;return this._cv&&this._displayPath?this._cv.items.map(function(r){return r[e._displayPath]}):[]},n.prototype.getKeyValues=function(){var t=this;return this._cv&&this._keyPath?this._cv.items.map(function(e){return e[t._keyPath]}):[]},Object.defineProperty(n.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"search",{get:function(){return this._search},set:function(t){this._search=ke(t)},enumerable:!0,configurable:!0}),n.prototype.onMapChanged=function(t){this._map=null,this.mapChanged.raise(this,t)},n.prototype._indexOf=function(t,e,r,i){var o=-1,s=-1;if(this._cv&&e){var l=t!=null?t.toString():"";l&&r&&(t=Pn(l));for(var a=i?l:l.toLowerCase(),u=this._cv.sourceCollection,c=0;c<u.length;c++){var h=u[c],d=h[e];if(r&&Q(d)&&(d=Pn(d)),d==t?o=c:i||d.length!=a.length||d.toLowerCase()!=a?d!=null&&d.toString()==l&&(o=c):o=c,o==c){if(!this._cv.filter||this._cv.filter(h))return o;s<0&&(s=o)}}}return s},n}(),z=function(){function n(t,e,r,i){t===void 0&&(t=-1),e===void 0&&(e=-1),r===void 0&&(r=t),i===void 0&&(i=e),this.setRange(t,e,r,i)}return n.prototype.setRange=function(t,e,r,i){t===void 0&&(t=-1),e===void 0&&(e=-1),r===void 0&&(r=t),i===void 0&&(i=e),this._row=Ee(t),this._col=Ee(e),this._row2=Ee(r),this._col2=Ee(i)},Object.defineProperty(n.prototype,"row",{get:function(){return this._row},set:function(t){this._row=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._col},set:function(t){this._col=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=Ee(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=Ee(t)},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this._row,this._col,this._row2,this._col2)},n.prototype.copy=function(t){this.setRange(t._row,t._col,t._row2,t._col2)},Object.defineProperty(n.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),n.prototype.contains=function(t,e){var r=Wt(t,n);if(r)return r.topRow>=this.topRow&&r.bottomRow<=this.bottomRow&&r.leftCol>=this.leftCol&&r.rightCol<=this.rightCol;if(Zs(t)&&Zs(e))return t>=this.topRow&&t<=this.bottomRow&&e>=this.leftCol&&e<=this.rightCol;throw"contains expects a CellRange or row/column indices."},n.prototype.containsRow=function(t){return Ee(t)>=this.topRow&&t<=this.bottomRow},n.prototype.containsColumn=function(t){return Ee(t)>=this.leftCol&&t<=this.rightCol},n.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},n.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},n.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},n.prototype.getRenderSize=function(t){var e=new Xt(0,0);if(this.isValid){for(var r=this.topRow;r<=this.bottomRow;r++)e.height+=t.rows[r].renderSize;for(var i=this.leftCol;i<=this.rightCol;i++)e.width+=t.columns[i].renderSize}return e},n.prototype.equals=function(t){return t instanceof n&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},n.prototype.combine=function(t){return t?new n(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},n.prototype.toString=function(){return Nr("({row}, {col})-({row2}, {col2})",this)},n}(),U;(function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.TopLeft=4]="TopLeft",n[n.ColumnFooter=5]="ColumnFooter",n[n.BottomLeft=6]="BottomLeft"})(U||(U={}));var kt=function(){function n(t,e,r,i,o){this._offsetY=0,this._rng=new z,this._g=Le(t,un),this._ct=Ee(e),this._rows=Le(r,po),this._cols=Le(i,ol),this._e=Le(o,HTMLElement),this._vrb=new z}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),n.prototype.getCellData=function(t,e,r){var i,o=this._g,s=this._rows[j(t,!1,!0)],l=null;if(!s)return null;e=this._toIndex(e),i=this._cols[j(e,!1,!0)];var a=o?o._getBindingColumn(this,t,i):i,u=null;if(s instanceof Pe&&s.dataItem instanceof yn&&!o.childItemsPath&&(u=s.dataItem),a.binding&&s.dataItem&&!u?l=a._binding.getValue(s.dataItem):s._ubv&&(l=s._ubv[i._hash]),l==null){var c=U;switch(this._ct){case c.TopLeft:case c.ColumnHeader:t!=this._rows.length-1&&a==i||(l=a.header);break;case c.ColumnFooter:if(s instanceof Pe&&a.aggregate!=xe.None){var h=this._g.collectionView;if(h){var d=Wt(h,on);l=d?d.getAggregate(a.aggregate,a.binding):kl(a.aggregate,h.items,a.binding)}}break;case c.Cell:s instanceof Pe&&(e==this._cols.firstVisibleIndex?l=s.getGroupHeader():u&&a.aggregate!=xe.None&&(l=u.getAggregate(a.aggregate,a.binding,this._g.collectionView)))}}if(r){var f=a.dataMap||s.dataMap;this.cellType==U.Cell&&f&&(l=f.getDisplayValue(l)),l=l!=null?ne.format(l,a.format||s.format):""}return l},n.prototype.setCellData=function(t,e,r,i,o){i===void 0&&(i=!0),o===void 0&&(o=!0);var s=this._g,l=this._rows[j(t,!1,!0)],a=this._cols[j(this._toIndex(e),!1,!0)],u=ve;if(!l)return!1;var c=s?s._getBindingColumn(this,t,a):a,h=c.dataMap||l.dataMap;if(this._ct==U.Cell){var d=c.getIsRequired(l),f=c.isContentHtml||l.isContentHtml;if(h&&r!=null){var p=h.getKeyValue(r,f);if(p==null&&h.getDisplayValue(null)==null){if(h.getDisplayValue(r)==r){if(!h.isEditable||h.displayMemberPath!=h.selectedValuePath){if(r!=""||d)return!1;r=null}}}else r=p}var g=u.Object,w=c.dataType||l.dataType,m=this.getCellData(t,e,!1);if(g=w||yi(m),r==null||r===""&&i&&!h){if(d)return!1;g!=u.String&&(r=null),i=!1}if(i){var _=c.format||l.format;if(_||g!=u.Date||(_="d"),c.mask&&Q(r)&&g!=u.String&&(r=r.replace(/_/g,"")),r=Cl(r,g,_,m),g!=u.Object&&yi(r)!=g)return!1}}if(l.dataItem&&c.binding){var v=c._binding,y=l.dataItem,b=v.getValue(y);if(r!==b&&(h&&!h.serializeKeys||!W.equals(r,b))){var x=s.collectionView,C=x instanceof on&&y!=x.currentEditItem&&x.trackChanges,S=null;if(C&&(S=x._extend({},y)),v.setValue(y,r),C){var M=new Zt(Oe.Change,y,x.items.indexOf(y));x.onCollectionChanged(M),x._trackItemChanged(y,S)}}}else l._ubv||(l._ubv={}),l._ubv[a._hash]=r;return o&&s&&s.invalidate(),!0},n.prototype.getCellBoundingRect=function(t,e,r){var i=this._g,o=this.rows[t],s=this.columns[this._toIndex(e)],l=new bt(s.pos,o.pos,s.renderSize,o.renderSize);if(i.rightToLeft&&(l.left=this.hostElement.clientWidth-l.right,ge()||(l.left-=i._root.offsetWidth-i._root.clientWidth)),!r){var a=this.hostElement.getBoundingClientRect();l.left+=a.left,l.top+=a.top-this._offsetY}return t<this.rows.frozen&&(l.top-=i.scrollPosition.y),e<this.columns.frozen&&(l.left-=i.scrollPosition.x*(i.rightToLeft?-1:1)),l},n.prototype.getCellElement=function(t,e){var r=this.hostElement.children,i=Math.min(t+2,r.length);e=this._toIndex(e);for(var o=0;o<i;o++)for(var s=r[o].children,l=Math.min(e+2,s.length),a=0;a<l;a++){var u=s[a],c=u[n._INDEX_KEY];if(c&&(c.row==t&&c.col==e||c.rng&&c.rng.contains(t,e)))return u}return null},n.prototype.getSelectedState=function(t,e,r){var i=this._g,o=i.selectionMode,s=i._selHdl.selection,l=se,a=jr;if(o==l.None)return a.None;switch(e=this._toIndex(e),this._ct){case U.Cell:if(r||(r=i.getMergedRange(this,t,e)),r){if(r.contains(s.row,s.col))return i.showMarquee?a.Active:a.Cursor;if(r.intersects(s)&&o!=l.ListBox)return a.Selected;for(var u=r.leftCol;u<=r.rightCol;u++)if(i.columns[u].isSelected)return a.Selected;for(var c=r.topRow;c<=r.bottomRow;c++)if(i.rows[c].isSelected)return a.Selected}if(s.row==t&&s.col==e)return i.showMarquee?a.Active:a.Cursor;if(i.rows[t].isSelected||i.columns[e].isSelected)return a.Selected;if(o==l.MultiRange){for(var h=i._selHdl.extendedSelection,d=0;d<h.length;d++)if(h[d].contains(t,e)||r&&r.intersects(h[d]))return a.Selected}if(r)switch(o){case l.Row:case l.RowRange:if(r.containsRow(s.row))return a.Selected}return o==l.ListBox?a.None:(s=this._getAdjustedSelection(s)).containsRow(t)&&s.containsColumn(e)?a.Selected:a.None;case U.ColumnHeader:if(i.showSelectedHeaders&ze.Column&&(i.columns[e].isSelected||s.containsColumn(e)||s.intersectsColumn(r))&&(r&&(t=r.bottomRow),t==this.rows.length-1))return a.Selected;break;case U.RowHeader:if(i.showSelectedHeaders&ze.Row&&(i.rows[t].isSelected||s.containsRow(t)||s.intersectsRow(r))&&(r&&(e=r.rightCol),e==this.columns.length-1))return a.Selected}return a.None},Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),n.prototype._toIndex=function(t){if(Q(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";return t},n.prototype._getAdjustedSelection=function(t){var e=this._g,r=this._rng,i=se;switch(e.selectionMode){case i.Cell:r.setRange(t.row,t.col,t.row,t.col);break;case i.Row:r.setRange(t.row,0,t.row,e.columns.length-1);break;case i.RowRange:case i.ListBox:r.setRange(t.row,0,t.row2,e.columns.length-1);break;default:r.copy(t)}return r},n.prototype._getOffsetY=function(){return this._offsetY},n.prototype._updateContent=function(t,e,r){var i=this._g,o=this._e,s=this._rows,l=this._cols,a=this._ct;if(a==U.ColumnHeader||a==U.ColumnFooter||a==U.RowHeader){var u=i._ptScrl,c=o.style;a==U.RowHeader?c.top=u.y+"px":i.rightToLeft?c.right=u.x+"px":c.left=u.x+"px"}this._offsetY!=r&&(t=!1,this._offsetY=r);var h=this._getViewRange(),d=h;if(d.isValid){var f=s.length<=i._vtRows?s.length:0,p=l.length<=i._vtCols?l.length:0;d=new z(Math.max(h.row-f,s.frozen),Math.max(h.col-p,l.frozen),Math.min(h.row2+f,s.length-1),Math.min(h.col2+p,l.length-1))}if(t&&!e&&this._vrb.contains(h)&&!s.frozen&&!l.frozen)return this._activeCell;t&&d.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=U.TopLeft&&this._reorderCells(d,this._vrb),this._activeCell=null,this._vru=h,this._vrb=d,this._recycle=t;var g=0;this._ct==U.Cell&&(g=this._renderColHdrRow(d,e));for(var w=0;w<s.frozen&&w<s.length;w++)g=this._renderRow(w,d,e,g);for(w=d.topRow;w<=d.bottomRow&&w>-1;w++)g=this._renderRow(w,d,e,g);for(;o.childElementCount>g;){var m=o.lastElementChild;De(m),this._removeExtraCells(m,0)}return this._activeCell},n.prototype._clearCells=function(){for(var t=this.hostElement,e=this._g.cellFactory,r=t.childElementCount-1;r>=0;r--){var i=t.children[r];De(i);for(var o=i.childElementCount-1;o>=0;o--)e.disposeCell(i.children[o])}},n.prototype._reorderCells=function(t,e){var r=this;if(this._g._reorderCells&&e.isValid&&t.isValid&&t.intersects(e)){var i=function(p,g,w,m,_,v){B(w<0,"Scroll delta must be a negative number");var y,b,x=-w,C=g+(m-_+1),S=p.childElementCount-C;if(S<x?(y=S,b=x-S):(y=x,b=0),y>0){var M=r._createRange(p,C,C+y);M&&p.insertBefore(M.extractContents(),p.children[g])}if(b>0)for(var I=p.children[g],N=0;N<b;N++){var R=document.createElement("div");R.className=v,p.insertBefore(R,I)}};if(t.row!=e.row){var o=this._e;if((c=t.row-e.row)!=0){var s=this._ct==U.Cell?1:0,l=o.childElementCount;if(s+=this.rows.frozen,c>0){var a=s,u=Math.min(s+c,l);(f=this._createRange(o,a,u))&&o.appendChild(f.extractContents())}else i(o,s,c,t.row2,e.row,"wj-row")}}if(t.col!=e.col){var c;if(o=this._e,(c=t.col-e.col)!=0){s=this._ct==U.Cell&&this._g.rowHeaderPath?1:0,s+=this.columns.frozen;for(var h=0;h<o.children.length;h++){var d=o.children[h];if(l=d.children.length,fe(d,"wj-row"))if(c>0){var f;a=s,u=Math.min(s+c,l),(f=this._createRange(d,a,u))&&d.appendChild(f.extractContents())}else i(d,s,c,t.col2,e.col,"wj-cell")}}}}},n.prototype._createRange=function(t,e,r){if(r>e&&r<=t.children.length&&e>-1){this._docRange||(this._docRange=document.createRange());var i=this._docRange;return i.setStart(t,e),i.setEnd(t,r),i}return null},n.prototype._renderColHdrRow=function(t,e){if(e)return 1;var r=this._e.children[0];r||(r=_e('<div class="wj-row" role="row"></div>',this._e));var i=this._g,o=i?i.columnHeaders.rows.ariaLabel:null;A(r,"aria-label",o),A(r,"aria-selected",null);var s=0,l=this._g._getRowHeaderPath();l&&(s=this._renderRowHdrCell(r,-1,l.path));for(var a=0;a<this.columns.frozen&&a<this.columns.length;a++)s=this._renderColHdrCell(r,a,t,e,s);for(a=t.leftCol;a<=t.rightCol&&a>-1;a++)s=this._renderColHdrCell(r,a,t,e,s);return this._removeExtraCells(r,s),1},n.prototype._renderColHdrCell=function(t,e,r,i,o){var s=this.grid,l=this.columns[e];if(l.renderSize<=0)return o;if(i)return o+1;var a=t.children[o];if(a||(a=_e(n._HTML_CELL,t)),A(a,"role","columnheader"),a&&this._recycle&&s._lazyRender){var u=a[n._INDEX_KEY];if(u&&u.row==-1&&u.col==e&&e>=this.columns.frozen)return o+1}if(a.textContent=this.columns[e].header,H(a,{position:"fixed",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),l.describedById||this.columns.describedById){var c=[l.describedById,this.columns.describedById].join(" ").trim();A(a,"aria-describedby",c||null)}if(s.allowSorting){var h="none";switch(s._getBindingColumn(this,0,l).currentSort){case"+":h="ascending";break;case"-":h="descending"}A(a,"aria-sort",h)}return s.isReadOnly||(A(a,"aria-readonly",l.isReadOnly),A(a,"aria-required",l.isReadOnly?null:l.getIsRequired())),a[n._INDEX_KEY]={row:-1,col:e,panel:this},o+1},n.prototype._renderRowHdrCell=function(t,e,r){var i=t.children[0];return i||(i=_e(n._HTML_CELL,t)),i.setAttribute("role",e<0?"columnheader":"rowheader"),i.textContent=r?r.toString():"",H(i,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),i[n._INDEX_KEY]={row:e,col:-1,panel:this},1},n.prototype._renderRow=function(t,e,r,i){var o=this._g,s=this.rows[t];if(s.renderSize<=0)return i;var l=this._e.children[i];if(l||(l=_e('<div class="wj-row"></div>',this._e)),this._ct==U.Cell){l.setAttribute("role","row");var a=se,u=s.isSelected;switch(o.selectionMode){case a.Row:case a.RowRange:u=u||this._g._selHdl.selection.containsRow(t)}A(l,"aria-selected",!!u||null),A(l,"aria-level",s instanceof Pe?s.level+1:null),A(l,"aria-expanded",s instanceof Pe?!s.isCollapsed:null),this.rows.ariaLabel&&A(l,"aria-label",this.rows.ariaLabel)}var c=0;if(this._ct==U.Cell){var h=this._g._getRowHeaderPath();h&&(c=this._renderRowHdrCell(l,t,h.getValue(s.dataItem)))}for(var d=0;d<this.columns.frozen&&d<this.columns.length;d++)c=this._renderCell(l,t,d,e,r,c);for(d=e.leftCol;d<=e.rightCol&&d>-1;d++)c=this._renderCell(l,t,d,e,r,c);return this._removeExtraCells(l,c),i+1},n.prototype._renderCell=function(t,e,r,i,o,s){var l=this._g,a=this._ct==U.Cell?l.getMergedRange(this,e,r,!1):l.getMergedRange(this,e,r);if(a){for(var u=Math.max(i.row,a.row);u<e;u++)if(this.rows[u].renderSize)return s;for(u=Math.max(i.col,a.col);u<r;u++)if(this.columns[u].renderSize)return s;var c=this.columns.frozen;if(c&&a.col<c&&a.col2>=c&&r>a.col)return s}var h=this.columns[r];if(h.renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return s;var d=t.children[s];if(d&&!o&&this._recycle&&l._lazyRender&&!l.activeEditor){var f=d[n._INDEX_KEY];f&&f.row==e&&f.col==r&&f.rng==a&&e>=this.rows.frozen&&r>=this.columns.frozen&&(o=!0)}var p=jr,g=this.getSelectedState(e,r,a),w=g==p.Cursor||g==p.Active;if(d&&o)return te(d,"wj-state-active",w),te(d,"wj-state-selected",g==p.Cursor),te(d,"wj-state-multi-selected",g==p.Selected),A(d,"aria-selected",!(!w&&g==p.None)||null),w&&(this._activeCell=d),s+1;if(d||(d=_e(n._HTML_CELL,t)),w&&(this._activeCell=d),this._ct==U.Cell){A(d,"role","gridcell"),A(d,"aria-selected",!(g==p.None&&!w)||null);var m=!l.canEditCell(e,r)||null;A(d,"aria-readonly",m),A(d,"aria-required",m?null:h.getIsRequired())}return l.cellFactory.updateCell(this,e,r,d,a),d[n._INDEX_KEY]={row:e,col:r,rng:a,panel:this},s+1},n.prototype._removeExtraCells=function(t,e){for(var r=this._g.cellFactory;t.childElementCount>e;){var i=t.lastElementChild;De(i),r.disposeCell(i)}for(var o=t.childElementCount-1;o>-1;--o){var s=[t.children[o],t.children[o-1]],l=s[1];if((i=s[0])&&l){var a=i.getAttribute("style")===l.getAttribute("style"),u=i.innerHTML===l.innerHTML;a&&u&&(De(i),r.disposeCell(i))}}},n.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,r=t._szClientSB,i=this._rows,o=this._cols,s=new z(0,0,i.length-1,o.length-1);if(this._ct==U.Cell||this._ct==U.RowHeader){var l=-e.y+this._offsetY,a=r.height;(d=Math.min(i.frozen,i.length-1))>0&&(l+=g=i[d-1].pos,a-=g),d>0&&i[d].pos>r.height?s.row=s.row2=-1:(s.row=Math.min(i.length-1,Math.max(d,i.getItemAt(l))),s.row2=Math.max(s.row,i.getItemAt(l+a)));var u=t.hostElement;if(t._clipToScreen&&u){var c=u.getBoundingClientRect(),h=-c.top-t.cells._e.offsetTop;c.top<0&&(s.row=Math.max(s.row,i.getItemAt(h)-1)),c.bottom>innerHeight&&(s.row2=Math.min(s.row2,i.getItemAt(h+innerHeight)+1))}}if(this._ct==U.Cell||this._ct==U.ColumnHeader){var d,f=-e.x,p=r.width;if((d=Math.min(o.frozen,o.length-1))>0){var g;f+=g=o[d-1].pos,p-=g}d>0&&o[d].pos>r.width?s.col=s.col2=-1:(s.col=Math.min(o.length-1,Math.max(d,o.getItemAt(f))),s.col2=Math.max(s.col,o.getItemAt(f+p)))}return i.length<=i.frozen&&(s.row=s.row2=-1),o.length<=o.frozen&&(s.col=s.col2=-1),s},n.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,r=t>0?this._rows[t-1]:null,i=e>0?this._cols[e-1]:null,o=r?r.pos+r.renderSize:0,s=i?i.pos+i.renderSize:0;return new xt(s,o)},n._INDEX_KEY="wj-cell-index",n._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',n}(),de=function(n){qt(t,n);function t(e,r,i){var o=n.call(this)||this;return o._p=Le(e,kt,!0),o._rng=Le(r,z,!0),o._data=i,o}return Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var r=this._p,i=r&&this.col>-1?r.columns[this.col]:null;if(i&&e){var o=r.grid;i=r.cellType===U.ColumnHeader&&o._hasColumnGroups()?o._getColumnGroup(this.row,this.col):r.grid._getBindingColumn(r,this.row,i)}return i},t}(we),ng=function(n){qt(t,n);function t(e,r,i,o){var s=n.call(this,e,r)||this;return s._updateContent=!0,s._cell=Le(i,HTMLElement),s}return Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),t}(de),rl=function(n){qt(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._stayInEditMode=!1,e._refresh=!0,e}return Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=k(e)},enumerable:!0,configurable:!0}),t}(de),se;(function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.CellRange=2]="CellRange",n[n.Row=3]="Row",n[n.RowRange=4]="RowRange",n[n.ListBox=5]="ListBox",n[n.MultiRange=6]="MultiRange"})(se||(se={}));var jr;(function(n){n[n.None=0]="None",n[n.Selected=1]="Selected",n[n.Cursor=2]="Cursor",n[n.Active=3]="Active"})(jr||(jr={}));var Hn;(function(n){n[n.None=0]="None",n[n.Next=1]="Next",n[n.Prev=2]="Prev",n[n.NextPage=3]="NextPage",n[n.PrevPage=4]="PrevPage",n[n.Home=5]="Home",n[n.End=6]="End",n[n.NextCell=7]="NextCell",n[n.PrevCell=8]="PrevCell",n[n.NextEditableCell=9]="NextEditableCell",n[n.PrevEditableCell=10]="PrevEditableCell"})(Hn||(Hn={}));var ig=function(){function n(t){this._sel=new z(0,0),this._xSel=new $t,this._mode=se.CellRange,this._g=t,this._e=new de(t.cells,new z(0,0)),this._xSel.collectionChanged.addHandler(function(){t.invalidate()})}return Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&this._setSelectionMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),n.prototype.select=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!1);var i=this._g,o=this._e.range,s=this._sel,l=o,a=!1,u=se;if(ue(t)&&Q(e)){var c=i.columns.indexOf(e);if(c<0)throw"Invalid column name or binding.";o.setRange(t,c),e=!0}else ue(t)&&ue(e)?(o.setRange(t,e),e=!0):t instanceof z?o.copy(t):B(!1,"CellRange expected");switch(i.selectionMode){case u.Cell:l.row2=l.row,l.col2=l.col;break;case u.Row:l.row2=l.row;break;case u.ListBox:a=!0}var h=l.equals(s);if(h&&a){for(var d=0;d<i.rows.length;d++)if(i.rows[d].isSelected!==l.containsRow(d)){h=!1;break}}if(h)return e&&i.isRangeValid(l)&&this._showSelection(),!0;var f=O.getControl(K(Z(),".wj-flexgrid"));if(f&&f.activeEditor&&!f.finishEditing())return!1;var p=this._e;if(p._rng=l,p.cancel=!1,!i.onSelectionChanging(p)&&!r)return!1;a&&i.rows.forEach(function(m,_){m._setFlag($.Selected,l.containsRow(_),!0)}),l.row=Math.min(l.row,i.rows.length-1),l.row2=Math.min(l.row2,i.rows.length-1),this._sel.copy(l),i.refreshCells(!1,!0,!0),e&&this._showSelection();var g=i.collectionView;if(g){var w=i._getCvIndex(l.row);g.moveCurrentToPosition(w)}return i.onSelectionChanged(p),!0},n.prototype.moveSelection=function(t,e,r){var i=this._g,o=this._sel,s=r&&i.anchorCursor?new z(o.row2,o.col2):new z(o.row,o.col);this._adjustReferenceCell(s,t,e);var l=s.row,a=s.col,u=i.columns,c=Math.max(0,i._szClient.height-i.columnHeaders.height),h=Hn;switch(e){case h.NextCell:case h.NextEditableCell:(a=this._getNextColumnCell(l,a,e))==s.col&&(l=this._getNextRowCell(l,a,e))>s.row&&(a=this._getNextColumnCell(l,0,e),a=this._getNextColumnCell(l,a,e==h.NextCell?h.PrevCell:h.PrevEditableCell)),i.select(l,a);break;case h.PrevCell:case h.PrevEditableCell:(a=this._getNextColumnCell(l,s.col,e))==s.col&&(l=this._getNextRowCell(l,a,e))<s.row&&(a=this._getNextColumnCell(l,u.length-1,e),a=this._getNextColumnCell(l,a,e==h.PrevCell?h.NextCell:h.NextEditableCell)),i.select(l,a);break;default:l=this._getNextRowCell(l,a,t,c),a=this._getNextColumnCell(l,a,e,c),r?i.selection=i.anchorCursor?new z(o.row,o.col,l,a):new z(l,a,o.row2,o.col2):i.select(l,a)}},n.prototype._getNextColumnCell=function(t,e,r,i){return i===void 0&&(i=0),this._g.columns.getNextCell(e,r,i)},n.prototype._getNextRowCell=function(t,e,r,i){return i===void 0&&(i=0),this._g.rows.getNextCell(t,r,i)},n.prototype._setSelectionMode=function(t){var e=this._g,r=e.rows;this._mode=t,this._xSel.clear(),r.length&&(this._adjustSelection(this._sel,t,!0),e.invalidate())},n.prototype._adjustSelection=function(t,e,r){r===void 0&&(r=!1);var i=this._g.rows,o=se,s=this._g.hostElement.querySelector("input.wj-column-selector")instanceof HTMLInputElement;if(!s)for(var l=0;l<i.length;l++)i[l]._setFlag($.Selected,!1,!0);var a=t.clone();switch(e){case o.None:a=new z;break;case o.Cell:a=new z(t.row,t.col);break;case o.ListBox:if(s)return;for(l=0;l<i.length;l++)i[l]._setFlag($.Selected,a.containsRow(l),!0)}this.select(a,!1,r)},n.prototype._expandSelection=function(){var t=this._g,e=t.selectionMode;if(t.expandSelectionOnCopyPaste&&e){var r=this.selection,i=se;switch(e){case i.Cell:case i.Row:break;case i.ListBox:this._expandSelectedRows();break;case i.RowRange:r=new z(r.topRow,0,r.bottomRow,t.columns.length-1);default:var o=this._expandSelectionRange(r);o&&this.select(o,!1)}}},n.prototype._deselectRange=function(t){var e=this.selection,r=this.extendedSelection;if(e.contains(t)){var i=r.length;return this._sel=i?r[i-1]:new z,i&&r.removeAt(i-1),!0}for(var o=0;o<r.length;o++)if(r[o].contains(t))return r.removeAt(o),!0;return!1},n.prototype._expandSelectedRows=function(){B(this.selectionMode==se.ListBox,"ListBox mode expected");for(var t=this._g,e=t.selectedRows.map(function(a){return a.index}),r=[],i=0;i<e.length;i++)for(var o=new z(e[i],0,e[i],t.columns.length-1),s=this._expandSelectionRange(o)||o,l=s.topRow;l<=s.bottomRow;l++)r.indexOf(l)===-1&&r.push(l);r.sort(),this._selectRows(r)},n.prototype._expandSelectionRange=function(t){var e=this._g,r=e.cells,i=e.getMergedRange(r,t.topRow,t.leftCol,!1),o=e.getMergedRange(r,t.bottomRow,t.leftCol,!1),s=e.getMergedRange(r,t.topRow,t.rightCol,!1),l=e.getMergedRange(r,t.bottomRow,t.rightCol,!1);return i||o||s||l?(i=i||new z(t.topRow,t.leftCol),o=o||new z(t.bottomRow,t.leftCol),s=s||new z(t.topRow,t.rightCol),l=l||new z(t.bottomRow,t.rightCol),new z(Math.min(i.topRow,o.topRow,s.topRow,l.topRow),Math.min(i.leftCol,o.leftCol,s.leftCol,l.leftCol),Math.max(i.bottomRow,o.bottomRow,s.bottomRow,l.bottomRow),Math.max(i.rightCol,o.rightCol,s.rightCol,l.rightCol))):null},n.prototype._selectRows=function(t){B(this.selectionMode==se.ListBox,"ListBox mode expected");for(var e=this._g,r=0,i=!0;r<e.rows.length;r++){var o=e.rows[r],s=t&&t.indexOf(o.index)>-1;s&&i&&(i=!1,this.select(r,this.selection.col)),o.isSelected=s}},n.prototype._showSelection=function(){var t=this._g,e=this._sel;t.anchorCursor?t.scrollIntoView(e.row2,e.col2):t.scrollIntoView(e.row,e.col)},n.prototype._adjustReferenceCell=function(t,e,r){var i=this._g,o=i.getMergedRange(i.cells,t.row,t.col);if(o&&!o.isSingleCell){var s=Hn;switch(e){case s.Next:case s.NextCell:case s.NextEditableCell:t.row=o.bottomRow;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.row=o.topRow}switch(r){case s.Next:case s.NextCell:case s.NextEditableCell:t.col=o.rightCol;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.col=o.leftCol}}},n}(),$;(function(n){n[n.Visible=1]="Visible",n[n.AllowResizing=2]="AllowResizing",n[n.AllowDragging=4]="AllowDragging",n[n.AllowMerging=8]="AllowMerging",n[n.AllowSorting=16]="AllowSorting",n[n.AutoGenerated=32]="AutoGenerated",n[n.Collapsed=64]="Collapsed",n[n.ParentCollapsed=128]="ParentCollapsed",n[n.Selected=256]="Selected",n[n.ReadOnly=512]="ReadOnly",n[n.HtmlContent=1024]="HtmlContent",n[n.WordWrap=2048]="WordWrap",n[n.MultiLine=4096]="MultiLine",n[n.HasTemplate=8192]="HasTemplate",n[n.RowDefault=3]="RowDefault",n[n.ColumnDefault=23]="ColumnDefault"})($||($={}));var Il=function(){function n(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new P}return Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=L(t);if(this._binding=e?new lt(e):null,!this._type&&this.grid&&this._binding){var r=this.grid.collectionView;if(r&&r.sourceCollection&&r.sourceCollection.length){var i=r.sourceCollection[0];this._type=yi(this._binding.getValue(i))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=L(t);this._bindingSort=e?new lt(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataType",{get:function(){return this._type},set:function(t){t=ye(t,ve,!0),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=L(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=L(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=j(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),We(t)&&(t=new gu(t,null,null)),this._map=Le(t,gu,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMapEditor",{get:function(){return this._mapEditor!=null?this._mapEditor:Bt.DropDownList},set:function(t){t!=this._mapEditor&&(this._mapEditor=ye(t,Bt),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDropDown",{get:function(){return this.dataMapEditor==Bt.DropDownList},set:function(t){xl("showDropDown","dataMapEditor"),this.dataMapEditor=t?Bt.DropDownList:Bt.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=L(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._getFlag($.Visible)},set:function(t){this._setFlag($.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return!!this._getFlag($.Visible)&&(!this._getFlag($.ParentCollapsed)||this instanceof Ie)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=j(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderSize",{get:function(){var t=0,e=this._list;return this.isVisible&&(((t=this._sz)==null||t<0)&&(t=e?e.defaultSize:0),e&&e.minSize!=null&&t<e.minSize&&(t=e.minSize),e&&e.maxSize!=null&&t>e.maxSize&&(t=e.maxSize),this._szMin!=null&&t<this._szMin&&(t=this._szMin),this._szMax!=null&&t>this._szMax&&(t=this._szMax)),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowResizing",{get:function(){return this._getFlag($.AllowResizing)},set:function(t){this._setFlag($.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowDragging",{get:function(){return this._getFlag($.AllowDragging)},set:function(t){this._setFlag($.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowMerging",{get:function(){return this._getFlag($.AllowMerging)},set:function(t){this._setFlag($.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelected",{get:function(){return this._getFlag($.Selected)},set:function(t){if(!!t!=this.isSelected){var e=this.grid;if(e){var r=new de(e?e.cells:null,e.selection);e.onSelectionChanging(r)&&this._setFlag($.Selected,t,!0)&&(e.refreshCells(!1,!0,!0),e.onSelectionChanged(r))}else this._setFlag($.Selected,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._getFlag($.ReadOnly)},set:function(t){this._setFlag($.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=k(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._getFlag($.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag($.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._getFlag($.WordWrap)},set:function(t){this._setFlag($.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiLine",{get:function(){return this._getFlag($.MultiLine)},set:function(t){this._setFlag($.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=L(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(t){t!=this._cssClassAll&&(this._cssClassAll=L(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),n.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},n.prototype.onGridChanged=function(t){this.gridChanged.raise(this,t)},n.prototype._setList=function(t){t!=this._list&&(this._list=t,this.onGridChanged())},n.prototype._getFlag=function(t){return(this._f&t)!=0},n.prototype._setFlag=function(t,e,r){return!!e!=this._getFlag(t)?(this._f=e?this._f|t:this._f&~t,r||this.onPropertyChanged(),!0):!1},n}(),et=function(n){qt(t,n);function t(e){var r=n.call(this)||this;return r._hdr=null,r._name=null,r._agg=null,r._quickSize=null,r._descById=null,r._tpl=null,r._f=$.ColumnDefault,r._hash=t._ctr.toString(36),t._ctr++,Ei(r,e),r}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._szStar!=null?this._szStar:this.size},set:function(e){t._parseStarSize(e)!=null?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=j(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=j(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=j(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=k(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(Je(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag($.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(B(e==null||Q(e)||ee(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag($.HasTemplate,e!=null&&e!=""),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),e!=null&&(e=Le(e,O),this._edt=new ag(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag($.AllowSorting)},set:function(e){this._setFlag($.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,r=e?e.sortDescriptions:null,i=r&&r.length?this._getBindingSort():null;if(i){for(var o=0;o<r.length;o++)if(r[o].property==i)return o}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return this._agg!=null?this._agg:xe.None},set:function(e){(e=ye(e,xe))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=L(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return this._required!=null?this._required:e&&e.isRequired!=null?e.isRequired:this.dataType==ve.String?this.dataMap!=null||this._mask!=null&&this._mask.length>0:!e||e.dataType!=ve.String||e.dataMap!=null||e.mask!=null&&e.mask.length>0},t.prototype.getAlignment=function(e){if(this._align!=null)return this._align;if(e&&e.align!=null)return e.align;if(!this._map)switch(this.dataType){case ve.Boolean:return"center";case ve.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case ve.Boolean:return"center";case ve.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(Q(e)){var r=e.length;if(r>0&&e[r-1]=="*"){var i=r==1?1:parseFloat(e);if(i>0&&!isNaN(i))return i}}return null},t._ctr=0,t}(Il),En=function(n){qt(t,n);function t(e){var r=n.call(this)||this;return r._f=$.ColumnDefault,r._data=e||null,r}return Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(Il),Pe=function(n){qt(t,n);function t(e){var r=n.call(this,e)||this;return r._level=-1,r.level=e instanceof yn?e.level:-1,r.isReadOnly=!0,r}return Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){Ee(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(this.grid!=null&&this._list!=null){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,r=Wt(e,t),i=Wt(e,Ie);return e!=null&&i==null&&(r==null||r.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag($.Collapsed)},set:function(e){!!e!=this.isCollapsed&&this._list!=null&&this._setCollapsed(k(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,r=e.groupHeaderFormat||oe.FlexGrid.groupHeaderFormat,i=this.dataItem;if(i instanceof yn&&r&&e.showGroups&&!e.childItemsPath){var o=i.groupDescription.propertyName,s=i.name,l=e.getColumn(o),a=this.isContentHtml;if(l){a=a||l.isContentHtml,l.header&&(o=l.header);var u=l.dataMap;u&&(s=u.getDisplayValue(s)),l.dataType==yi(s)&&(s=ne.format(s,l.format))}else o=El(o);var c=i.getAggregate(xe.CntAll,null,e.collectionView);return Nr(r,{name:xn(o),value:a?s:xn(s),level:i.level,count:c})}return""},t.prototype._setCollapsed=function(e){var r=this,i=this.grid,o=i.rows,s=this.getCellRange(),l=new de(i.cells,new z(this.index,-1));i.onGroupCollapsedChanging(l)&&(i.deferUpdate(function(){o.deferUpdate(function(){r._setFlag($.Collapsed,e,!0);for(var a=s.topRow+1;a<=s.bottomRow&&a>-1&&a<o.length;a++){o[a]._setFlag($.ParentCollapsed,e,!0);var u=o[a];u instanceof t&&u.isCollapsed&&(a=u.getCellRange().bottomRow)}})}),i.onGroupCollapsedChanged(l))},t.prototype.getCellRange=function(){for(var e=this._list,r=this.index,i=e.length-1,o=r+1;o<=i;o++){var s=e[o];if(s instanceof t&&s.level<=this.level){i=o-1;break}}return new z(r,0,i,this.grid.columns.length-1)},t}(En),Ec=function(n){qt(t,n);function t(e,r){var i=n.call(this)||this;return i._frozen=0,i._lastFrozen=-1,i._firstVisible=-1,i._vlen=0,i._szDef=28,i._szTot=0,i._szCustom=!1,i._dirty=!1,i._g=Le(e,un),i._szDef=j(r,!1,!0),i}return Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=j(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=j(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=j(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=j(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var r,i,o=this.length,s=0,l=o-1;s<=l;)if((i=this[r=s+l>>>1])._pos>=e&&r>0)l=r-1;else{if(!(i._pos+i.renderSize<=e&&r<o-1)){for(;r>0&&!this[r].renderSize;)r--;for(;r<o-1&&!this[r].renderSize;)r++;return r}s=r+1}return l},t.prototype.getNextCell=function(e,r,i){i===void 0&&(i=0);var o,s=Hn;switch(r){case s.Next:case s.NextCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case s.NextEditableCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case s.Prev:case s.PrevCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case s.PrevEditableCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case s.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case s.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case s.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+i))<0?this.getNextCell(e,Hn.End,i):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case s.PrevPage:return(o=this.getItemAt(this[e].pos-i))<0?this.getNextCell(e,Hn.Home,i):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e},t.prototype.canMoveElement=function(e,r,i){if(i===void 0&&(i=!0),r==e||e<0||e>=this.length||r>=this.length)return!1;if(i){r<0&&(r=this.length-1);for(var o=Math.min(e,r),s=Math.max(e,r),l=o;l<=s;l++)if(!this[l].allowDragging)return!1}return!(this[r]instanceof Ie)},t.prototype.moveElement=function(e,r,i){if(i===void 0&&(i=!0),this.canMoveElement(e,r,i)){var o=this[e];if(this.removeAt(e),r<0&&(r=this.length),this.insert(r,o),i){var s=this.frozen;e<s&&r>=s?this.frozen--:e>=s&&r<s&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(e){e===void 0&&(e=Zt.reset),this._dirty=!0,this._g.invalidate(),n.prototype.onCollectionChanged.call(this,e)},t.prototype.push=function(e){return e._setList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,r){for(var i=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var l=e;l<e+r&&l<this.length;l++){var a=this[l];a instanceof Il&&a._setList(null)}return o.forEach(function(u){return u._setList(i)}),n.prototype.splice.apply(this,[e,r].concat(o))},t.prototype.beginUpdate=function(){this._update(),n.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,r=0,i=void 0,o=void 0,s=0;s<this.length;s++)(o=this[s])._idx=s,o._idxVis=e,o._pos=r,o._setList(this),(i=o.renderSize)>0&&(r+=i,e++,s<this._frozen&&(this._lastFrozen=s)),this._firstVisible<0&&o.visible&&(this._firstVisible=s);return this._vlen=e,this._szTot=r,!0}return!1},t}($t),ol=function(n){qt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){var r=ue(e)?e:this.indexOf(e);return r>-1?this[r]:null},t.prototype.indexOf=function(e){if(e instanceof et)return n.prototype.indexOf.call(this,e);for(var r=0;r<this.length;r++)if(this[r].name==e)return r;for(r=0;r<this.length;r++)if(this[r].binding==e)return r;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=L(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){var r,i=!1,o=0;e-=.5;for(var s=0;s<this.length;s++)(a=this[s]).isVisible&&(a._szStar?(o+=et._parseStarSize(a._szStar),r=a):e-=a.renderWidth);if(r){var l=e;for(s=0;s<this.length;s++){var a;if((a=this[s]).isVisible&&a._szStar){var u=a._sz;a==r&&l>0?u=l:l-=u=Math.max(0,Math.round(et._parseStarSize(a._szStar)/o*e)),u!=a._sz&&(a._sz=u,i=!0)}}return i&&(this._dirty=!0,this._update()),i}return!1},t}(Ec),po=function(n){qt(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._maxLevel=-1,e}return Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=L(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this;if(n.prototype._update.call(this)){var r=this.grid?this.grid.collectionView:null,i=r?r.items:null,o=0;return this._maxLevel=-1,this.forEach(function(s){s instanceof Pe&&s.level>e._maxLevel&&(e._maxLevel=s.level);var l=s.dataItem;l&&i?l===i[o]?s._idxData=o:l===i[o+1]?s._idxData=++o:l!==i[s._idxData]&&(s._idxData=-1):s._idxData=-1}),!0}return!1},t}(Ec),rg=function(){function n(t){this._updatingCollection=0,this._initialized=!1,this._grid=t,this._initializeColumnGroups(),this._initialized=!0}return Object.defineProperty(n.prototype,"columnGroups",{get:function(){return this._colGroups},enumerable:!0,configurable:!0}),n.prototype.createColumnGroups=function(t){this._initialized=!1,this._createColumnGroups(t),this._initialized=!0},n.prototype.hasColumnGroups=function(){return this._colGroups!=null&&this._colGroups.length>0},n.prototype.getGroupDefinitions=function(){return this._groupDefs},n.prototype.getColumnGroup=function(t,e){return this._getColumnGroup(t,e)},n.prototype.canMoveColumnGroup=function(t,e,r,i){if(t==r&&e==i)return!1;var o=this._grid,s=o.columnHeaders.rows,l=o.columns;if(t<0||t>=s.length||e<0||e>=l.length||r<0||r>=s.length||i<0||i>=l.length)return!1;var a=this._getColumnGroup(t,e),u=this._getColumnGroup(r,i);if(!a||!u||a==u||a.level<u.level&&a._containsGroup(u))return!1;var c=a.parentGroup,h=u.parentGroup;return!c||c===h||!c._isCollapseTo(a)},n.prototype.moveColumnGroup=function(t,e,r,i,o){if(this.canMoveColumnGroup(t,e,r,i)){var s=this._getColumnGroup(t,e),l=this._getColumnGroup(r,i);if(!s||!l||s==l||o&&!l.isEmpty)return!1;var a=this._getCollection(s),u=o?l.columns:this._getCollection(l);if(!a||!u)return!1;var c=o?0:u.indexOf(l);return c<0?!1:(!o&&a!=u&&i>e&&c++,this._deferCollectionUpdate(function(){if(!a.remove(s))return!1;u.insert(c,s)}),!0)}return!1},n.prototype.handleCollectionChange=function(){this._initialized&&!this._updatingCollection&&(this._initialized=!1,this._buildColumnGroups(),this._initialized=!0)},n.prototype.handlePropertyChange=function(t){if(t&&this._initialized){var e=this._grid,r=t._rng,i=t.header;if(i!=t._curr_header)for(var o=r.topRow;o<=r.bottomRow;o++)for(var s=r.leftCol;s<=r.rightCol;s++)e.columnHeaders.setCellData(o,s,i),t._curr_header=i;t.columns.length>0&&e.invalidate()}},n.prototype._initializeColumnGroups=function(){var t=this._grid,e=new zi;this._groupDefs=e,this._colGroups=e,this._colGroups._setOwner(t),this._colGroups._setChangeHandler(this)},n.prototype._createColumnGroups=function(t){this._grid,this._groupDefs=mt(t),this._colGroups&&this._colGroups._setOwner(null),this._colGroups=zi._parse(t),this._buildColumnGroups()},n.prototype._buildColumnGroups=function(){var t=this,e=this._grid;this._colGroups._removeChangeHandler(),this._assertColumnGroups(this._colGroups),e.autoGenerateColumns=!1,e.columns.clear(),this._colGroups._setOwner(e),this._colGroups.forEach(function(c){c._beginBuild()});var r=0;this._colGroups.forEach(function(c){t._addColumnGroup(c),r=Math.max(r,c._getMaxLevel())}),this._colGroups.forEach(function(c){c._expandRange(r)});var i=e.columnHeaders.rows;i.clear();for(var o=0;o<=r;o++){var s=new En;i.splice(o,0,s),o<r&&(s.cssClassAll="wj-colgroup")}for(o=0;o<i.length;o++)for(var l=0;l<e.columns.length;l++){var a=this._getColumnGroup(o,l);if(a){var u=a.header||El(a.binding);e.columnHeaders.setCellData(o,l,u),a._curr_header=a.header}}this._colGroups._setChangeHandler(this),this._colGroups.forEach(function(c){c._checkIfCollapsed()})},n.prototype._getColumnGroup=function(t,e){var r=this._grid;if(t<r.columnHeaders.rows.length&&e<r.columns.length)for(var i=this._colGroups;i;){for(var o=i,s=0;s<i.length;s++){var l=i[s],a=l._rng;if(a.containsColumn(e)){if(a.containsRow(t)||l.columns.length==0)return l;i=l.columns;break}}if(i==o)break}return null},n.prototype._getCollection=function(t){var e=t.parentGroup;return e?e.columns:this._colGroups},n.prototype._assertColumnGroups=function(t){var e=this;B(t instanceof zi,"column groups contain items of invalid collection type"),t.forEach(function(r){B(r instanceof Fi,"column groups contain items of invalid type"),e._assertColumnGroups(r.columns)})},n.prototype._addColumnGroup=function(t){var e=this,r=this._grid;t._rng.col=r.columns.length,t.columns.length==0?r.columns.push(t):t.columns.forEach(function(i){e._addColumnGroup(i)}),t._rng.col2=r.columns.length-1},n.prototype._beginCollectionUpdate=function(){this._updatingCollection++},n.prototype._endCollectionUpdate=function(){this._updatingCollection--,this._updatingCollection<=0&&this.handleCollectionChange()},n.prototype._deferCollectionUpdate=function(t){try{this._beginCollectionUpdate(),t()}finally{this._endCollectionUpdate()}},n}(),Fi=function(n){qt(t,n);function t(e,r){var i=n.call(this)||this;i._rng=new z(0,-1),i._lvl=0,i._collapsed=!1,i._cols=new zi,Ei(i,e);var o=r&&r.columns;return o&&o.indexOf(i)<0&&o.push(i),i}return t.prototype._copy=function(e,r){if(e=="columns"){var i=mt(r);return this._cols=zi._parse(i),!0}return!1},Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._cols.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){var e=this._ownerList,r=e&&e.owner;return r instanceof t?r:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this,r=0;e.parentGroup;)e=e.parentGroup,r++;return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){B(We(e)||Q(e),"collapseTo should be an array or a string."),this._collTo!=e&&(this._collTo=e,this._updateCollapsedState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var r=this.grid,i=null;e!=this._collapsed&&(r?(i=new de(r.columnHeaders,this._rng,this),r.onColumnGroupCollapsedChanging(i)?this._collapsed=k(e):i=null):this._collapsed=k(e)),this._updateCollapsedState(),r&&i&&r.onColumnGroupCollapsedChanged(i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this._ownerList,r=e&&e.owner;return r instanceof t?r.grid:r instanceof un?r:null},enumerable:!0,configurable:!0}),t.prototype._beginBuild=function(){this._lvl=0;for(var e=this.parentGroup;e;e=e.parentGroup)this._lvl++;this._rng=new z(0,-1),this._rng.row=this._rng.row2=this._lvl,this._cols.forEach(function(r){r._beginBuild()})},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this._cols._setChangeHandler(e)},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this._cols._removeChangeHandler()},t.prototype._setOwnerList=function(e){e!=this._ownerList&&(this._ownerList=e)},t.prototype._checkIfCollapsed=function(){var e=this.grid;e&&e.columns&&(this._collapsed?this._updateCollapsedState():this._cols.forEach(function(r){r._checkIfCollapsed()}))},t.prototype._updateCollapsedState=function(){var e=this.grid,r=e?e.columns:null,i=this._rng,o=this._collapsed;if(r){this._cols.forEach(function(u){u instanceof t&&(u._collapsed=o,u._updateCollapsedState())});for(var s=this._getCollapseToIndices(),l=i.leftCol;l<=i.rightCol;l++){var a=!o||s.indexOf(l)>-1;r[l]._setFlag($.ParentCollapsed,!a)}}},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach(function(r){e=Math.max(e,r._getMaxLevel())}),e},t.prototype._expandRange=function(e){var r=e-this._getMaxLevel();r>0&&(this._rng.row2+=r,this._cols.forEach(function(l){l._shiftRange(r)}));for(var i=this.grid.columns,o=this._rng,s=o.col;s<=o.col2;s++)i[s]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach(function(r){r._shiftRange(e)})},t.prototype._containsGroup=function(e){for(var r=0;r<this._cols.length;r++){var i=this._cols[r];if(i==e||i._containsGroup(e))return!0}return!1},t.prototype._isCollapseTo=function(e){var r=this.grid,i=r?r.columns:null;if(!e||!i)return!1;var o=this._getCollapseToBindings();if(o&&o.length)for(var s=0;s<o.length;s++)switch(o[s]){case"$first":case"$last":continue;default:if(e===i.getColumn(o[s]))return!0}return!1},t.prototype._getCollapseToBindings=function(){var e=this.collapseTo;return Q(e)?[e]:e},t.prototype._getCollapseToIndices=function(){var e=this.grid,r=this._rng,i=this._getCollapseToBindings();if(i&&i.length){for(var o=[],s=e.columns,l=0;l<i.length;l++)switch(i[l]){case"$first":o.push(r.leftCol);break;case"$last":o.push(r.rightCol);break;default:var a=s.getColumn(i[l]),u=s.indexOf(a);a&&r.containsColumn(u)&&o.push(u)}if(o.length)return o}return[r.rightCol]},t.prototype.onPropertyChanged=function(){var e=this._changeHdl;e&&e.handlePropertyChange(this),n.prototype.onPropertyChanged.call(this)},t}(et),zi=function(n){qt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){return ue(e)?this._getColByIdx(e):this._findColByProp("name",e)||this._findColByProp("binding",e)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),t.prototype.push=function(e){return e._setOwnerList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,r){for(var i=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var l=e;l<e+r&&l<this.length;l++){var a=this[l];a instanceof Fi&&a._setOwnerList(null)}return o.forEach(function(u){return u._setOwnerList(i)}),n.prototype.splice.apply(this,[e,r].concat(o))},t._parse=function(e){var r=null;return e?e instanceof t?r=e:(r=new t,e.forEach(function(i){var o=i instanceof Fi?i:new Fi(i);r.indexOf(o)<0&&r.push(o)})):r=new t,r},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this.forEach(function(r){return r._setChangeHandler(e)})},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this.forEach(function(e){return e._removeChangeHandler()})},t.prototype._setOwner=function(e){this._owner=e,this.forEach(function(r){return r.columns._setOwner(r)})},t.prototype._getColByIdx=function(e){return e>-1&&e<this.length?this[e]:null},t.prototype._findColByProp=function(e,r){for(var i=0;i<this.length;i++){var o=this[i];if(o[e]===r||(o=o.columns._findColByProp(e,r))!==null)return o}return null},t.prototype.onCollectionChanged=function(e){e===void 0&&(e=Zt.reset);var r=this._changeHdl;r&&r.handleCollectionChange(),n.prototype.onCollectionChanged.call(this,e)},t}($t);Si("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}});var Wn;(function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.MultiColumn=2]="MultiColumn"})(Wn||(Wn={}));var tn;(function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.ColumnRange=2]="ColumnRange",n[n.Both=3]="Both"})(tn||(tn={}));var ze;(function(n){n[n.None=0]="None",n[n.Column=1]="Column",n[n.Row=2]="Row",n[n.All=3]="All"})(ze||(ze={}));var vn;(function(n){n[n.Default=0]="Default",n[n.CSV=1]="CSV",n[n.QuoteAll=2]="QuoteAll",n[n.SkipMerged=4]="SkipMerged",n[n.Unformatted=8]="Unformatted",n[n.InvisibleRows=16]="InvisibleRows",n[n.InvisibleColumns=32]="InvisibleColumns",n[n.InvisibleCells=48]="InvisibleCells"})(vn||(vn={}));var un=function(n){qt(t,n);function t(e,r){var i=n.call(this,e,null,!0)||this;i._activeCell=null,i._szClient=new Xt(0,0),i._szClientSB=new Xt(0,0),i._offsetY=0,i._cssPage=0,i._ptScrl=new xt(0,0),i._cellPadLeft=3,i._cellPadHorz=3,i._cellPadVert=0,i._clipToScreen=!1,i._autoGenCols=!0,i._autoClipboard=!0,i._xOnCopyPaste=!0,i._autoScroll=!0,i._autoSearch=!1,i._caseSensitive=!1,i._readOnly=!1,i._indent=14,i._autoSizeMode=Nn.Both,i._autoHeights=!1,i._quickSize=null,i._hdrVis=ze.All,i._alSorting=Wn.SingleColumn,i._alPinning=tn.None,i._alAddNew=!1,i._alDelete=!1,i._alResizing=wn.Columns,i._alDragging=An.Columns,i._alMerging=Lr.None,i._ssHdr=ze.None,i._shSort=!0,i._shGroups=!0,i._shMarquee=!1,i._shPlcHld=!1,i._altStep=1,i._shErr=!0,i._shDropDown=!0,i._valEdt=!0,i._gHdrFmt=null,i._childItemsPath=null,i._sortRowIndex=null,i._editColIndex=null,i._deferResizing=!1,i._pSel=!0,i._pOutline=!0,i._stickyHdr=!1,i._anchorCursor=!1,i._copyHeaders=ze.None,i._bigChecks=!1,i._skipMerged=!1,i._fzClone=null,i._vt=0,i._vtRows=0,i._vtCols=0,i._lazyRender=!0,i._refreshOnEdit=!0,i._reorderCells=!0,i._isISChanging=!1,i._isScrollingByWheel=!1,i._touchEdit=!1,i.itemsSourceChanging=new P,i.itemsSourceChanged=new P,i.scrollPositionChanged=new P,i.selectionChanging=new P,i.selectionChanged=new P,i.loadingRows=new P,i.loadedRows=new P,i.updatingLayout=new P,i.updatedLayout=new P,i.resizingColumn=new P,i.resizedColumn=new P,i.autoSizingColumn=new P,i.autoSizedColumn=new P,i.starSizedColumns=new P,i.draggingColumn=new P,i.draggingColumnOver=new P,i.draggedColumn=new P,i.pinningColumn=new P,i.pinnedColumn=new P,i.resizingRow=new P,i.resizedRow=new P,i.autoSizingRow=new P,i.autoSizedRow=new P,i.draggingRow=new P,i.draggingRowOver=new P,i.draggedRow=new P,i.groupCollapsedChanging=new P,i.groupCollapsedChanged=new P,i.columnGroupCollapsedChanging=new P,i.columnGroupCollapsedChanged=new P,i.sortingColumn=new P,i.sortedColumn=new P,i.beginningEdit=new P,i.prepareCellForEdit=new P,i.cellEditEnding=new P,i.cellEditEnded=new P,i.rowEditStarting=new P,i.rowEditStarted=new P,i.rowEditEnding=new P,i.rowEditEnded=new P,i.rowAdded=new P,i.deletingRow=new P,i.deletedRow=new P,i.copying=new P,i.copied=new P,i.pasting=new P,i.pasted=new P,i.pastingCell=new P,i.pastedCell=new P,i.formatItem=new P(function(){i._clearCells()}),i.updatingView=new P,i.updatedView=new P,i._mappedColumns=null;var o=i.hostElement;ge()&&(o.style.borderRadius="0");var s=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-flexgrid",s,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),H(i._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),H(i._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),H(i._eCt,{position:"absolute"}),H(i._eMarquee,{display:"none"}),H(i._eMarquee.firstChild,{width:"100%",height:"100%"}),H(i._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),H(i._eFocus,{position:"fixed",left:"-32000px"}),H(i._eSz,{position:"relative",visibility:"hidden"}),[i._eRHdr,i._eCFtr,i._eCHdr,i._eBL,i._eTL].forEach(function(a){A(a,"aria-hidden",!0),H(a,{position:"absolute",overflow:"hidden",outline:"none"}),H(a.firstElementChild,{position:"relative"})}),[i._eFocus,i._eMarquee,i._fCt,i._eSz].forEach(function(a){A(a,"aria-hidden",!0)}),Jn()||kp()){var l=i._eMarquee;["click","dblclick","mousedown","mouseup"].forEach(function(a){i.addEventListener(l,a,function(u){var c=l.style.display;l.style.display="none";var h=document.elementFromPoint(u.clientX,u.clientY);l.style.display=c;var d=document.createEvent("Event");d.initEvent(a,!0,!0);for(var f in u)try{d[f]=u[f]}catch{}h.dispatchEvent(d)})})}return o.tabIndex=-1,i.deferUpdate(function(){var a=i._getDefaultRowHeight();i._rows=new po(i,a),i._cols=new ol(i,4*a),i._hdrRows=new po(i,a),i._hdrCols=new ol(i,Math.round(1.25*a)),i._ftrRows=new po(i,a);var u=U;i._gpTL=new kt(i,u.TopLeft,i._hdrRows,i._hdrCols,i._eTLCt),i._gpCHdr=new kt(i,u.ColumnHeader,i._hdrRows,i._cols,i._eCHdrCt),i._gpRHdr=new kt(i,u.RowHeader,i._rows,i._hdrCols,i._eRHdrCt),i._gpCells=new kt(i,u.Cell,i._rows,i._cols,i._eCt),i._gpBL=new kt(i,u.BottomLeft,i._ftrRows,i._hdrCols,i._eBLCt),i._gpCFtr=new kt(i,u.ColumnFooter,i._ftrRows,i._cols,i._eCFtrCt),i._hdrRows.push(new En),i._hdrCols.push(new et({align:"center"})),i._cf=new Se,i._keyHdl=new ug(i),i._mouseHdl=new cg(i),i._edtHdl=new lg(i),i._selHdl=i._createSelHdl(),i._addHdl=new og(i),i._grpHdl=new rg(i),i._mrgMgr=new _u,i._bndSortConverter=i._sortConverter.bind(i),i._errorTip=new nl({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),A(i.cells.hostElement,"role","grid"),i.selectionMode=se.CellRange,i._root.tabIndex=-1,i.initialize(r)}),i.addEventListener(i._root,"scroll",function(a){if(i._updateScrollPosition()||i._forceScrollUpdate){var u=i.activeEditor,c=i.activeCell,h=c?c.className:null;i._forceScrollUpdate||i.finishEditing(),i._forceScrollUpdate=!1,i._updateContent(!0);var d=i.activeEditor,f=i.activeCell;d&&f&&u&&h?(d.value=u.value,f.className=h,i._setFocusNoScroll(d)):d&&!f&&i.finishEditing(!0),i.frozenColumns&&setTimeout(function(){var p=i.columnHeaders.hostElement.style,g=parseInt(p.left),w=i._ptScrl.x;Math.abs(g-w)>1&&i.invalidate()})}}),i.addEventListener(o,"focus",function(a){if(o.tabIndex>-1){var u=a.target;u instanceof HTMLElement&&u.tabIndex<0&&i._setFocus(!0)}},!0),i}return t.prototype._handleResize=function(){var e=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout(function(){e.activeEditor||(e._touchEdit=!0,e.startEditing(!0))},50):n.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=ye(e,ze))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=k(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=ye(e,ze)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,ue(e)?this._vtRows=this._vtCols=j(e):e?We(e)&&e.length==2?(this._vtRows=j(e[0]),this._vtCols=j(e[1])):B(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e,r=this._hasColumnGroups(),i=r?Fi:et,o=r?"columnGroups":"columns",s=t._getSerializableProperties(i),l=r?["collapseTo"]:[],a=["size"],u=new i,c=r?this.getColumnGroups():this.columns,h=function(f){var p=[];return f.forEach(function(g){var w={};if(s.forEach(function(_){var v=g[_];(function(y,b){return b!=u[y]&&a.indexOf(y)<0&&(Tr(b)||l.indexOf(y)>-1)})(_,v)&&(w[_]=v)}),r){var m=g.columns;m.length&&(w.columns=h(m))}p.push(w)}),p},d=h(c);return JSON.stringify(((e={})[o]=d,e))},set:function(e){var r=this,i=JSON.parse(L(e));B(i,"Invalid columnLayout data."),this.columns.deferUpdate(function(){r.columns.clear(),r._hasColumnGroups()&&(r.columnGroups=new zi),r.initialize(i)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(mt(e))},enumerable:!0,configurable:!0}),t.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=k(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),te(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipMerged",{get:function(){return this._skipMerged},set:function(e){this._skipMerged=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute("disabled")!=null},set:function(e){if((e=k(e,!0))!=this.isDisabled){var r=this._e;r&&(Dt(r,!e),this._updateTabIndex(),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return this._imeHdl!=null},set:function(e){if(k(e)!=this.imeEnabled&&this.finishEditing()){var r=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new Rl(this)),r&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=ye(e,wn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=ye(e,Nn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=k(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return Je(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&this.itemFormatter==null},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){Je(e)&&(e=e?Wn.SingleColumn:Wn.None),this._alSorting=ye(e,Wn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(Je(e)&&(e=e?tn.SingleColumn:tn.None),this._alPinning=ye(e,tn),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=k(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=ye(e,Lr))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=ye(e,ze))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=k(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=k(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=k(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=Ee(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){xl("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=Le(e,nl,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=ke(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=L(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=ye(e,An))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var r=this;if(e!=this._items){var i=new we;if(this.onItemsSourceChanging(i)){if(this._cv&&((o=this._cv).currentChanged.removeHandler(null,this),o.collectionChanged.removeHandler(null,this),o instanceof on&&o.sortConverter==this._bndSortConverter&&(o.sortConverter=null),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv){var o;(o=this._cv).currentChanged.addHandler(function(s,l){return r._cvCurrentChanged(s,l)},this),o.collectionChanged.addHandler(function(s,l){return r._cvCollectionChanged(s,l)},this),o instanceof on&&!o.sortConverter&&(o.sortConverter=this._bndSortConverter)}this._isISChanging=!0,this._bindGrid(!0),this._isISChanging=!1,this.onItemsSourceChanged(i)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return Wt(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(B(e==null||We(e)||Q(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=L(e),this._rowHdrPath=e?new lt(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e,r){if(this._hasColumnGroups()&&r){var i=this.getColumnGroups();return i!==null?i.getColumn(e):null}return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(mn(this._fCt,null),this._fzClone=k(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=j(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=j(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var r=this._root,i=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":i=r.scrollWidth-r.clientWidth+e.x;break;case"neg":i=e.x;break;default:i=-e.x}r.scrollLeft=i,r.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=el(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new Xt(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=Le(e,Se,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=ke(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,r){return this._edtHdl._allowEdit(e,r)},t.prototype.getCellData=function(e,r,i){return this.cells.getCellData(e,r,i)},t.prototype.getCellBoundingRect=function(e,r,i){return this.cells.getCellBoundingRect(e,r,i)},t.prototype.setCellData=function(e,r,i,o,s){return o===void 0&&(o=!0),s===void 0&&(s=!0),this.cells.setCellData(e,r,i,o,s)},t.prototype.hitTest=function(e,r){return ue(e)&&ue(r)&&(e=new xt(e,r)),Je(r)&&r&&(this._rcBounds=null),new Oo(this,e)},t.prototype.getClipString=function(e,r,i,o){var s;s=r==null||Je(r)?r?vn.CSV:vn.Default:r,B(ue(s),"Unexpected value for ClipStringOptions parameter.");var l=this.selection,a=this.getMergedRange(this.cells,l.row,l.col,!1);return(a&&(a.columnSpan>1||a.rowSpan>1)||this.skipMerged)&&(s|=vn.SkipMerged),this._edtHdl.getClipString(e,s,i,o)},t.prototype.setClipString=function(e,r){this._edtHdl.setClipString(e,r)},t.prototype.focus=function(e){this.isDisabled||this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){e===void 0&&(e=!0),n.prototype.refresh.call(this,e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl,this._updateDefaultSizes(),clearTimeout(this._toInv),this._toInv=null),this.refreshCells(e);var r=this._e;r&&(this._szCtl=new Xt(r.offsetWidth,r.offsetHeight))},t.prototype.refreshCells=function(e,r,i){this.isUpdating||(e?this._updateLayout():this._updateContent(r,i))},t.prototype.refreshRange=function(e){for(var r=e.topRow;r<=e.bottomRow;r++)for(var i=e.leftCol;i<=e.rightCol;i++){var o=this.cells.getCellElement(r,i);if(o){var s=o[kt._INDEX_KEY];this.cellFactory.updateCell(this.cells,r,i,o,s.rng)}}},t.prototype.autoSizeColumn=function(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=4),this.autoSizeColumns(e,e,r,i)},t.prototype.autoSizeColumns=function(e,r,i,o){var s=this;i===void 0&&(i=!1),o===void 0&&(o=4);var l=0,a=i?this.topLeftCells:this.columnHeaders,u=i?this.bottomLeftCells:this.columnFooters,c=i?this.rowHeaders:this.cells,h=this.viewRange;e=e==null?0:Ee(e),r=r==null?c.columns.length-1:Ee(r),h.row=Math.max(0,h.row-1e3),h.row2=Math.min(h.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){H(s._eCt,{width:s._gpCells.width});for(var d=_e("<div "+t._WJS_MEASURE+'="true"/>',c.hostElement,{visibility:"hidden"}),f=s._getCanvasContext(),p=e;p<=r&&p>-1&&p<c.columns.length;p++){var g=c.columns[p];if(g.isVisible){if(l=0,s.autoSizeMode&Nn.Headers){for(var w=0;w<a.rows.length;w++)a.rows[w].isVisible&&(l=Math.max(s._getDesiredWidth(a,w,p,d),l));for(w=0;w<u.rows.length;w++)u.rows[w].isVisible&&(l=Math.max(s._getDesiredWidth(u,w,p,d),l))}if(s.autoSizeMode&Nn.Cells&&h.row>-1&&h.row2>-1)if(g._getQuickAutoSize())w=s._getWidestRow(c,h,p,f),l=Math.max(s._getDesiredWidth(c,w,p,d),l);else for(w=h.row;w<=h.row2&&w<c.rows.length;w++)c.rows[w].isVisible&&(l=Math.max(s._getDesiredWidth(c,w,p,d),l));l>0&&(g.width=l+o+2)}}s.cellFactory.disposeCell(d),De(d)})},t.prototype.autoSizeRow=function(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=0),this.autoSizeRows(e,e,r,i)},t.prototype.autoSizeRows=function(e,r,i,o){var s=this;i===void 0&&(i=!1),o===void 0&&(o=0);var l=0,a=i==1?this.topLeftCells:i==null?this.bottomLeftCells:this.rowHeaders,u=i==1?this.columnHeaders:i==null?this.columnFooters:this.cells;if(o=j(o),e=e==null?0:Ee(e),(r=r==null?u.rows.length-1:Ee(r))>=e&&this.finishEditing()){H(this._eCt,{width:this._gpCells.width});var c=_e("<div "+t._WJS_MEASURE+'="true"/>',u.hostElement,{visibility:"hidden"});this.rows.deferUpdate(function(){for(var h={},d=s._autoSizeMode,f=Nn,p=e;p<=r&&p>-1&&p<u.rows.length;p++)u.rows[p].isVisible&&(l=0,d&f.Headers&&(l=s._getDesiredRowHeight(a,p,c,h)),d&f.Cells&&(l=Math.max(s._getDesiredRowHeight(u,p,c,h),l)),l>0&&(u.rows[p].height=l+o))}),this.cellFactory.disposeCell(c),De(c)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=j(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var r=this;this.finishEditing()&&this.deferUpdate(function(){var i=r.rows;i.deferUpdate(function(){for(var o=0;o<i.length;o++){var s=i[o];s instanceof Pe&&(s.isCollapsed=s.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=ye(e,se))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,r){return r===void 0&&(r=!0),this._selHdl.select(e,r)},t.prototype.selectAll=function(){var e=this.rows.length,r=this.columns.length;return!(!e||!r)&&this.select(new z(0,0,e-1,r-1),!1)},t.prototype.getSelectedState=function(e,r){return this.cells.getSelectedState(e,r)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,r=this.selectionMode,i=this.rows.filter(function(s){return s.isSelected});if(i.length==0&&r!=se.None){var o=[];this.selectedRanges.forEach(function(s){for(var l=s.topRow;l<=s.bottomRow&&l>-1&&l<e.rows.length;l++)o.indexOf(l)<0&&o.push(l)}),o.sort(),i=o.map(function(s){return e.rows[s]})}return i},set:function(e){var r=this;B(this.selectionMode==se.ListBox,"This property can be set only in ListBox mode."),e=mt(e),this.deferUpdate(function(){for(var i=0,o=!0;i<r.rows.length;i++){var s=r.rows[i],l=e&&e.indexOf(s)>-1;l&&o&&(o=!1,r.select(i,r.selection.col)),s.isSelected=l}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach(function(r){var i=r?r.dataItem:null;i&&e.indexOf(i)<0&&e.push(i)}),e},set:function(e){var r=this;B(this.selectionMode==se.ListBox,"This property can be set only in ListBox mode."),e=mt(e),this.deferUpdate(function(){for(var i=0,o=!0;i<r.rows.length;i++){var s=r.rows[i],l=e&&e.indexOf(s.dataItem)>-1;l&&o&&(o=!1,r.select(i,r.selection.col)),s.isSelected=l}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(r){e.push(r)}),e},set:function(e){if((e=mt(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==se.MultiRange)){var r=this._selHdl.extendedSelection;r.deferUpdate(function(){r.clear();for(var i=1;i<e.length;i++)r.push(e[i])})}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,r,i){(this._maxOffsetY==null||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var o=this.scrollPosition,s=this._szClient,l=s.width,a=s.height-this._gpCFtr.rows.getTotalSize(),u=this.cells._getFrozenPos();if((e=Ee(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var c=this._rows[e],h=this._getCssPage(c.pos);if(h!=this._cssPage){for(var d=this._maxOffsetY,f=Math.round(d*h);f>c.pos;h-=.1)f=Math.round(d*h);this._offsetY=f}var p=c.pos-this._offsetY,g=p+c.renderSize;g>a-o.y&&(o.y=Math.max(-p,a-g)),p-u.y<-o.y&&(o.y=-(p-u.y)),h!=this._cssPage&&(this._cssPage=this._getCssPage(-o.y))}if(Q(r)&&(r=this.columns.indexOf(r)),(r=Ee(r))>-1&&r<this._cols.length&&r>=this._cols.frozen){var w=this._cols[r],m=w.pos+w.renderSize;m>-o.x+l&&(o.x=Math.max(-w.pos,l-m)),w.pos-u.x<-o.x&&(o.x=-(w.pos-u.x))}if(!o.equals(this._ptScrl))return this.scrollPosition=o,i&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),!0;if(this._activeCell&&e>-1&&r>-1){var _=this._root,v=_.scrollWidth==_.clientWidth,y=_.scrollHeight==_.clientHeight;if(v||y){var b=this._activeCell.getBoundingClientRect(),x=innerWidth,C=innerHeight,S=b.right<0||b.left>x,M=b.bottom<0||b.top>C;o.x=pageXOffset+(b.left<0?b.left:b.right>x?b.right-x:0),o.y=pageYOffset+(b.top<0?b.top:b.bottom>C?b.bottom-C:0),S&&v&&M&&y?scrollTo(o.x,o.y):S&&v?scrollTo(o.x,document.documentElement.scrollLeft):M&&y&&scrollTo(document.documentElement.scrollTop,o.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,r,i,o,s){return e===void 0&&(e=!0),this._edtHdl.startEditing(e,r,i,o,s)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=Le(e,_u,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,r,i,o){return o===void 0&&(o=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,r,i,o):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=ye(e,_i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=ye(e,_i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return fe(this.hostElement,t._WJS_WSPRE)},set:function(e){te(this.hostElement,t._WJS_WSPRE,k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=k(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),this._edtHdl._lbx!=null},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this._addHdl._beginningEdit(this,e),e.cancel||this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this._addHdl._rowEditStarting(this,e),e.cancel||this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this._addHdl._rowEditEnding(this,e),this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._addHdl._rowEditEnded(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._createSelHdl=function(){return new ig(this)},t.prototype._getTabIndex=function(){return this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.isDisabled?-1:this._orgTabIndex,r=this._imeHdl;r&&r._updateImeFocus();var i=this._activeCell,o=this._eFocus;i?(i.tabIndex=e,o.tabIndex=-1):o.tabIndex=e},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach(function(r){r._updateContent(!0,!1,r._getOffsetY())}),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){e._toAutoHeights=null,e.editRange||e._autoSizeRows()},O._REFRESH_INTERVAL))},t.prototype._autoSizeRows=function(){var e=this.autoSizeMode,r=Nn;e&r.Headers&&(this._autoSizeMode=r.Both,this.autoSizeRows(0,this.columnHeaders.rows.length-1,!0),this._autoSizeMode=e),e&r.Cells&&this.autoSizeRows()},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,r,i,o){if(ee(this.itemValidator)){if(e==this.cells)return this.itemValidator(r,i,o);if(e==this.rowHeaders){for(i=0;i<this.columns.length;i++)if(h=this.itemValidator(r,i,o))return h}}var s=this._cv,l=s?s.getError:null;if(ee(l)){var a=e.rows,u=this.columns,c=a[r].dataItem;if(c&&!(c instanceof yn)){if(e==this.cells)for(;r<a.length&&a[r].dataItem==c;r++)return l(c,this._getBindingColumn(this.cells,r,u[i]).binding,o);else if(e==this.rowHeaders){var h;if(!(h=l(c,null,!1))){for(var d=[];r<a.length&&a[r].dataItem==c;r++)for(i=0;i<u.length;i++){h=l(c,this._getBindingColumn(this.cells,r,u[i]).binding,!1);var f=this.getMergedRange(this.cells,r,i),p=f&&(f.columnSpan>1&&f.col<i||f.rowSpan>1&&f.row<r);h&&!p&&d.push(h)}if(d.length){var g=this.errorTip,w=!!g&&g.isContentHtml;h=d.join(w?"<br/>":`
`)}}return h}}}return null},t.prototype._setAria=function(e,r){A(this.cells.hostElement,"aria-"+e,r)},t.prototype._setFocus=function(e){if(this.hostElement){var r=Z(),i=this.activeEditor,o=this._activeCell,s=this._eFocus,l=this._root,a=this._getTabIndex(),u=this.containsFocus();if(!e&&u&&this.selectionMode!=se.None){var c=this._getBindingColumn(this.cells,this.selection.row,this.columns[this.selection.col]),h=c&&c._edt;!o||q(o,r)||this.imeEnabled||h||this._correctFocusOfActiveCell(o)}else(e||!u)&&(i?q(i,r)||(i.focus(),s.tabIndex=-1):o?q(o,r)||this._correctFocusOfActiveCell(o):!q(s,r)&&r!=l&&(s.tabIndex=a,this._setFocusNoScroll(s)),this.containsFocus()||(s.tabIndex=a,this._setFocusNoScroll(s)))}},t.prototype._correctFocusOfActiveCell=function(e){var r=this._getTabIndex();Z()!=this._root?(ge()&&fe(e,"wj-group")&&(e=e.querySelector("."+Se._WJC_COLLAPSE)||e),e.tabIndex=r,this._setFocusNoScroll(e)):e.tabIndex=r,this._eFocus.tabIndex=-1},t.prototype._setFocusNoScroll=function(e){if(Z()!=e){if(Dp())e.focus({preventScroll:!0});else{var r=this.scrollPosition,i=e.style,o=i.position;i.position="fixed",e.focus(),i.position=o,this.scrollPosition=r}this._fixScroll()}},t.prototype._updateDefaultSizes=function(){var e=this._getDefaultRowHeight();return this._rows._setDefaultSize(e),this._cols._setDefaultSize(4*e),this._hdrRows._setDefaultSize(e),this._hdrCols._setDefaultSize(Math.round(1.25*e)),this._ftrRows._setDefaultSize(e),e},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,r=this._eFocus,i=null;r.offsetHeight||(i=_e('<div><div class="wj-cell">0</div></div>',document.body),e&&i.setAttribute("class",e.getAttribute("class")),r=i.children[0]);var o=r.offsetHeight;return(isNaN(o)||o<=6)&&(o=28),De(i),o},t.prototype._getCollectionView=function(e){return No(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),r=getComputedStyle(this.hostElement);return e.font=r.fontSize+" "+r.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,r,i,o){for(var s=0,l=0,a=this._getRowsPerItem()===1&&e.columns[i].dataType==ve.Boolean,u=r.row;u<=r.row2;u++)if(e.rows[u].isVisible){var c=e.getCellData(u,i,!0),h=o.measureText(c).width,d=this.getMergedRange(e,u,i,!1);if(d&&d.columnSpan>1&&(h/=d.columnSpan),h>l&&(l=h,s=u),a)break;u+=d?d.rowSpan-1:0}return s},t.prototype._getDesiredWidth=function(e,r,i,o){var s=this.getMergedRange(e,r,i,!1),l=o.style;return this.cellFactory.updateCell(e,r,i,o,s),l.width=l.top=l.left="",o.offsetWidth/(s&&s.columnSpan>1?s.columnSpan:1)},t.prototype._getDesiredHeight=function(e,r,i,o){var s=o.style,l=this.getMergedRange(e,r,i,!1),a=l?l.rowSpan:1;return this.cellFactory.updateCell(e,r,i,o,l),o.innerHTML.trim()||(o.innerHTML="&nbsp;"),s.height=s.top=s.left="",o.offsetHeight/a},t.prototype._getDesiredRowHeight=function(e,r,i,o){for(var s=0,l=(e.rows[r],this._getQuickAutoSize()),a=0;a<e.columns.length;a++)if(e.columns[a].isVisible){var u=this.getMergedRange(e,r,a,!1),c=void 0;if(l){var h={ct:e.cellType,col:a,spr:u&&u.rowSpan>1?u.rowSpan:1,spc:u&&u.columnSpan>1?u.columnSpan:1,data:e.getCellData(r,a,!0)||"1"},d=JSON.stringify(h);(c=o[d])==null&&(c=this._getDesiredHeight(e,r,a,i),o[d]=c)}else c=this._getDesiredHeight(e,r,a,i);s=Math.max(c,s),a+=u?u.columnSpan-1:0}return s},t.prototype._getSortRowIndex=function(){return this._sortRowIndex!=null?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return this._editColIndex!=null?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,r,i,o){var s,l=this;if(o&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach(function(u){(s=l.getColumn(u.property))&&s.dataMap&&(l._mappedColumns||(l._mappedColumns={}),l._mappedColumns[s.binding]=s.dataMap)}),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(s=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&s.dataMap&&(this._mappedColumns[s.binding]=s.dataMap))),this._mappedColumns){var a=this._mappedColumns[e.property];a&&a.sortByDisplayValues&&(i=a.getDisplayValue(i))}return i},t.prototype._bindGrid=function(e){var r=this;if(this.finishEditing(),this.deferUpdate(function(){r.autoGenerateColumns&&r._lastCount==0&&Ue(r._cv)&&(e=!0);var l;r.preserveSelectedState&&(l=r._getMap())&&r.rows.forEach(function(m){m.isSelected&&m.dataItem&&l.set(m.dataItem,!0)});var a,u=r._getMap();if(u&&r.rows.forEach(function(m){m.isReadOnly&&m.dataItem&&u.set(m.dataItem,!0)}),r.preserveOutlineState&&r.rows.maxGroupLevel>-1&&(a=r._getMap()))for(var c=0;c<r.rows.length;c++){var h=r.rows[c];if(h instanceof Pe&&h.isCollapsed&&h.dataItem){var d=h.dataItem;d instanceof yn&&(d=d._path),a.set(d,!0)}}e&&r.columns.deferUpdate(function(){r._bindColumns()});var f=new we;r.onLoadingRows(f)&&(r.rows.deferUpdate(function(){r._bindRows()}),r.onLoadedRows(f)),r._selHdl.extendedSelection.clear();var p=0;if(l&&l.size&&r.rows.forEach(function(m){var _=m.dataItem;_&&l.has(_)&&(m.isSelected=!0,p++)}),u&&u.size&&r.rows.forEach(function(m){var _=m.dataItem;_&&u.has(_)&&(m.isReadOnly=!0)}),p==0&&r.selectionMode==se.ListBox){var g=r.selection;for(c=g.topRow;c<=g.bottomRow&&c>-1&&c<r.rows.length;c++)r.rows[c]._setFlag($.Selected,!0,!0)}if(a&&a.size&&r.rows.deferUpdate(function(){r.rows.forEach(function(m){if(m instanceof Pe){var _=m.dataItem;_ instanceof yn&&(_=_._path),a.has(_)&&(m.isCollapsed=!0)}})}),!r._lastCount){var w=r._cv;w&&w.items&&(r._lastCount=w.items.length)}}),this._cv){var i=e&&!this._toInv;this._syncSelection(i)}else{var o=this.selection,s=new z(-1,o.col,-1,o.col2);this._selHdl._adjustSelection(s,this.selectionMode)}},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,r){if(this.autoGenerateColumns&&this.columns.length==0)this._bindGrid(!0);else{var i=Oe;if(this.childItemsPath&&r.action!=i.Change)this._bindGrid(!1);else{switch(r.action){case i.Change:this.invalidate();return;case i.Add:if(r.index==this._cv.items.length-1){var o=this.rows.length;this.rows[o-1]instanceof Ie&&o--,this.rows.insert(o,new En(r.item));return}B(!1,"added item should be the last one.");break;case i.Remove:var s=this._findRow(r.item);if(s>-1){this.rows.removeAt(s),this._syncSelection(!1);return}B(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,r){this._syncSelection(!1)},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=se.None){var r=this._selHdl,i=r.selection,o=i.row>-1&&i.row<this.rows.length?this.rows[i.row]:null,s=o?o.dataItem:null,l=this._cv;if(l instanceof on&&l.isUpdating||this.newRowAtTop&&o instanceof Ie)return;s instanceof yn&&(s=null);var a=this._isISChanging;if(e||s!=l.currentItem||i.row>=this.rows.length||i.row2>=this.rows.length||a&&i.row!==i.row2){var u=this.editableCollectionView;if(!this.childItemsPath||!u||!u.currentAddItem){var c=this._getRowIndex(l.currentPosition);if(c!=i.row||!this.childItemsPath){var h=a?i.col:i.col2;i=new z(c,i.col,c,h),r._adjustSelection(i,this.selectionMode),this.selectionMode&&!this._updating&&this.scrollIntoView(i.row,-1)}}}}},t.prototype._getRowIndex=function(e){if(this._cv){var r=this.rows;if(e>-1){for(var i=this._cv.items[e];e<r.length;e++)if(r[e].dataItem===i)return e;return-1}if(r.length==1&&r[0]instanceof Ie)return 0;var o=this.selection.row,s=o>-1?r[o]:null;return s&&(s instanceof Pe||s.dataItem==null)?o:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var r=0;r<this.rows.length;r++)if(this.rows[r].dataItem==e)return r;return-1},t.prototype._preWidth=function(){var e=this._root,r=this._hdrVis&ze.Row?this._hdrCols.getTotalSize():0;return e.clientWidth-r},t.prototype._updateLayout=function(){var e=new we;if(this.onUpdatingLayout(e)){var r=this._hdrVis&ze.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&ze.Column?this._hdrRows.getTotalSize():0,o=this._ftrRows.getTotalSize(),s=this._rows.getTotalSize()+o;s<1&&(s=1),this._heightReal=s,this._heightBrowser=Math.min(s,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,s-this._heightBrowser);var l=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(l.paddingTop)+parseInt(l.paddingBottom),this._cellPadHorz=parseInt(l.paddingLeft)+parseInt(l.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?l.paddingRight:l.paddingLeft);var a=this._heightBrowser+i-o,u=this._gpCells.width,c=this._heightBrowser;!u&&this.rows.length&&(u=.1),!c&&this.columns.length&&(c=.1),this.rightToLeft?(H(this._eTL,{right:0,top:0,width:r,height:i}),H(this._eCHdr,{right:r,top:0,height:i}),H(this._eRHdr,{right:0,top:i,width:r}),H(this._eCt,{right:r,top:i,width:u,height:c}),H(this._fCt,{right:r,top:i}),H(this._eBL,{right:0,top:a,width:r,height:o}),H(this._eCFtr,{right:r,top:a,height:o})):(H(this._eTL,{left:0,top:0,width:r,height:i}),H(this._eCHdr,{left:r,top:0,height:i}),H(this._eRHdr,{left:0,top:i,width:r}),H(this._eCt,{left:r,top:i,width:u,height:c}),H(this._fCt,{left:r,top:i}),H(this._eBL,{left:0,top:a,width:r,height:o}),H(this._eCFtr,{left:r,top:a,height:o})),this._stickyHdr&&this._updateStickyHeaders();var h=this.frozenRows||this.frozenColumns?"3":"";H([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:h}),ge()&&(this._fCt.style.zIndex=h?"2":"");var d=this._root,f=d.offsetWidth-d.clientWidth,p=d.offsetHeight-d.clientHeight;H(this._eSz,{width:r+f+this._gpCells.width,height:i+p+this._heightBrowser});var g=null;this.columns._updateStarSizes(d.clientWidth-r)&&(g=d.clientWidth,H(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new Xt(d.clientWidth-r,d.clientHeight-i),this._szClientSB=new Xt(d.offsetWidth-r,d.offsetHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),f=d.offsetWidth-d.clientWidth,p=d.offsetHeight-d.clientHeight,H(this._eSz,{width:r+f+this._gpCells.width,height:i+p+this._heightBrowser}),this._szClient=new Xt(d.clientWidth-r,d.clientHeight-i),g&&g!=d.clientWidth&&this.columns._updateStarSizes(d.clientWidth-r)&&(H(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),H([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),H([this._eRHdr,this._fCt],{height:this._szClient.height}),o&&(a=Math.min(a,this._szClient.height+i-o),H([this._eBL,this._eCFtr],{top:a})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,r=0;if(this._stickyHdr){for(var i=0,o=null,s=this.hostElement;s;s=s.parentElement)if(getComputedStyle(s).display!="inline"){var l=s.getBoundingClientRect();o==null&&(o=l.top),i=Math.max(i,l.top)}r=-(o=Math.max(0,i-o-1)),e=o>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-r+"px":"",te(this._eTL,t._WJS_STICKY,e),te(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS||this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if(getComputedStyle(e).overflow=="auto")return!1;return!0},t.prototype._scroll=function(e){var r=this;q(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){r._afClip=null,r.finishEditing(),r._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){r._afSticky=null;var i=new we;r.onUpdatingLayout(i)&&(r._updateStickyHeaders(),r.onUpdatedLayout(i))})))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var r=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>r)return ce(Math.round(e/(this._heightBrowser-r)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,r=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&t._getRtlMode()=="rev"&&(i=e.scrollWidth-e.clientWidth-i);var o=new xt(-Math.abs(i),-r);return this._ptScrl.equals(o)?!1:(this._ptScrl=o,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,r){var i=this,o=this._root,s=this.hostElement,l=this.cells.hostElement,a=this._activeCell,u=Z(),c=q(s,u),h=K(u,".wj-flexgrid")==s?u:null,d=new we;if(this.onUpdatingView(d)){A(l,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),A(l,"aria-label",this.ariaLabel),this._hasValidation=ee(this._itemValidator)||this._cv&&ee(this._cv.getError);var f=!r&&this._errorTip&&this._errorTip._tips.length,p=this._getCssPage(-this._ptScrl.y);p!=this._cssPage&&(this._cssPage=p,this._offsetY=Math.round(this._maxOffsetY*p)),this._updateScrollPosition(),this._updateMarquee();var g=this._gpCells._updateContent(e,r,this._offsetY),w=this._hdrVis;if(w&ze.Column&&(!r||this._ssHdr&w)&&(this._gpCHdr._updateContent(e,r,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),w&ze.Row&&(!r||this._ssHdr&w)&&(this._gpRHdr._updateContent(e,r,this._offsetY),this._eRHdr.scrollTop=0),w&&!r&&this._gpTL._updateContent(e,r,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,r,0),this._gpCFtr._updateContent(e,r,0)),f&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){var y=i._errorTip;if(y){y.hide();for(var b=y._tips,x=0;x<b.length;x++){var C=b[x].element;(!C.offsetHeight||!fe(C,"wj-state-invalid"))&&(y.setTooltip(C,null),x--)}}},250)),this._useFrozenDiv()&&(this._updateFrozenCells(r),g&&fe(g,"wj-frozen")&&(g=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=g,h)if(h!=o&&h!=this._eFocus&&q(s,h)&&!q(l,h)){if(Z()!==h&&h.focus(),ge()&&h instanceof HTMLInputElement&&!h.type.match(/checkbox|radio|range/i)){var m=h.selectionStart,_=h.selectionEnd;h.setSelectionRange(m,_)}}else{var v=g!==a;this._setFocus(v)}!h&&g&&(g.tabIndex=this.isDisabled?-1:this._orgTabIndex),a&&a!=g&&(a.tabIndex=-1),this._eFocus.tabIndex=g!=null||this.isDisabled?-1:this._orgTabIndex,c&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(d)}},t.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var r=this.hostElement,i=e?e.parentElement:null,o=this.rightToLeft;r&&(r.scrollTop&&(r.scrollTop=0),r.scrollLeft&&!o&&(r.scrollLeft=0)),i&&(i.scrollTop&&(i.scrollTop=0),i.scrollLeft&&!o&&(i.scrollLeft=0))}var s=tg();e&&s&&s.major==14&&s.minor>=1&&(e.style.transform="",e.style.transform="translateZ(0)")},t.prototype._clearCells=function(){for(var e in this)if(e[0]=="_"){var r=this[e];r instanceof kt&&r._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return Je(this._fzClone)?this._fzClone:ge()||Wi()||wr()||xp()},t.prototype._updateFrozenCells=function(e){var r=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(e&&r.children.length==i.length){for(var o=0;o<i.length;o++)r.children[o].className=i[o].className;return}if(mn(r,null),!this.activeEditor){var s=this._errorTip,l=navigator.userAgent.indexOf("MSIE")>=0;for(o=0;o<i.length;o++){var a=i[o];if(K(a,".wj-flexgrid")==this.hostElement){var u=a[kt._INDEX_KEY],c=a.firstElementChild,h=null;if(u&&c){var d=u.panel,f=this._getBindingColumn(d,u.row,d.columns[u.col]);h=ee(f.cellTemplate)?c.onclick:null}if(l){var p="input[type=checkbox]",g=a.querySelector(p);a=a.cloneNode(!0),g&&(a.querySelector(p).checked=g.checked)}else a=a.cloneNode(!0);if(c=a.firstElementChild,h&&c&&(c.onclick=h),a[kt._INDEX_KEY]=u,s){var w=s.getTooltip(i[o]);w&&s.setTooltip(a,w)}r.appendChild(a)}}}}else mn(r,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,r=this._getMarqueeRect();if(r&&r.width&&r.height){var i=e.firstChild,o=e.offsetWidth-i.offsetWidth,s=e.offsetHeight-i.offsetHeight,l=this.cells.hostElement;H(e,{left:r.left+l.offsetLeft-o/2,top:r.top+l.offsetTop-s/2,width:r.width+o,height:r.height+s,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var r=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),i=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),s=this.cells.getCellBoundingRect(o-1,0,!0);e.topRow>=o&&r.top<s.bottom&&(r.top=s.bottom),e.bottomRow>=o&&i.bottom<s.bottom&&(i.height=s.bottom-i.top)}if(this.columns.frozen){var l=Math.min(this.columns.length,this.columns.frozen);s=this.cells.getCellBoundingRect(0,l-1,!0),this.rightToLeft?(e.leftCol>=l&&r.right>s.left&&(r.left=s.left-r.width),e.rightCol>=l&&i.left>s.left&&(i.left=s.left)):(e.leftCol>=l&&r.left<s.right&&(r.left=s.right),e.rightCol>=l&&i.right<s.right&&(i.width=s.right-i.left))}return this.rightToLeft?new bt(i.left,r.top,r.right-i.left,i.bottom-r.top):new bt(r.left,r.top,i.right-r.left,i.bottom-r.top)},t.prototype._bindColumns=function(){for(var e=this.columns,r=0;r<e.length;r++)e[r]._getFlag($.AutoGenerated)&&(e.removeAt(r),r--);var i=this._cv,o=i?i.items:null;o&&o.length&&this.autoGenerateColumns&&this._getColumnTypes(o).forEach(function(s){var l=new et(s);l._setFlag($.AutoGenerated,!0),l.name=l.binding,l.header=El(l.binding);var a=t._defTypeWidth[l.dataType];if(a!=null){if(Q(a)){var u=Math.round(parseFloat(a));a=a.indexOf("*")>-1?u*e.defaultSize:u}ue(a)&&a>0&&(l.width=a)}e.push(l)}),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return Lp(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Ue(e)){var r=e.items[0];this.columns.forEach(function(i){i.dataType==null&&i._binding&&(i.dataType=yi(i._binding.getValue(r)))})}},t.prototype._getMapEditor=function(e,r){return r.editor?r.editor.isDroppedDown!=null?r.dataMapEditor:null:!e.dataMap||e instanceof Pe?r.dataMap?r.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,r,i){return i},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowsPerItem=function(){return 1},t.prototype._isTransposed=function(){return!1},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var r=e.items,i=e.groups;if(this.childItemsPath)for(var o=0;o<r.length;o++)this._addNode(r,o,0);else if(i!=null&&i.length>0&&this.showGroups)for(o=0;o<i.length;o++)this._addGroup(i[o]);else for(o=0;o<r.length;o++)this._addBoundRow(r,o)}},t.prototype._addBoundRow=function(e,r){var i=new En(e[r]),o=this.rows;i._list=o,o[o.length++]=i},t.prototype._addGroupRow=function(e){this.rows.push(new Pe(e))},t.prototype._addNode=function(e,r,i){var o=e[r],s=this.childItemsPath,l=o[We(s)?s[i]:s],a=new Pe(o);if(a.level=i,this.rows.push(a),We(l))for(var u=0;u<l.length;u++)this._addNode(l,u,i+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var r=e.items,i=0;i<r.length;i++)this._addBoundRow(r,i);else for(i=0;i<e.groups.length;i++)this._addGroup(e.groups[i])},t._getSerializableProperties=function(e){var r=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++){var s=i[o],l=Object.getOwnPropertyDescriptor(e,s);l&&l.set&&l.get&&s[0]!="_"&&!s.match(/^(disabled|required|showDropDown)$/)&&r.push(s)}return r},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,r){return this._grpHdl.getColumnGroup(e,r)},t.prototype._canMoveColumnGroup=function(e,r,i,o){return this._grpHdl.canMoveColumnGroup(e,r,i,o)},t.prototype._moveColumnGroup=function(e,r,i,o,s){return this._grpHdl.moveColumnGroup(e,r,i,o,s)},t.prototype._copy=function(e,r){var i=this;if(e=="columns"){var o=mt(r);return o.some(function(s){return s.columns!=null})?this.columnGroups=o:(this.columns.clear(),o.forEach(function(s){var l=new et(s);i.columns.push(l)})),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!fe(e,"wj-btn-glyph")&&(e.contentEditable=="true"||e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i)!=null)},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&e.type=="checkbox"&&!e.disabled&&!e.readOnly&&fe(e,Se._WJC_CHECKBOX)&&K(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!fe(e,"wj-grid-ime")&&q(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;ge()?e=15e5:Wi()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=_e('<div dir="rtl"><div></div></div>');H(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),H(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var r=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;De(e),t._rtlMode=i<0?"neg":r>0?"rev":"std"}return t._rtlMode},t.prototype.getEmptyRequiredCell=function(e){if(e>=0)for(var r=0;r<this.columns.length;r++){var i=this.getCellData(e,r,!1);if(this.columns[r].getIsRequired(this.rows[e])&&(i===""||i==null))return r}return null},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((nd={})[ve.Number]="0.714285714*",nd),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(O),Rl=function(){function n(t){var e=this;this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var r=_e('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');H(r,n._cssHidden),Sl(r),r.tabIndex=-1,this._tbx=r,this._maskProvider=new Br(r),t._root.appendChild(r),this._updateImeFocus();var i=t.hostElement,o=t.addEventListener.bind(t),s=this._updateImeFocusAsyncBnd;o(i,"blur",s,!0),o(i,"focus",s,!0),o(r,"compositionstart",this._cmpstartBnd),Ep()&&o(i,"keypress",this._keypressBnd),t.selectionChanged.addHandler(s,this),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),o(i,"mousedown",function(l){K(Z(),".wj-flexgrid")==t.hostElement&&t.hitTest(l).panel==t.cells&&fe(t.hitTest(l).target,"wj-cell")&&l.preventDefault()}),t.gotFocus.addHandler(function(){return e._updateImeFocus()})}return n.prototype.dispose=function(){var t=this._g,e=t.hostElement,r=this._tbx,i=t.removeEventListener.bind(t),o=this._updateImeFocusAsyncBnd;i(e,"blur",o),i(e,"focus",o),i(e,"keypress",this._keypressBnd),i(r,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(o),t.cellEditEnded.removeHandler(this._cellEditEnded),t.cellEditEnding.removeHandler(this._cellEditEnding),De(r)},n.prototype._compositionstart=function(t){var e=this,r=this._g;if(!r.activeEditor){var i=r._selHdl.selection;if(r.startEditing(!1,i.row,i.col,!1,t)){if(r.activeEditor&&r.activeEditor.type!="checkbox"){i=r.editRange;var o=r._getBindingColumn(r.cells,i.row,r.columns[i.col]),s=o&&o._edt,l=r.activeEditor,a=this._tbx,u=r.cells.hostElement,c=r.columns[i.col].pos+u.offsetLeft,h=r.rows[i.row].pos+u.offsetTop,d=r.getCellBoundingRect(i.row,i.col),f=r.cells.getCellElement(i.row,i.col);d.width=f.offsetWidth,d.height=f.offsetHeight,i.row<r.frozenRows&&(h+=r._root.scrollTop),i.col<r.frozenColumns&&(c+=r._root.scrollLeft);var p=f.querySelector(".wj-btn.wj-right");p&&(d.width-=p.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(N){A(a,N,l.getAttribute(N))});var g=l instanceof HTMLTextAreaElement;A(a,"wrap",g?"soft":"off");var w=getComputedStyle(f),m=w.paddingTop;if(i.rowSpan>1&&!g){var _=parseFloat(w.lineHeight);isNaN(_)&&(_=1.2*parseFloat(w.fontSize)),m=Math.max(0,(d.height-_)/2)+"px"}var v={position:"absolute",left:c,top:h,width:d.width-1,height:d.height-1,paddingTop:m,paddingLeft:w.paddingLeft,paddingRight:w.paddingRight,textAlign:w.textAlign,zIndex:f.style.zIndex};if(r.rightToLeft&&(v.right=parseInt(f.style.right)+parseInt(r.cells.hostElement.style.right),v.left=""),H(a,v),s){var y=s._tbx.getBoundingClientRect(),b=a.getBoundingClientRect(),x=window.getComputedStyle(a),C=parseFloat(x.left),S=parseFloat(x.right),M=parseFloat(x.top);r.rightToLeft?H(a,{right:S+b.right-y.right+"px",top:M+y.top-b.top+"px",width:y.width+"px",height:y.height+"px"}):H(a,{left:C+y.left-b.left+"px",top:M+y.top-b.top+"px",width:y.width+"px",height:y.height+"px"})}r._edtHdl._edt=a,a.select();var I=l.value;setTimeout(function(){a.value!="　"&&a.value!=" "||(a.value=I),J(a,a.value.length)},20),a.placeholder=l.placeholder,l.placeholder="",l.value=""}}else this._tbx.blur(),setTimeout(function(){e._tbx.focus(),r._setFocusNoScroll(r.hostElement)},20)}},n.prototype._cellEditEnding=function(){var t=this._maskProvider;t&&t.mask&&t._valueChanged()},n.prototype._cellEditEnded=function(){var t=this._tbx,e=this._g;if(this._enableIme()){var r=Z();r.blur(),e._isScrollingByWheel?setTimeout(function(){r.focus(),e._setFocusNoScroll(e.hostElement),r.focus()},20):(r.focus(),e._setFocusNoScroll(e.hostElement),r.focus())}t.value="",H(t,n._cssHidden),this._updateImeFocus()},n.prototype._keypress=function(t){!t.defaultPrevented&&t.target==this._tbx&&!(t.ctrlKey||t.altKey||t.metaKey||t.keyCode==27||this._g.activeEditor)&&(this._tbx.value="",this._compositionstart(t),t.stopPropagation())},n.prototype._updateImeFocus=function(){var t=this._g,e=this._tbx,r=Z(),i=t._getTabIndex();if(t.activeEditor||K(r,".wj-flexgrid")!=t.hostElement)(t.isDisabled||i<0)&&e.tabIndex>=0&&(e.tabIndex=-1);else if(this._enableIme()&&!t._wantsInput(r)){r!=e&&(t.activeCell&&(t.activeCell.tabIndex=-1),e.tabIndex=i,e.disabled=!1,e.value="",t.isTouching||(window&&window.top!=window.self?(J(e,0,0,!1),t._setFocusNoScroll(e)):(J(e,0),e.focus())));var o=t._selHdl.selection,s=o.isValid?t._getBindingColumn(t.cells,o.row,t.columns[o.col]):null;this._maskProvider.mask=s?s.mask:null}else if(e.tabIndex=-1,e.disabled=!0,e.value="",r==e){e.blur();var l=t.activeCell;l?(l.tabIndex=i,l.focus()):t.focus()}},n.prototype._updateImeFocusAsync=function(){var t=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout(function(){t._toFocus=null,t._updateImeFocus()},100)},n.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},n.prototype._enableIme=function(){var t=this._g,e=t._selHdl.selection;if(!t.canEditCell(e.row,e.col))return!1;var r=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!(!r||r.dataType==ve.Boolean)&&(!r||!r.dataMap||r.dataMapEditor!=Bt.RadioButtons)},n._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},n}(),og=function(){function n(t){this._nrt=new Ie,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._pasting=!1,this._g=t,this._attach()}return Object.defineProperty(n.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){if(t!=this.newRowAtTop){this._top=k(t),this.updateNewRowTemplate();var e=this._g;this._top&&e.selectionMode==se.ListBox&&(e.rows.forEach(function(r,i){r._setFlag($.Selected,i==0,!0)}),e.select(0,e.selection.col))}},enumerable:!0,configurable:!0}),n.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,r=t.rows,i=this._nrt,o=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,s=r.indexOf(i),l=this._top?0:r.length-1,a=!1;if(!o&&s>-1){var u=t.selection;u.row==s&&t.select(u.row-1,u.col),r.removeAt(s)}else o&&(s<0?a=!0:s!=l&&(r.removeAt(s),a=!0),a&&(this._top?r.insert(0,i):r.push(i)),i&&(i._ubv=null,i._setFlag($.ParentCollapsed,!1),this._top&&t.selectionMode==se.ListBox||i._setFlag($.Selected,!1)))},n.prototype._attach=function(){var t=this._g;t&&(t.pasting.addHandler(this._pastingData,this),t.pasted.addHandler(this._pastedData,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},n.prototype._detach=function(){var t=this._g;t&&(t.pasting.removeHandler(this._pastingData,this),t.pasted.removeHandler(this._pastedData,this),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},n.prototype._keydown=function(t){!t.defaultPrevented&&t.keyCode==E.Escape&&this._g.activeEditor==null&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},n.prototype._beginningEdit=function(t,e){if(!e.cancel){var r=t.rows[e.row];r instanceof Ie&&this._handleEditStarting(t,e,r)}},n.prototype._pastingData=function(t,e){e.cancel||(this._pasting=!0)},n.prototype._pastedData=function(t,e){this._pasting=!1},n.prototype._rowEditStarting=function(t,e){if(this._pasting){var r=t.rows[e.row];r instanceof Ie&&this._handleEditStarting(t,e,r)}},n.prototype._rowEditEnding=function(t,e){var r=t.editableCollectionView,i=this._nrt.dataItem;if(r&&this._top&&i&&!e.cancel){var o=r.currentAddItem;if(!(o&&o==i)){o=r.addNew();for(var s in i)o[s]=i[s]}}},n.prototype._rowEditEnded=function(t,e){var r=this,i=t.editableCollectionView;if(i&&!this._committing)if(this._top){if(e.cancel)return;var o=this._nrt.dataItem;if(o){this._committing=!0,this._nrt.dataItem=null;var s=this._g.rows,l=i.items.indexOf(o)+1;l<s.length&&e._rng.setRange(l,-1),t.onRowAdded(e)?i.commitNew():i.cancelNew(),this._committing=!1}var a=t.rows[e.row];setTimeout(function(){a instanceof Ie&&t.select(0,t.columns.firstVisibleIndex),r.updateNewRowTemplate()},20)}else i.isAddingNew&&i.commitNew()},n.prototype._handleEditStarting=function(t,e,r){var i=t.editableCollectionView;if(i&&i.canAddNew)if(this._top)if(this._nrt.dataItem==null){var o=null,s=i.sourceCollection,l=i.newItemCreator;o=ee(l)?l():s&&s.length?new s[0].constructor:{},this._nrt.dataItem=o}else i.currentAddItem&&(t.onRowAdded(e)||i.cancelNew());else{o=i.currentAddItem&&i.currentAddItem==r.dataItem?i.currentAddItem:i.addNew(),i.moveCurrentTo(o);var a=this._nrt.isSelected;this.updateNewRowTemplate(),a&&e.row>-1&&(t.rows[e.row].isSelected=!0),t.isUpdating||t.refresh(!0),t.onRowAdded(e)||i.cancelNew()}},n}(),Ie=function(n){qt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(En),Lr;(function(n){n[n.None=0]="None",n[n.Cells=1]="Cells",n[n.ColumnHeaders=2]="ColumnHeaders",n[n.RowHeaders=4]="RowHeaders",n[n.AllHeaders=6]="AllHeaders",n[n.All=7]="All"})(Lr||(Lr={}));var _u=function(){function n(t){t!=null&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return n.prototype.getMergedRange=function(t,e,r,i){i===void 0&&(i=!0);var o=t.grid,s=t.cellType,l=t.columns,a=t.rows,u=a[e],c=l[r];if(u instanceof Ie||!(u instanceof En&&c instanceof et))return null;if(t==o.columnHeaders){var h=o._getColumnGroup(e,r);if(h){var d=h._rng,f=t.columns;return f.isFrozen(d.col)!=f.isFrozen(d.col2)&&(d=d.clone(),f.isFrozen(r)?d.col2=f.frozen-1:d.col=f.frozen),d}}if(o.showGroups&&!o.childItemsPath&&u instanceof Pe&&u.dataItem instanceof yn&&s==U.Cell){if(d=new z(e,r),c.aggregate==xe.None){for(;d.col>0&&l[d.col-1].aggregate==xe.None&&d.col!=l.frozen;)d.col--;for(;d.col2<l.length-1&&l[d.col2+1].aggregate==xe.None&&d.col2+1!=l.frozen;)d.col2++}for(;d.col<r&&!l[d.col].visible;)d.col++;return d.isSingleCell?null:d}var p=!1,g=Lr,w=U;switch(o.allowMerging){case g.None:p=!0;break;case g.Cells:p=s!=w.Cell;break;case g.ColumnHeaders:p=s!=w.ColumnHeader&&s!=w.TopLeft;break;case g.RowHeaders:p=s!=w.RowHeader&&s!=w.TopLeft;break;case g.AllHeaders:p=s==w.Cell}if(p)return null;if(s==w.Cell){var m=o.editableCollectionView,_=m?m.currentAddItem:null;if(_&&u.dataItem==_)return null}if(l[r].allowMerging){d=new z(e,r);var v=t._vrb,y=0,b=a.length-1;e>=a.frozen?i&&(s==U.Cell||s==U.RowHeader)&&o._vtRows<a.length&&v&&(y=v.topRow,b=v.bottomRow):a.length>a.frozen&&(b=a.frozen-1);for(var x=e-1;x>=y&&this._mergeCell(t,x,r,e,r);x--)d.row=x;for(var C=e+1;C<=b&&this._mergeCell(t,e,r,C,r);C++)d.row2=C;for(;d.row<e&&!a[d.row].visible;)d.row++;if(!d.isSingleCell)return d}if(a[e].allowMerging){d=new z(e,r),v=t._vrb;var S=0,M=l.length-1;r>=l.frozen?i&&(s==U.Cell||s==U.ColumnHeader)&&o._vtCols<l.length&&v&&(S=v.leftCol,M=v.rightCol):M=l.frozen-1;for(var I=r-1;I>=S&&this._mergeCell(t,e,I,e,r);I--)d.col=I;for(var N=r+1;N<=M&&this._mergeCell(t,e,r,e,N);N++)d.col2=N;for(;d.col<r&&!l[d.col].visible;)d.col++;if(!d.isSingleCell)return d}return null},n.prototype._mergeCell=function(t,e,r,i,o){var s=t.rows[e],l=t.rows[i];if(!s||!l||s instanceof Pe||s instanceof Ie||l instanceof Pe||l instanceof Ie)return!1;var a=t.grid.editableCollectionView,u=a?a.currentAddItem:null;return u&&(s.dataItem==u||l.dataItem==u)||e!=i&&t.rows.isFrozen(e)!=t.rows.isFrozen(i)||r!=o&&t.columns.isFrozen(r)!=t.columns.isFrozen(o)||e!=i&&(r>0&&(s.allowMerging&&this._mergeCell(t,e,r-1,e,r)||l.allowMerging&&this._mergeCell(t,i,r-1,i,r))||o<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,e,o,e,o+1)||l.allowMerging&&this._mergeCell(t,i,o,i,o+1)))?!1:t.getCellData(e,r,!0)==t.getCellData(i,o,!0)},n}(),Oo=function(){function n(t,e){this._row=-1,this._col=-1,this._edge=0;var r;if(e instanceof Element){if(K(e,".wj-flexgrid")!=t.hostElement)return;t=e,this._target=e}if(!(t instanceof Element)||t instanceof un){if(t instanceof un)this._target=t.hostElement,r=this._g=t;else{if(!(t instanceof kt))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,r=this._g=this._p.grid}e instanceof MouseEvent&&(this._target=e.target,e.type=="mousedown"&&(r._rcBounds=null)),e=dr(e),this._pt=e.clone();var i=r.controlRect,o=r._szClient,s=r.topLeftCells,l=r._eTL,a=r.headersVisibility,u=ze,c=a&u.Row?s.columns.getTotalSize():0,h=a&u.Column?s.rows.getTotalSize():0,d=a&u.Column?h+l.offsetTop:0,f=r._eBL,p=f.offsetHeight;if(e.x-=i.left,e.y-=i.top,r.rightToLeft&&(e.x=i.width-e.x),this._p||e.x>=0&&e.y>=l.offsetTop&&o&&e.x<=o.width+c&&e.y<=o.height+h&&(e.y<d?this._p=e.x<c?r.topLeftCells:r.columnHeaders:e.y<f.offsetTop?this._p=e.x<c?r.rowHeaders:r.cells:this._p=e.x<c?r.bottomLeftCells:r.columnFooters),this._p!=null){var g=this._p.rows,w=this._p.columns,m=this._p.cellType,_=U,v=this._p._getFrozenPos(),y=m==_.TopLeft||m==_.ColumnHeader?h:m==_.BottomLeft||m==_.ColumnFooter?p:g.getTotalSize(),b=m==_.TopLeft||m==_.BottomLeft||m==_.RowHeader?c:w.getTotalSize();m==_.RowHeader||m==_.Cell?(e.y-=h,(e.y>v.y||v.y<=0)&&(e.y-=r._ptScrl.y,e.y+=this._p._getOffsetY())):m!=_.BottomLeft&&m!=_.ColumnFooter||(e.y-=f.offsetTop),(m==_.ColumnHeader||m==_.Cell||m==_.ColumnFooter)&&(e.x-=c,(e.x>v.x||v.x<=0)&&(e.x-=r._ptScrl.x)),m!=_.ColumnHeader&&m!=_.TopLeft||(e.y-=d-h),this._edge=0;var x=n._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(x=n._SZEDGE[1],e.x-=x/2),this._row=e.y>y?-1:g.getItemAt(e.y),this._col=e.x>b?-1:w.getItemAt(e.x),this._row<0||this._col<0){this._p=null;return}if(this._col>-1){var C=w[this._col];e.x-C.pos<=x&&(this._edge|=1);var S=C.pos+C.renderSize-e.x;S<=x&&(this._edge|=4,S<=x/2&&(this._edge|=16))}if(this._row>-1){var M=g[this._row];e.y-M.pos<=x&&(this._edge|=2);var I=M.pos+M.renderSize-e.y;I<=x&&(this._edge|=8,I<=x/2&&(this._edge|=32))}}}else{var N=K(t,".wj-cell"),R=N?N[kt._INDEX_KEY]:null;R&&(this._target=t,this._row=R.row,this._col=R.col,this._rng=R.rng,this._p=R.panel,this._g=R.panel.grid)}}return Object.defineProperty(n.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._p?this._p.cellType:U.None},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),n.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(n.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),n.prototype.getColumn=function(t){var e=this._p,r=e&&this._col>-1?e.columns[this._col]:null;if(r&&t){var i=e.grid;r=e.cellType===U.ColumnHeader&&i._hasColumnGroups()?i._getColumnGroup(this._row,this._col):i._getBindingColumn(e,this._row,r)}return r},Object.defineProperty(n.prototype,"range",{get:function(){return this._rng||(this._rng=new z(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeLeft",{get:function(){return(1&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeTop",{get:function(){return(2&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeRight",{get:function(){return(4&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarRight",{get:function(){return(16&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeBottom",{get:function(){return(8&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarBottom",{get:function(){return(32&this._edge)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n._SZEDGE=[6,30],n}();function jo(){return Pl("wijmo.input")}var od="$WJ-MSKP",Se=function(){function n(){}return n.prototype.updateCell=function(t,e,r,i,o,s){var l=t.grid,a=l.rightToLeft,u=t.rows,c=t.columns,h=u[e],d=c[r],f=e,p=r,g=h instanceof Pe?h:null,w=h instanceof Ie?h:null,m=d.renderWidth,_=h.renderHeight,v=t.cellType,y="wj-cell",b="",x={display:""},C=U;s!=0&&i.firstElementChild&&(i.childNodes.length==1&&i.firstElementChild.type=="checkbox"||(i.textContent="")),o&&!o.isSingleCell&&(e=o.row,r=o.col,f=o.row2,p=o.col2,h=u[e],d=c[r],g=h instanceof Pe?h:null,_=(G=o.getRenderSize(t)).height,m=G.width);var S=l._getBindingColumn(t,e,d),M=S.dataType||h.dataType,I=S.dataMap||h.dataMap,N=v==C.Cell?l._getMapEditor(h,S):null,R=v==C.RowHeader||v==C.Cell&&(!g||l.childItemsPath),V=R&&N==Bt.RadioButtons,X=M==ve.Boolean&&!I,tt=S.isContentHtml||h.isContentHtml,Fe=d.pos,Ye=h.pos,D=l._ptScrl;if(l._useFrozenDiv()&&v==C.Cell&&!l.editRange)r<c.frozen&&f>=u.frozen?Ye+=D.y:e<u.frozen&&p>=c.frozen&&(Fe+=D.x);else{var G=l._szClient;if(f<u.frozen&&(Ye=Math.min(Ye,G.height),_=Math.min(_,Math.max(0,G.height-Ye)),Ye-=D.y),p<c.frozen){var Y=G.width!=0?G.width:l._preWidth();Fe=Math.min(Fe,Y),m=Math.min(m,Math.max(0,Y-Fe)),Fe-=D.x}}a?x.right=Fe+"px":x.left=Fe+"px",f>=u.frozen&&(Ye-=t._getOffsetY()),x.top=Ye+"px",x.width=m+"px",x.height=_+"px",x.zIndex="",(e<u.frozen||r<c.frozen)&&(x.zIndex=e<u.frozen&&r<c.frozen?2:1);var le=!1,ae=l.alternatingRowStep;if(ae&&(!o||o.row==o.row2)&&(le=h.visibleIndex%(ae+1)==0,ae==1&&(le=!le)),v==C.Cell)g&&(y+=" wj-group"),le&&(y+=" wj-alt"),(e<u.frozen||r<c.frozen)&&(y+=" wj-frozen"),w&&(y+=" wj-new"),h.cssClass&&(y+=" "+h.cssClass),S.cssClass&&(y+=" "+S.cssClass);else{y+=" wj-header",le&&(y+=" wj-header-alt"),h.cssClass&&v==C.ColumnHeader&&(y+=" "+h.cssClass),S.cssClass&&v==C.RowHeader&&(y+=" "+S.cssClass);var nt=!1;v!=C.ColumnHeader&&v!=C.TopLeft||l.allowResizing&wn.Columns&&(nt=l._mouseHdl._getResizeCol(t,p)!=null),nt||v!=C.RowHeader||l.allowResizing&wn.Rows&&(nt=l._mouseHdl._getResizeRow(t,f)!=null),nt&&(y+=" wj-big-header")}h.cssClassAll&&(y+=" "+h.cssClassAll),S.cssClassAll&&(y+=" "+S.cssClassAll);var Xe=jr,Pt=t.getSelectedState(e,r,o);switch(Pt!=Xe.None&&v==C.Cell&&!X&&l.editRange&&l.editRange.contains(e,r)&&(Pt=Xe.None),Pt){case Xe.Active:y+=" wj-state-active";break;case Xe.Cursor:y+=" wj-state-selected wj-state-active";break;case Xe.Selected:y+=" wj-state-multi-selected"}f==u._lastFrozen&&(y+=" wj-frozen-row"),p==c._lastFrozen&&(y+=" wj-frozen-col"),(S.wordWrap||h.wordWrap)&&(y+=" wj-wrap"),(S.multiLine||h.multiLine)&&(y+=" wj-multiline");var at=S.getAlignment(h);at&&(b=" wj-align-"+at);var ut=v,Rn=l._isTransposed(),Ht=(ut==C.ColumnHeader&&!Rn||ut==C.RowHeader&&Rn)&&l._hasColumnGroups()?l._getColumnGroup(e,r):null;if(Ht&&Ht.align&&(b=" wj-align-"+Ht.align),x.paddingLeft=x.paddingRight=x.paddingTop=x.paddingBottom="",v==C.Cell&&l.rows.maxGroupLevel>-1&&r==c.firstVisibleIndex&&l.treeIndent){var cn=g?Math.max(0,g.level):u.maxGroupLevel+1,hn=Math.min(l.treeIndent*cn+l._cellPadLeft,m-l._cellPadHorz)+"px";a?x.paddingRight=hn:x.paddingLeft=hn}m<=l._cellPadHorz&&i.getAttribute(un._WJS_MEASURE)==null&&(x.paddingLeft=x.paddingRight=0);var Pi=v==C.Cell&&r==c.firstVisibleIndex&&g&&g.hasChildren&&!ca(l,e,r);if(Pi&&(b=""),s!=0){var $i=t.getCellData(e,r,!1),qe=t.getCellData(e,r,!0);if(Pi){var fg=cy(g,i);qe=g.getGroupHeader()||xn(qe),i.innerHTML=fg.outerHTML+" "+qe}else if(v!=C.ColumnHeader||f!=l._getSortRowIndex()&&S==d){if(!(v==C.RowHeader&&!qe&&function(){var Xi=!1;if(r==l._getEditColumnIndex()){var Yo=l.editableCollectionView,qo=Yo?Yo.currentEditItem:null;qe=i.innerHTML=qo&&h.dataItem==qo?xr("pencil"):h instanceof Ie?xr("asterisk"):"",Xi=!0}var Ur=S._tpl;return Ur&&(sd(Ur,i,$i,qe,h,S),Xi=!0),Xi}()))if(v!=C.Cell||M!=ve.Boolean||I||g&&!Je($i))if(v==C.Cell&&!V&&ca(l,e,r)){var Go=S.inputType||h.inputType;if(Go||(Go=M!=ve.Number||I?"text":"tel"),!I&&!S.mask&&!h.mask){var Sc=t.getCellData(e,r,!1);ue(Sc)&&(qe=sy(Sc,S.format||h.format))}i.innerHTML=(S.multiLine||h.multiLine)&&Go!="checkbox"?'<textarea wrap="soft"></textarea>':'<input type="'+Go+'"/>';var At=i.children[0];ie(At,"wj-grid-editor wj-form-control"),Sl(At),tt&&I&&!I.isEditable&&(qe=Pn(qe)),At.value=qe,At.tabIndex=-1,At.required=S.getIsRequired(h),A(At,"aria-required",At.required);var Pc=S.maxLength||h.maxLength;Pc&&(At.maxLength=Pc),At.style.textAlign=S.getAlignment(h);var kc=S.mask||h.mask;kc&&(At[od]=new Br(At,kc)),l.showPlaceholders&&(At.placeholder=S.header),l._edtHdl._edt=At}else{if(V){var Ic=[],pg=t.getCellData(e,r,!1);I.getDisplayValues(h.dataItem).forEach(function(Xi){var Yo=I.getKeyValue(Xi)==pg?" checked":"",qo=l.isReadOnly||h.isReadOnly||d.isReadOnly?" disabled":"",Ur=xn(Xi);Ic.push('<label><input type="radio" tabindex="-1"'+Yo+qo+' value="'+Ur+'"><span>'+Ur+"</span></label>")}),i.innerHTML=Ic.join(" "),y+=" "+n._WJC_RADIOMAP}var Rc=R?S._tpl:null;if(Rc?sd(Rc,i,$i,qe,h,S):V||(v==C.Cell&&tt?i.innerHTML=qe:i.textContent=qe||""),Ht&&Ht.collapseTo){var Dl=Ht._rng;if(Dl&&(v==C.ColumnHeader&&Dl.columnSpan>1||v==C.RowHeader&&Dl.rowSpan>1)){var Dc=Ht.isCollapsed;i.innerHTML='<div role="button" class="'+n._WJC_COLLAPSE+'">'+xr(Dc?"plus":"minus")+"</div>&nbsp;"+i.innerHTML,Dc&&ie(i,"wj-state-collapsed")}}}else{var ki=i.firstChild;l._isNativeCheckbox(ki)||(i.innerHTML='<label><input type="checkbox" class="'+n._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',ki=i.querySelector("input")),Mr(ki,$i),ki.disabled=!l.canEditCell(e,r),ki.disabled&&(ki.style.cursor="default"),l.editRange&&l.editRange.contains(e,r)&&(l._edtHdl._edt=ki)}}else{i.innerHTML=xn(qe);var Tc=S.currentSort;Tc&&l.showSort&&(y+=" wj-sort-"+(Tc=="+"?"asc":"desc"),i.innerHTML+="&nbsp;"+uy(S)),l.allowPinning&&q(l.hostElement,i)&&ay(i,r<l.frozenColumns)}if(N==Bt.DropDownList&&l.showDropDown&&l.canEditCell(e,r)&&jo()){var gg=ly();i.insertBefore(gg,i.firstChild),ca(l,e,r)&&(y+=" wj-hasdropdown")}}if(v==C.RowHeader||v==C.ColumnHeader){var _g=v==C.RowHeader?!g&&!w&&h.allowDragging&&(l.allowDragging&An.Rows)!=0:(Ht||d).allowDragging&&(l.allowDragging&An.Columns)!=0;A(i,"draggable",_g?"true":null)}y+=b,i.className!=y&&(i.className=y);var Mc=i.style;for(var Wo in x)Mc[Wo]!==x[Wo]&&(Mc[Wo]=x[Wo]);if(l._edtHdl._edt&&l._edtHdl._edt.parentElement==i){var Tl=l._root,Oc=Tl.getBoundingClientRect(),Ko=i.getBoundingClientRect(),jc=Oc.top+Tl.clientHeight-Ko.top,Lc=Oc.left+Tl.clientWidth-Ko.left;Ko.height>jc&&(i.style.height=jc+"px"),Ko.width>Lc&&(i.style.width=Lc+"px")}if((v==C.Cell||v==C.RowHeader)&&l._getShowErrors()){var mg=l._getError(t,e,r,!1);l._edtHdl._setCellError(i,mg)}if(l.itemFormatter&&l.itemFormatter(t,e,r,i),l.formatItem.hasHandlers){var Ii=n._fmtItemArgs;Ii?(Ii._p=t,Ii._rng.setRange(e,r,f,p),Ii._cell=i):Ii=n._fmtItemArgs=new ng(t,new z(e,r,f,p),i),Ii._updateContent=s!==!1,l.onFormatItem(Ii)}},n.prototype.disposeCell=function(t){},n.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":return e.checked;case"radio":return e.value}if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var r=e[od],i=r?r._applyMask():e.value,o=e.maxLength;if(ue(o)&&o>-1&&i.length>o){var s=oe.Globalize.numberFormat["%"]||"%",l=i.length&&i[i.length-1]==s;i=i.substr(0,o),l&&i.indexOf(s)<0&&(i+=s)}return i}return null},n._WJC_RADIOMAP="wj-radio-map",n._WJC_CHECKBOX="wj-cell-check",n._WJC_COLLAPSE="wj-elem-collapse",n._WJC_DROPDOWN="wj-elem-dropdown",n._WJC_PIN="wj-elem-pin",n._tplDdBtn=sg(n._WJC_DROPDOWN,"down"),n._tplCtx={row:null,col:null,value:null,text:null,item:null},n}();function sd(n,t,e,r,i,o){var s=Se._tplCtx;s.value=e,s.text=r,s.item=i.dataItem,s.row=i,s.col=o;var l=Q(n)?Ap(n,s):n(s,t);l!=null&&(t.innerHTML=l)}function sy(n,t){t=t||"n";var e=ne._parseNumericFormat(t);switch(e.spec){case"d":case"x":break;case"e":t=t.replace(/[0-9]/g,"");break;default:t=e.spec=="p"?"P15":"r",e.scale&&(t+=Array(e.scale/3+1).join(","))}return ne.formatNumber(n,t,!0)}function ca(n,t,e){return n.editRange&&n.editRange.contains(t,e)}function ly(){var n=Se._ddBtn;return n||(n=Se._ddBtn=_e(Se._tplDdBtn),Ve(n,oe.FlexGrid.ariaLabels.toggleDropDown),A(n,"aria-expanded",!1)),n.cloneNode(!0)}function ay(n,t){var e=sg(Se._WJC_PIN,"pin"),r=_e(e);te(r,"wj-state-pinned",t),A(r,"aria-pressed",t),n.insertBefore(r,n.firstChild)}function uy(n){var t=xr(n.currentSort=="+"?"up":"down"),e=n.grid.collectionView;if(e&&e.sortDescriptions.length>1){var r=n.currentSortIndex;r>-1&&(t+='<span class="wj-sort-index">'+(r+1)+"</span>")}return t}function cy(n,t){var e=Se._WJC_COLLAPSE,r=(n.isCollapsed?"":"down-")+(n.grid.rightToLeft?"left":"right"),i=_e('<button class="wj-btn wj-btn-glyph '+e+'" type="button" tabindex="-1">'+xr(r)+"</button>");return Ve(i,oe.FlexGrid.ariaLabels.toggleGroup),A(i,"aria-expanded",!n.isCollapsed),A(t,"aria-expanded",!n.isCollapsed),i}function xr(n){return'<span class="wj-glyph-'+n+'"></span>'}function sg(n,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",n).replace("{glyph}",xr(t))}var hy=4,lg=function(){function n(t){var e=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._mapSearch=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._composing=!1,this._g=t,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),t.selectionChanging.addHandler(function(i,o){if(e.finishEditing()){var s=t._selHdl.selection.row;if(s!=o.row){var l=t.rows.length;if((s>-1&&s<l?t.rows[s].dataItem:null)!=(o.row>-1&&o.row<l?t.rows[o.row].dataItem:null)&&(e._commitRowEdits(),t._getHasValidation())){var a=!t.rows[s]||t.rows[s]&&Object.getPrototypeOf(t.rows[s])!==En.prototype?null:t.getEmptyRequiredCell(s);a!==null&&setTimeout(function(){t.select(new z(s,a)),e.startEditing(!0,s,a,!0,o)})}}}else o.cancel=!0}),t.lostFocus.addHandler(function(){var i=Z();i&&getComputedStyle(i).position=="fixed"?e.finishEditing():e._commitRowEdits()});var r=t.hostElement;t.addEventListener(r,"mousedown",function(i){if(!i.defaultPrevented&&i.button==0&&!t._mouseHdl._szRowCol){var o=t.hitTest(i);o.cellType!=U.Cell&&o.cellType!=U.None&&(e.finishEditing()||e.finishEditing(!0))}},!0),t.addEventListener(r,"compositionend",function(){e._composing=!1,e._keypress.bind(e)}),t.addEventListener(r,"compositionstart",function(){e._composing=!0})}return n.prototype.startEditing=function(t,e,r,i,o){t===void 0&&(t=!0);var s=this._g,l=s._selHdl.selection;if(e=j(e,!0,!0),r=Q(r)?s.columns.indexOf(r):j(r,!0,!0),e==null&&(e=l.row),r==null&&(r=l.col),i==null&&(i=!0),!this._allowEdit(e,r))return!1;var a=s.getMergedRange(s.cells,e,r,!1);a||(a=new z(e,r));var u=s.rows[e].dataItem;if(s.scrollIntoView(a.row,a.col,!0),!s.select(a,!0)||!s.rows[e]||u!=s.rows[e].dataItem)return!1;if(this.activeEditor){if(a.equals(this._rng))return!0;if(!this.finishEditing())return!1}var c=new de(s.cells,a,o);if(!s.onBeginningEdit(c))return!1;var h=s.editableCollectionView,d=!1;h&&((d=(u=s.rows[e].dataItem)!=h.currentEditItem)&&s.onRowEditStarting(c),h.editItem(u),d&&(s.onRowEditStarted(c),this._edItem=u));var f=s.rows[e],p=s._getBindingColumn(s.cells,e,s.columns[r]),g=p.dataMap||f.dataMap,w=Bt.RadioButtons,m=f.dataMap&&f.dataMapEditor==w||p.dataMap&&p.dataMapEditor==w;if(this._fullEdit=k(t),this._rng=a,this._list=null,g&&!m&&!p.editor){var _=g.getDisplayValues(u);(p.isContentHtml||f.isContentHtml)&&(_=_.map(function(R){return Pn(R)})),this._list=_,this._mapSearch=g.search}if(m){var v=s._activeCell||s.hostElement.querySelector(".wj-cell.wj-state-active");if(v){var y=o?o.target:null;y instanceof HTMLSpanElement&&(y=K(y,"label")),y instanceof HTMLLabelElement&&(y=y.querySelector("input")),this._edt=y instanceof HTMLInputElement?y:v.querySelector("input"),this._updateRowHeaderCell(e)}}else a.isSingleCell?this._updateEditorCell(e,r,d):s.refresh(!1);var b=this._edt;if(b){if(b.type=="checkbox"||b.type=="radio")this._fullEdit=!1;else if(i){var x=0,C=b.value.length,S=!1,M=oe.Globalize.numberFormat["%"]||"%",I=s.getCellData(e,r,!1);if(ue(I)?S=b.value.indexOf(M)>-1:I==null&&(S=/^p/i.test(p.format))&&b.value.indexOf(M)<0&&(b.value+=M),S){var N=b.value;for(x=0,C=N.length;C>0&&(N[C-1]==M||N[C-1]==" ");)C--;for(;x<C&&N[x]==M;)x++}o&&o.type=="keydown"&&o.keyCode==E.Space&&(x=C),J(b,x,C),ge()&&b.style.textAlign=="right"&&(b.style.paddingRight="1px")}s.onPrepareCellForEdit(c)}return i&&!s.containsFocus()&&s.focus(),b!=null&&!b.disabled&&!b.readOnly},n.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var r=this._g,i=this._rng,o=new rl(r.cells,i),s=r.containsFocus();if(!t){var l=r.hostElement.querySelector(".wj-control.wj-state-focused");if(l){var a=O.getControl(l);a&&(a.containsFocus()||a._focus)&&a.onLostFocus(o)}}if(o.cancel=t,!t&&r.validateEdits&&(_=this._getValidationError())){o.cancel=!0;var u=r.cells.getCellElement(i.row,i.col);u&&(this._setCellError(u,_),o.stayInEditMode=!0)}if(this._cstEdtValue=null,o.data=r.cells.getCellData(i.topRow,i.leftCol,!1),!r.onCellEditEnding(o)&&o.stayInEditMode)return s?setTimeout(function(){e.select()}):e.select(),this._fullEdit=!0,!1;if(!o.cancel){for(var c=this._cstEdtValue,h=c&&!Un(c.value)?c.value:r.cellFactory.getEditorValue(r),d=i.topRow;d<=i.bottomRow&&d<r.rows.length;d++)for(var f=i.leftCol;f<=i.rightCol&&f<r.columns.length;f++){var p=r._getBindingColumn(r.cells,d,r.columns[f]),g=r.rows[d],w=p&&p.dataMap||g&&g.dataMap,m=!w||w.serializeKeys;if(!r.cells.setCellData(d,f,h,m,!1)&&r.validateEdits){var _;if(_=this._getValidationError(!0)){o.cancel=!0;var v=r.cells.getCellElement(i.row,i.col);return v&&(this._setCellError(v,_),o.stayInEditMode=!0),!1}}}e.value==this._edtValue&&e.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=o.cancel,this._removeListBox();var y=K(e,".wj-cell");return q(y,Z())&&r._setFocusNoScroll(y),!o.cancel&&o.refresh&&r._refreshOnEdit?r.refresh(!1):this._updateEditorCell(i.row,i.col,!1),s&&r.focus(),r.onCellEditEnded(o),!0},n.prototype._setCustomEditorValue=function(t){this._cstEdtValue={value:t}},n.prototype._setCellError=function(t,e){var r=this._g;e==""&&(e=null),te(t,"wj-state-invalid",e!=null);var i=r.errorTip,o=r.activeEditor;i?(i.setTooltip(t,e),o&&q(t,o)&&A(o,"title","")):A(t,"title",e),o&&t==r.activeCell&&!q(t,o)&&i&&i.setTooltip(o,e)},Object.defineProperty(n.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),n.prototype.getClipString=function(t,e,r,i){var o,s=this,l=this._g,a=l.selectionMode,u=[],c=(e&vn.CSV)!=0,h=c?`\r
`:`
`,d=c?",":"	",f=(e&vn.InvisibleRows)!=0,p=se,g=t!=null;if(!t&&a!=p.ListBox){for(var w=l.rows,m=0;m<w.length;m++)if(w[m].isSelected){a=p.ListBox;break}}if(!t)switch(l._selHdl._expandSelection(),t=l.selection,a){case p.Row:case p.RowRange:case p.ListBox:t.col=0,t.col2=l.columns.length-1;break;case p.MultiRange:var _=l.selectedRanges;if(_.length>1){var v=this._sameCols(_),y=this._sameRows(_);if(v||y){(_=_.slice()).sort(function(R,V){var X=R.topRow-V.topRow;return X||R.leftCol-V.leftCol});for(var b=0;b<_.length;b++)for(var x=_[b],C=b+1;C<_.length;C++)x.contains(_[C])&&(_.splice(C,1),C--);if(v){var S=[];return _.forEach(function(R){S.push(s.getClipString(R,e,r,i)),r=!1}),S.join(h)}if(y){var M;return _.forEach(function(R){var V=s.getClipString(R,e,r,i).split(h);M==null?(M=V,i=!1):V.forEach(function(X,tt){M[tt]+=d+X})}),M.join(h)}}}}var I=t.col>-1&&t.col2>-1;if(r&&I&&(o=l.columnHeaders).rows.forEach(function(R,V){if(f||R.isVisible){var X=s._getRowClipString(o,V,t,e,i);u.push(X)}}),t.row>-1&&t.row2>-1)if(o=l.cells,a!=p.ListBox||g){for(B(t.bottomRow<o.rows.length,"Row index must be less than the number of rows."),b=t.topRow;b<=t.bottomRow;b++)if(f||o.rows[b].isVisible){var N=this._getRowClipString(o,b,t,e,i);u.push(N)}}else o.rows.forEach(function(R,V){if(R.isSelected&&(f||R.isVisible)){var X=s._getRowClipString(o,V,t,e,i);u.push(X)}});return u.join(h)},n.prototype._getRowClipString=function(t,e,r,i,o){var s=[],l=t.rows[e],a=vn,u=(i&a.CSV)!=0,c=(i&a.InvisibleColumns)!=0,h=(i&a.Unformatted)==0,d=(i&a.SkipMerged)!=0;if(l.isVisible){if(o){for(var f=t.cellType==U.ColumnHeader?t.grid.topLeftCells:t.grid.rowHeaders,p=0;p<f.columns.length;p++)if(c||f.columns[p].isVisible){var g=f.getCellData(e,p,!0);d&&this._skipMergedCell(t,null,e,p)&&(g=""),s.push(this._getCellClipString(g,i))}}if(r.col>-1&&r.col2>-1)for(B(r.rightCol<t.columns.length,"Column index must be less than the number of columns."),p=r.leftCol;p<=r.rightCol;p++)(c||t.columns[p].isVisible)&&(!(g=t.getCellData(e,p,h))&&l instanceof Pe&&p==t.columns.firstVisibleIndex&&(g=Pn(l.getGroupHeader())),d&&this._skipMergedCell(t,null,e,p)&&(g=""),s.push(this._getCellClipString(g,i)))}return s.join(u?",":"	")},n.prototype._skipMergedCell=function(t,e,r,i){var o=t.grid.getMergedRange(t,r,i,!1);return!!(o&&(e&&(o.row=Math.max(e.topRow,o.row),o.col=Math.max(e.leftCol,o.col)),o.row!=r||o.col!=i))},n.prototype._getCellClipString=function(t,e){Q(t)||(t=Me(t)?t.toJSON():t!=null?t.toString():""),t=t.replace(/\t/g," ");var r=(e&vn.QuoteAll)!=0;return(r=r||/\n|^"|"$/.test(t))||!(e&vn.CSV)||(r=t.indexOf(",")>-1),r&&(t='"'+(t=t.replace(/"/g,'""'))+'"'),t},n.prototype._sameRows=function(t){for(var e=t[0],r=1;r<t.length;r++)if(t[r].topRow!=e.topRow||t[r].bottomRow!=e.bottomRow)return!1;return!0},n.prototype._sameCols=function(t){for(var e=t[0],r=1;r<t.length;r++)if(t[r].leftCol!=e.leftCol||t[r].rightCol!=e.rightCol)return!1;return!0},n.prototype.setClipString=function(t,e){var r=this,i=this._g,o=i.editableCollectionView,s=e==null,l=se;if(s)switch(i._selHdl._expandSelection(),e=i.selection,i.selectionMode){case l.Row:case l.RowRange:case l.ListBox:e.col=0,e.col2=i.columns.length-1;break;case l.MultiRange:var a=i.selectedRanges;if(a.length>1){o&&o.beginUpdate(),a.forEach(function(R){i.setClipString(t,R)}),o&&o.endUpdate(),i.selectedRanges=a;return}}e=Le(e,z);var u=this._parseClipString(L(t));!s&&u.length>e.rowSpan&&(u=u.slice(0,e.rowSpan)),this._expandClipRows(u,e);var c=0;if(u.length)for(var h=e.leftCol,d=i.columns.length,f=0;f<u[0].length;f++)for(var p=h+f+c;p<d&&!i.columns[p].visible;)c++,p++;var g=s?new z(e.topRow,e.leftCol,Math.min(e.topRow+u.length-1,i.rows.length-1),Math.min(e.leftCol+u[0].length-1+c,i.columns.length-1)):e,w=new de(i.cells,g,t);if(!i.onPasting(w))return!1;g=new z(e.topRow,e.leftCol);var m=new de(i.cells,new z(e.topRow,-1)),_=!1,v=0,y=e.topRow,b=i.rows,x=i.columns,C=i._getRowsPerItem(),S=u.length>C,M=this._deferPaste(e,u.length);if(B(C>=1,"Invalid RPI value = "+C),i.deferUpdate(function(){var R=-1;o&&M&&(R=o.currentPosition,o.beginUpdate());for(var V=0;V<u.length&&y<b.length;V++,y++){var X=b[y];if(X.isVisible){if(!S||!X.isReadOnly){var tt=X.dataItem,Fe=o?o.currentEditItem:null;if(Fe&&tt!=Fe&&(i.onRowEditEnding(m),i.onRowEditEnded(m)),X instanceof Ie&&o){if(M){if(X.dataItem=o.addNew(),m._rng.setRange(i.newRowAtTop?0:y,-1),!i.onRowEditStarting(m)){y--,o.cancelNew();continue}i.onRowEditStarted(m)}else if(C==1||(y+1)%C==1){if(m._rng.setRange(i.newRowAtTop?y%C:y,-1),!i.onRowEditStarting(m)){y--;continue}i.onRowEditStarted(m)}}else tt!=Fe&&(m._rng.setRange(y,-1),i.onRowEditStarting(m),i.onRowEditStarted(m));for(var Ye=u[V],D=e.leftCol,G=0;G<Ye.length&&D<x.length;G++,D++){var Y=x[D];if(Y.isVisible){if(!S||!Y.isReadOnly){var le=i.getMergedRange(i.cells,y,D,!1);if(!(le&&(le.leftCol!=D||le.topRow!=y))&&r._allowEdit(y,D)){var ae=Ye[G],nt=ae.length;nt>1&&ae[0]=='"'&&ae[nt-1]=='"'&&ae.indexOf(`
`)>-1&&(ae=ae.substr(1,nt-2));var Xe=Y.maxLength||X.maxLength;Xe&&(ae=ae.substr(0,Xe));var Pt=new de(i.cells,new z(y+v,D),ae);if(i.onPastingCell(Pt)){o&&(o.editItem(tt),r._edItem=o.currentEditItem);var at=i.getCellData(y,D,!1),ut=Pt.data,Rn=jo();if(Rn){var Ht=i._getBindingColumn(i.cells,y,i.columns[D]),cn=Ht.editor,hn=null,Pi=null;cn instanceof Rn.InputNumber?(hn=cn.clamp.bind(cn),Pi=ve.Number):(cn instanceof Rn.InputDate||cn instanceof Rn.InputTime)&&(hn=cn._clamp.bind(cn),Pi=ve.Date),hn&&(ut=Cl(ut,Pi,Ht.format,at),yi(ut)==Pi&&(ut=hn(ut)))}i.setCellData(y,D,ut)&&(Pt.data=at,i.onPastedCell(Pt),_=!0)}g.row2=Math.max(g.row2,y+v),g.col2=Math.max(g.col2,D)}}}else G--}if(r._edItem&&o instanceof on){var $i=new Zt(Oe.Change,r._edItem,y);o.onCollectionChanged($i)}X instanceof Ie&&o&&(M?(X.dataItem=null,_?(m._rng.setRange(i.newRowAtTop?0:y,-1),i.onRowEditEnding(m),i.onRowEditEnded(m),y--,v++,o.commitNew()):o.cancelNew()):S&&C>1&&(y+1)%C==0&&_&&(m._rng.setRange(i.newRowAtTop?y%C:y,-1),i.onRowEditEnding(m),i.onRowEditEnded(m),y-=C,v++))}}else V--}if(o)if(M)o.currentEditItem&&(o.commitEdit(),i.onRowEditEnding(m),i.onRowEditEnded(m)),o.moveCurrentToPosition(R),o.endUpdate(!0);else{var qe=o.currentAddItem;!qe&&e.row==0&&i.newRowAtTop&&b[0]instanceof Ie&&(qe=b[0].dataItem),qe&&(o.editItem(qe),r._edItem=qe)}g.rowSpan>1&&g.topRow==0&&b[0]instanceof Ie&&(g.row=g.row2=0),i.select(g)}),i.onPasted(w),_&&K(i.hostElement,"form")){var I=document.createEvent("HTMLEvents"),N=_e("<input>",i.hostElement);I.initEvent("change",!0,!1),N.dispatchEvent(I),De(N)}},n.prototype._deferPaste=function(t,e){var r=this._g.rows,i=r.length;return e>1&&(i>1&&r[0].dataItem!=r[1].dataItem||i==1&&r[0]instanceof Ie)},n.prototype._parseClipString=function(t){var e=[],r=(t=(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)).replace(/\n$/,"")).length,i=function(w){return w===`
`||w==="	"},o=0,s=0;for(o=0;o<r;o++){var l=!1,a=!1,u=!1;if(t[o]==='"'){for(var c=!1,h=!1,d=o+1;d<r;d++){var f=t[d];if(f==='"'){var p=d+1;p<r?i(t[p])&&(h=!0):h=!0}else!c&&i(f)&&(c=!0);if(h)break}h&&c&&(l=!0)}for(s=o;s<r&&!u;s++){var g=t[s];g==='"'?l&&(a=!a):i(g)&&!a&&(this._parseClipCell(e,t,o,s,g==`
`),o=s,s==r-1&&(o=s+1),u=!0)}if(s==r){this._parseClipCell(e,t,o,s,!1);break}}return e.length==0&&e.push([""]),e},n.prototype._parseClipCell=function(t,e,r,i,o){t.length||t.push([]);var s=e.substr(r,i-r),l=s.length;if(l>2&&s[0]=='"'&&s[l-1]=='"'){var a=s.substr(1,l-2),u=function(c){return a.indexOf(c)>-1};(u('""')||u("	")||u(`
`))&&(s=a.replace(/""/g,'"'))}else s=="	"&&(s="");t[t.length-1].push(s),o&&t.push([])},n.prototype._expandClipRows=function(t,e){for(var r=t.length,i=0,o=0;o<r;o++)i=Math.max(i,t[o].length);for(var s=this._g,l=0,a=0,u=e.topRow;u<=e.bottomRow;u++)s.rows[u].isVisible&&l++;for(var c=e.leftCol;c<=e.rightCol;c++)s.columns[c].isVisible&&a++;if((l>1||a>1)&&(l==1&&(l=r),a==1&&(a=i),a%i==0&&l%r==0)){for(c=i;c<a;c++)for(u=0;u<r;u++)t[u].push(t[u%r][c%i]);for(u=r;u<l;u++)t.push(t[u%r])}},n.prototype._updateEditorCell=function(t,e,r){var i=this._g,o=i.cells.getCellElement(t,e),s=i._useFrozenDiv()&&(t<i.frozenRows||e<i.frozenColumns);!o||s||i._hasPendingUpdates()?i.refresh(!1):i.onUpdatingView(new we)&&(this._updateCell(o),(r||i._getHasValidation())&&this._updateRowHeaderCell(t),i.onUpdatedView())},n.prototype._updateRowHeaderCell=function(t){var e=this._g;if(e.headersVisibility&ze.Row){var r=e.rowHeaders,i=e._getEditColumnIndex(),o=r.getCellElement(t,i);o&&this._updateCell(o)}},n.prototype._updateCell=function(t){var e=new Oo(t,null),r=un._WJS_UPDATING;e.panel&&(ie(t,r),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),Rt(t,r))},n.prototype._getValidationError=function(t){var e=this,r=this._g,i="";if(r&&this._rng&&!this._validating){var o=this._rng.row,s=this._rng.col,l=r.activeEditor,a=r.cellFactory.getEditorValue(r),u=r.getCellData(o,s,!1);if(t&&(i=r._getError(r.cells,o,s,!0)),!i&&r._getHasValidation()){if(l&&(i=l.validationMessage),!i){var c=r.columns[s],h=r.rows[o];!r._getBindingColumn(r.cells,o,c).getIsRequired(h)||a!=null&&a!==""||(i=this._getRequiredMsg())}!i&&r.setCellData(o,s,a,!0,!1)&&(i=r._getError(r.cells,o,s,!1),r.setCellData(o,s,u,!1,!1))}if(!i){var d=O.getControl(K(l,".wj-control"));if(d&&d!=r&&d.invalidInput.hasHandlers){var f=function(w,m){m.cancel&&(i=r._getError(r.cells,o,s,!0)||e._getBadInputMsg(),m.cancel=!1)};this._validating=!0;var p=l.value;if(d.invalidInput.addHandler(f),d._containsFocus()){var g=K(d.hostElement,".wj-cell");g&&g.focus()}d.onLostFocus(),d.invalidInput.removeHandler(f),l.value=p,i&&l.select(),this._validating=!1}}}return i},n.prototype._getRequiredMsg=function(){if(!n._msgRequired){var t=document.createElement("input");t.required=!0,n._msgRequired=t.validationMessage}return n._msgRequired},n.prototype._getBadInputMsg=function(){if(!n._msgBadInput){var t=document.createElement("input");t.pattern="x",t.value="a",n._msgBadInput=t.validationMessage||"Bad Input"}return n._msgBadInput},n.prototype._allowEdit=function(t,e){var r=this._g;if(r.isReadOnly||r.selectionMode==se.None||r.collectionView&&!r.editableCollectionView)return!1;if(t!=null){if(t<0||t>=r.rows.length)return!1;var i=r.rows[t];if(!i||i.isReadOnly||!i.isVisible)return!1}if(e!=null){if(e<0||e>=r.columns.length)return!1;var o=r._getBindingColumn(r.cells,t,r.columns[e]);if(!o||o.isReadOnly||!o.isVisible)return!1}return!0},n.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var r=new de(t.cells,t.selection);t.onRowEditEnding(r),e.commitEdit(),t.onRowEditEnded(r)}this._edItem=null}},n.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case E.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case E.F4:return this._toggleListBox(t),t.preventDefault(),!0;case E.Space:return e&&e.type=="checkbox"&&!e.disabled&&!e.readOnly&&(Mr(e,e.indeterminate||!e.checked),this.finishEditing(),t.preventDefault()),!0;case E.Enter:if(t.preventDefault(),e&&t.altKey){var r=t.target;if(r instanceof HTMLTextAreaElement&&r.wrap=="soft"){this._composing&&(r.blur(),r.focus()),r.style.setProperty("ime-mode","auto","important");var i=r.value,o=r.selectionStart,s=r.selectionEnd;r.value=i.substr(0,o)+`
`+i.substr(s),J(r,o+1),r.style.imeMode=""}return!0}return e&&this._lbx?(this._toggleListBox(t),this.finishEditing(),!0):!this.finishEditing();case E.Tab:return t.preventDefault(),!this.finishEditing();case E.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case E.Up:case E.Down:case E.Left:case E.Right:case E.PageUp:case E.PageDown:case E.Home:case E.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case E.Up:case E.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(this._fullEdit)switch(t.keyCode){case E.PageUp:case E.PageDown:t.preventDefault()}else if(this.finishEditing())return!1}return!0},n.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case E.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case E.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case E.Home:case E.PageUp:this._lbx.selectedIndex=0;break;case E.End:case E.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return e?(t.preventDefault(),!0):!1},n.prototype._keypress=function(t){if(t.code!="AltLeft"&&t.code!="AltRight"){var e=this._edt,r=t.charCode||32,i=this._list;if(e&&e.type!="checkbox"&&Z()==e&&i&&i.length>0&&r>=32){var o=e.selectionStart,s=e.value.substr(0,o);t.target==e&&t.charCode&&(s+=String.fromCharCode(t.charCode),o++);var l=this._mapSearch,a=-1;if(l)for(var u=0;u<i.length;u++){var c=i[u];if(l(c==null?c:c.toString(),s)){a=u;break}}else(a=this._findString(i,s,!0))<0&&!this._g.caseSensitiveSearch&&(a=this._findString(i,s,!1));if(a>-1){var h=this._lbx;h&&(h.selectedIndex=a),e.value=i[a],J(e,o,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault&&t.preventDefault()}}}else t.preventDefault()},n.prototype._findString=function(t,e,r){r||(e=e.toLowerCase());for(var i=0;i<t.length;i++){var o=t[i];if(o!=null&&(o=o.toString(),r||(o=o.toLowerCase()),o.indexOf(e)==0))return i}return-1},n.prototype._toggleListBox=function(t,e){var r=this._g,i=r._selHdl.selection,o=r.isTouching;if(e||(e=i),this._lbx&&(this._removeListBox(),i.intersects(e)))return r.activeEditor?r.activeEditor.focus():r.containsFocus()||r.focus(),!0;if(!e.isValid)return!1;var s=r.rows[e.row],l=r._getBindingColumn(r.cells,e.row,r.columns[e.col]),a=s.dataMap||l.dataMap,u=r._getMapEditor(s,l);if(!a||u!=Bt.DropDownList||!jo()||l.editor!=null||!e.intersects(r.editRange)&&!this.startEditing(!0,e.row,e.col,!o,t))return!1;var c=this._lbx=this._createListBox();return requestAnimationFrame(function(){return c.showSelection()}),o&&c.focus(),!0},n.prototype._createListBox=function(){var t=this,e=this._g,r=e.activeEditor,i=this._rng,o=e.rows[i.row],s=e._getBindingColumn(e.cells,i.row,e.columns[i.col]),l=s.isContentHtml||o.isContentHtml,a=s.dataMap||o.dataMap,u=s.dropDownCssClass||o.dropDownCssClass,c=document.createElement("div");this._removeListBox(),ie(c,"wj-dropdown-panel wj-grid-listbox"),ie(c,u);var h=r?r.value:e.getCellData(i.row,i.col,!0),d=new Vr(c,{maxHeight:o.renderHeight*hy,isContentHtml:l,itemsSource:a.getDisplayValues(o.dataItem),selectedValue:h});d.addEventListener(c,"keydown",function(g){switch(g.keyCode){case E.Enter:case E.Escape:t._removeListBox(),e.focus()}}),d.addEventListener(c,"click",function(){t._removeListBox(),e.focus(),t.finishEditing()}),d.gotFocus.addHandler(function(){d.containsFocus()&&r&&r.focus()}),d.selectedIndexChanged.addHandler(function(){var g=e.activeEditor;g&&(g.value=t._list[d.selectedIndex],g.dispatchEvent(t._evtInput),J(g,0,g.value.length))});var f=e.cells.getCellElement(i.row,i.col);if(f){kn(c,f,!1,!1,!1);var p=f.querySelector("."+Se._WJC_DROPDOWN);A(p,"aria-expanded",!0)}else kn(c,e.getCellBoundingRect(i.row,i.col)),c[O._OWNR_KEY]=e.hostElement;return d},n.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,en(t.hostElement,function(){t.dispose()}))},n._msgRequired="",n._msgBadInput="",n}(),ag=function(){function n(t,e){this._col=Le(t,et),this._ctl=e,this._tbx=e.hostElement.querySelector("input"),B(this._col instanceof et,"Invalid Column"),B(this._ctl instanceof O,"Invalid edit control"),B(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var r=this._ctl;this._prop=Un(r.value)?Un(r.checkedItems)?Un(r.text)?null:"text":"checkedItems":"value",B(this._prop!=null,"value, text properties not found in editor");var i=jo();i&&(this._isDropDown=r instanceof i.DropDown,this._isComboBox=r instanceof i.ComboBox,this._isAutoComplete=r instanceof i.AutoComplete,this._isInputDateTime=r instanceof i.InputDateTime,this._isInputMask=r instanceof i.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},n.prototype._connect=function(){var t=this._col?this._col.grid:null;if(t!=this._g&&(this._disconnect(),t)){var e=t.hostElement,r=t.addEventListener.bind(t),i=this._updateFocusBnd;this._g=t,this._hideEditor(),this._updateFocus(),r(e,"keydown",this._keydownBnd,!0),r(e,"mousedown",this._mousedownBnd,!0),r(e,"mouseup",i,!0),r(e,"blur",i,!0),r(e,"focus",i),r(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.addHandler(i,this),t.selectionChanged.addHandler(i,this),t.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}},n.prototype._disconnect=function(){var t=this._g;if(t){var e=t.hostElement,r=t.removeEventListener.bind(t),i=this._updateFocusBnd;r(e,"keydown",this._keydownBnd),r(e,"mousedown",this._mousedownBnd),r(e,"mouseup",i),r(e,"blur",i),r(e,"focus",i),r(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.removeHandler(i,this),t.selectionChanged.removeHandler(i,this),t.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),t.cellEditEnding.removeHandler(this._cellEditEnding,this),t.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},n.prototype._prepareCellForEdit=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var r=this.grid,i=this._ctl,o=this._tbx,s=this._prop,l=e.range,a=e.data,u=a?a.type:"",c=r.getCellData(l.row,l.col,s=="text"||this._isInputMask),h=!1;if(this._isComboBox&&(this._isAutoComplete&&(i._oldText=""),i.isRequired||(i.selectedIndex=-1,o.value=""),this._isInputDateTime&&i._setDropdown(i._ddDate)),s=="checkedItems"&&(i.showFilterInput&&(i.showFilterInput=!1,i.showFilterInput=!0),(c==null||c.length==0)&&(i[s]=[],i.selectedIndex=0)),(c!=null||!i.isRequired)&&(i[s]=c,this._isAutoComplete&&(clearTimeout(i._toSearch),(f=i.collectionView)&&(f.filter||i._rxHighlight)&&(i._rxHighlight=null,f.filter=null),c))){var d=i._findNext(c,1,-1);i.selectedIndex!=d&&(i.selectedIndex=d)}switch(u){case"keydown":case"mousedown":if((Un(a.keyCode)||a.keyCode==E.F4||a.altKey)&&(h=this._isDropDown,this._isAutoComplete&&(c==null||Q(c)))){var f;(f=i.collectionView)&&((f.filter||i._rxHighlight)&&(i._rxHighlight=null,f.filter=null),d=c?i._findNext(c,1,-1):-1,i.selectedIndex!=d&&(i.selectedIndex=d))}}if(r.showPlaceholders&&!i.placeholder&&(o.placeholder=this._col.header),this._showEditor(),r._edtHdl._fullEdit=!0,u.indexOf("key")==0&&a.keyCode==32&&(J(o,o.value.length),a.preventDefault()),ge()&&!r.imeEnabled){if(u=="keypress"&&a.key)setTimeout(function(){o.value=a.key,J(o,1);var g=document.createEvent("HTMLEvents");g.initEvent("input",!0,!1),o.dispatchEvent(g)}),a.preventDefault();else if(u=="compositionstart"){var p=o.value.length;J(o,p)}}this._isDropDown&&(i.isDroppedDown=h)}},n.prototype._cellEditEnding=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var r=this.grid,i=this._ctl,o=this._prop;if(this._isAutoComplete){var s=i.selectedIndex;if(ue(s)&&s<0){var l=i.collectionView;l&&l.items.length==1?i.selectedIndex=0:this._col.isRequired&&(e.cancel=!0)}}!e.cancel&&o&&r._edtHdl._setCustomEditorValue(i[o])}},n.prototype._cellEditEnded=function(t,e){this._hideEditor(),this._updateFocus()},n.prototype._cmpstart=function(t){var e=this;ge()?setTimeout(function(){e._activateEditor(t)}):this._activateEditor(t)},n.prototype._keydown=function(t){if(!t.defaultPrevented&&this._checkColumn(t.target)){if(this.grid.activeEditor){if(t.keyCode==E.Enter&&this._isDropDown){var e=this._ctl;e.isDroppedDown&&(e.isDroppedDown=!1,t.preventDefault(),t.stopImmediatePropagation())}}else if(this._isDropDown){var r=t.keyCode;switch(r){case E.F4:case E.Up:case E.Down:(r==E.F4||t.altKey)&&(this._activateEditor(t),t.preventDefault())}}}},n.prototype._checkColumn=function(t){var e=this._g;if(q(t,this._tbx)||t!=null&&this._imeEditor()===t){var r=e._selHdl.selection;return e._getBindingColumn(e.cells,r.row,e.columns[r.col])==this._col}return!1},n.prototype._mousedown=function(t){if(!t.defaultPrevented&&t.button==0&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this._isDropDown&&Ft(t.target,Se._WJC_DROPDOWN)){var e=this.grid,r=e.hitTest(t);r.getColumn(!0)==this._col&&(e.select(r.range),e.refresh(),this._activateEditor(t),t.preventDefault())}},n.prototype._activateEditor=function(t){var e=this.grid;if(!e.activeEditor){var r=e._selHdl.selection;if(r.isValid)return e.startEditing(!0,r.row,r.col,!0,t)}return!1},n.prototype._showEditor=function(){var t=this.grid,e=t.activeEditor,r=K(e,".wj-cell");if(r){var i=this._tbx,o=this._ctl.hostElement;H(o,n._cssVisible),te(i,"wj-grid-ime",!1),r.innerHTML="",r.appendChild(o),t._edtHdl._edt=i,this._imeEditor()?this._initImeEditInput():(i.select(),i.focus(),e.value="")}},n.prototype._hideEditor=function(){var t=this.grid,e=this._ctl.hostElement,r=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),r.setCustomValidity("");var i=r.value;r.value=i+" ",r.value=i,H(e,n._cssHidden),te(r,"wj-grid-ime",!0),t&&e.parentElement!=t._root&&t._root.appendChild(e)},n.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},n.prototype._updateFocus=function(){var t=this.grid;if(t&&!t.activeEditor){var e=t.hostElement,r=".wj-flexgrid",i=this._tbx,o=Z(),s=t._getTabIndex();if(K(o,r)==e)if(K(i,r)!=e)this._hideEditor();else if(t.imeEnabled)i.tabIndex>-1&&(i.tabIndex=-1);else{var l=t._selHdl.selection,a=t._getBindingColumn(t.cells,l.row,t.columns[l.col]);a&&a==this._col&&t.canEditCell(l.row,l.col)?o!==i&&(t.activeCell&&(t.activeCell.tabIndex=-1),i.tabIndex=s,t.isTouching||(i.select(),i.focus())):i.tabIndex>-1&&(i.tabIndex=-1,o==i&&t.focus(!0))}}},n.prototype._initImeEditInput=function(){var t=this,e=this._imeEditor();if(e){var r=this._tbx,i=r&&r.style.color,o=this._ctl,s=function(){if(e.removeEventListener("compositionend",s),H(e,Rl._cssHidden),r){r.style.color=i;var l=function(){o.gotFocus.removeHandler(l),t._g._edtHdl._edt=r;var a=e.value;if(a){r.value=a,n._setSelectionRange(r,a.length,a.length);var u=document.createEvent("HTMLEvents");u.initEvent("input",!0,!1),r.dispatchEvent(u)}};o.gotFocus.addHandler(l),r.focus()}};e.addEventListener("compositionend",s),r&&(r.style.color="transparent")}},n._setSelectionRange=function(t,e,r){if(r===void 0&&(r=e),q(document.body,t)&&!t.disabled&&t.style.display!="none")try{t.setSelectionRange(j(e),j(r),ge()?null:"backward"),t.focus()}catch{}},n.prototype._imeEditor=function(){var t=this.grid;if(t&&t.imeEnabled){var e=Z();if(e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&fe(e,"wj-grid-ime"))return e}return null},n._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},n._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},n}(),_i;(function(n){n[n.None=0]="None",n[n.MoveDown=1]="MoveDown",n[n.MoveAcross=2]="MoveAcross",n[n.Cycle=3]="Cycle",n[n.CycleOut=4]="CycleOut",n[n.CycleEditable=5]="CycleEditable"})(_i||(_i={}));var ug=function(){function n(t){this._kaTab=_i.None,this._kaEnter=_i.MoveDown,this._g=t;var e=t.hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return n.prototype._keydown=function(t){var e=this._g,r=e._edtHdl,i=e.selection,o=t.ctrlKey||t.metaKey,s=t.shiftKey,l=t.altKey,a=t.target,u=t.char||t.key,c=!0;if(!o&&!l&&u&&u.length==1&&K(a,".wj-cell")&&a.firstElementChild&&(u!=" "||!s)){var h=a.querySelectorAll("."+Se._WJC_RADIOMAP+" label input");if(h&&h.length){for(var d=-1,f=0;f<h.length;f++)if(h[f].checked){d=f;break}for(u=u.toLowerCase(),f=0;f<h.length;f++){var p=h[(d+f+1)%h.length];if(u==" "||p.value.toLowerCase()[0]==u){p.click();break}}t.preventDefault();return}}if(!e._wantsInput(a)){var g=Wt(e.rows[i.row],Pe),w=e.editableCollectionView,m=e._getKeyCode(t),_=Hn,v=se,y=t.defaultPrevented&&!(a instanceof HTMLInputElement);if((e.isRangeValid(i)&&!y||o&&m==65)&&(!e.activeEditor||!r._keydown(t)||e._isNativeCheckbox(e.activeEditor))){if(e.autoClipboard){if(o&&(m==67||m==45)){var b=new de(e.cells,i);if(e.onCopying(b)){var x=ze,C=(e.copyHeaders&x.Column)!=0,S=(e.copyHeaders&x.Row)!=0,M=e.getClipString(null,!1,C,S)+`\r
`;e._eFocus.focus(),cu.copy(M),e.onCopied(b)}t.stopPropagation();return}if(o&&m==86||s&&m==45){e.isReadOnly||cu.paste(function(X){e.setClipString(X)}),t.stopPropagation();return}}switch((s||o)&&t.code=="Space"&&(m=E.Space),m){case E.Space:if(s&&i.isValid)switch(e.selectionMode){case v.CellRange:case v.MultiRange:case v.Row:case v.RowRange:case v.ListBox:e.select(new z(i.row,0,i.row,e.columns.length-1),!1)}else if(o&&i.isValid)switch(e.selectionMode){case v.CellRange:case v.MultiRange:e.select(new z(0,i.col,e.rows.length-1,i.col),!1)}else(c=this._startEditing(!0,t))&&setTimeout(function(){var X=e.activeEditor;X&&(X.disabled||X.readOnly&&!K(X,".wj-control")?e.finishEditing():X.type=="checkbox"&&(Mr(X,X.indeterminate||!X.checked),e.finishEditing()))}),c=!0;break;case 65:if(o)switch(e.selectionMode){case v.None:case v.Cell:break;default:e.selectAll()}else c=!1;break;case E.Left:if(o||l)c=!1;else if(i.isValid&&i.leftCol==0&&g&&!g.isCollapsed&&g.hasChildren)g.isCollapsed=!0;else{if(e.selectionMode==v.None)return;this._moveSel(_.None,o?_.Home:_.Prev,s)}break;case E.Right:if(o||t.altKey)c=!1;else if(i.isValid&&i.leftCol==0&&g&&g.isCollapsed)g.isCollapsed=!1;else{if(e.selectionMode==v.None)return;this._moveSel(_.None,o?_.End:_.Next,s)}break;case E.Up:if(o)c=!1;else if(t.altKey&&r._toggleListBox(t))c=!0;else{if(e.selectionMode==v.None)return;this._moveSel(_.Prev,_.None,s)}break;case E.Down:if(o)c=!1;else if(t.altKey&&r._toggleListBox(t))c=!0;else{if(e.selectionMode==v.None)return;this._moveSel(_.Next,_.None,s)}break;case E.PageUp:if(this._moveSel(t.altKey?_.Home:_.PrevPage,_.None,s),e.rows.frozen&&e.selection.row<e.rows.frozen){var I=e.scrollPosition;I.y&&(e.scrollPosition=new xt(I.x,0))}break;case E.PageDown:this._moveSel(t.altKey?_.End:_.NextPage,_.None,s);break;case E.Home:this._moveSel(o?_.Home:_.None,_.Home,s);break;case E.End:this._moveSel(o?_.End:_.None,_.End,s);break;case E.Tab:if(!(c=this._performKeyAction(e.keyActionTab,s))&&!e.activeCell)if(e.focus(!0),e.imeEnabled){var N=e._imeHdl;N&&N._resetTabIndex()}else{var R=this._getCustomEditor(e,i.row,i.col);R&&R._resetTabIndex()}break;case E.Enter:c=this._performKeyAction(e.keyActionEnter,s),this._getCustomEditor(e,i.row,i.col)||e.focus(!0),!s&&w&&w.currentEditItem!=null&&r._commitRowEdits();break;case E.Escape:if(c=!1,w&&(w.currentAddItem||w.currentEditItem)){var V=new de(e.cells,e.selection);V.cancel=!0,e.onRowEditEnding(V),w.currentAddItem&&w.cancelNew(),w.currentEditItem&&w.cancelEdit(),e.onRowEditEnded(V),c=!0}e._mouseHdl.resetMouseState();break;case E.Delete:case E.Back:c=this._deleteSel(t);break;case E.F2:c=this._startEditing(!0,t);break;case E.F4:c=r._toggleListBox(t);break;default:c=!1}c&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}},n.prototype._performKeyAction=function(t,e){var r=_i,i=Hn;switch(t){case r.MoveDown:return this._moveSel(e?i.Prev:i.Next,i.None,!1),!0;case r.MoveAcross:return this._moveSel(i.None,e?i.Prev:i.Next,!1),!0;case r.Cycle:return this._moveSel(i.None,e?i.PrevCell:i.NextCell,!1),!0;case r.CycleEditable:return this._moveSel(i.None,e?i.PrevEditableCell:i.NextEditableCell,!1),!0;case r.CycleOut:var o=this._g.selection;return this._moveSel(i.None,e?i.PrevCell:i.NextCell,!1),!o.equals(this._g.selection)}return!1},n.prototype._keypress=function(t){var e=this,r=this._g;if(!r._wantsInput(t.target)&&!t.defaultPrevented){var i=r._edtHdl;if(r.activeEditor)i._keypress(t);else if(t.charCode>E.Space&&t.code!="AltLeft"&&t.code!="AltRight"){if(this._startEditing(!1,t)&&r.activeEditor){var o=Z();if(o instanceof HTMLInputElement&&o.type!="checkbox"||o instanceof HTMLTextAreaElement){var s=r._selHdl.selection,l=r.getCellData(s.row,s.col,!0),a=r.getCellData(s.row,s.col,!1),u=oe.Globalize.numberFormat["%"]||"%",c=String.fromCharCode(t.charCode),h=ue(a)&&l.indexOf(u)>-1||l==""&&o.value==u,d=!0,f=function(){o.value=h?c+u:c,J(o,1),o.dispatchEvent(i._evtInput),i._keypress(t),i._edtValue=o.value!=l?o.value:null};if(r.imeEnabled){var p=this._getCustomEditor(r,s.row,s.col),g=p&&p.control;if(g&&!g._focus){var w=function(){g.gotFocus.removeHandler(w),d=!1,f()};g.gotFocus.addHandler(w)}}d&&f(),t.preventDefault()}}else if(r.autoSearch){var m=!1;if(s=r._selHdl.selection,t.charCode>32||t.charCode==32&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},O._SEARCH_DELAY);var _=this._findNext(s.row,s.col);_<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],_=this._findNext(s.row,s.col)),_>-1&&(m=!0,r.select(_,s.col))}m||(this._search="")}}}},n.prototype._getCustomEditor=function(t,e,r){var i=t._getBindingColumn(t.cells,e,t.columns[r]);return i&&i._edt},n.prototype._findNext=function(t,e){var r=this._g,i=r.rows.length;(t<0||this._search.length==1)&&t++;var o=this._search,s=r.caseSensitiveSearch;s||(o=o.toLowerCase());for(var l=r.columns[e].isContentHtml,a=0;a<i;a++){var u=(t+a)%i,c=r.getCellData(u,e,!0).trim();if(l&&(c=Pn(c)),s||(c=c.toLowerCase()),c.indexOf(o)==0)return u}return-1},n.prototype._moveSel=function(t,e,r){var i=this._g,o=i.selectionMode,s=i._selHdl;o!=se.None&&(o==se.MultiRange&&s.extendedSelection.clear(),s.moveSelection(t,e,r))},n.prototype._deleteSel=function(t){var e=this,r=this._g,i=r.rows,o=r.editableCollectionView,s=r.selection,l=[],a=new z,u=new rl(r.cells,a,t),c=se;if(!r._edtHdl._allowEdit())return!1;if(r.allowDelete&&(o==null||o.canRemove&&!o.isAddingNew&&!o.isEditingItem)&&(l=i.filter(function(g){return g.isSelected})).length==0)switch(r.selectionMode){case c.CellRange:case c.MultiRange:var h=r._getDeleteColumnIndex();r.selectedRanges.forEach(function(g){if(g.leftCol==h&&g.rightCol==r.columns.length-1)for(var w=g.topRow;w>-1&&w<=g.bottomRow;w++){var m=i[w];l.indexOf(m)<0&&l.push(m)}});break;case c.Row:s.topRow>-1&&l.push(i[s.topRow]);break;case c.RowRange:for(var d=s.topRow;d>-1&&d<=s.bottomRow;d++)l.push(i[d])}if(l.length>0){var f=0;if(r.deferUpdate(function(){o&&o.beginUpdate();for(var g=l.length-1;g>=0;g--){var w=l[g];w instanceof Ie||(a.setRange(w.index,-1),r.onDeletingRow(u)&&(o&&w.dataItem?o.remove(w.dataItem):r.rows.removeAt(w.index),f++,r.onDeletedRow(u)))}o&&o.endUpdate(!1)}),f>0){var p=s.topRow;for(p=Math.min(p,r.rows.length-1);p>0&&r.rows[p]instanceof Ie;)p--;s.row=s.row2=p,r.select(s,!1),r.childItemsPath&&o&&o.refresh()}return!0}return l.length==0?(r.deferUpdate(function(){var g=r.scrollPosition,w=-1;l=i.filter(function(y){return y.isSelected});var m=r.selectedRanges.length>1||l.length>1||s.isValid&&i[s.row].dataItem!=i[s.row2].dataItem;if(o&&o.beginUpdate(),l.length){var _=new z(0,0,0,r.columns.length-1);l.forEach(function(y){_.row=_.row2=y.index,e._deleteRange(t,_),w=_.bottomRow})}else e._deleteRange(t,s),w=s.bottomRow,r.selectionMode==c.MultiRange&&r._selHdl.extendedSelection.forEach(function(y){e._deleteRange(t,y),w=y.bottomRow});if(r.select(s,!1),r.scrollPosition=g,o){if(m&&o.currentEditItem){o.commitEdit();var v=new de(r.cells,new z(w,-1));r.onRowEditEnding(v),r.onRowEditEnded(v)}o.endUpdate(!1)}}),!0):!1},n.prototype._deleteRange=function(t,e){for(var r=this._g,i=r.editableCollectionView,o=new z,s=new rl(r.cells,o,t),l=new de(r.cells,new z(e.topRow,-1)),a=e.topRow;a<=e.bottomRow;a++){var u=r.rows[a];if(!u.isReadOnly)for(var c=e.leftCol;c<=e.rightCol;c++){var h=r._getBindingColumn(r.cells,a,r.columns[c]);if(!h.getIsRequired(u)&&!h.isReadOnly&&r.getCellData(a,c,!0)&&(o.setRange(a,c),s.cancel=!1,r.onBeginningEdit(s))){var d=u.dataItem,f=i?i.currentEditItem:null;f&&d!=f&&(r.onRowEditEnding(l),r.onRowEditEnded(l)),d!=f&&(l._rng.setRange(a,-1),r.onRowEditStarting(l),r.onRowEditStarted(l)),i&&(i.editItem(d),r._edtHdl._edItem=d),r.setCellData(a,c,"",!0,!1),r.onCellEditEnding(s),r.onCellEditEnded(s)}}}},n.prototype._startEditing=function(t,e,r,i){return this._g._edtHdl.startEditing(t,r,i,!0,e)},n}(),Li=4,ld="wj-state-dragsrc",ha="wj-flexgrid",wn;(function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both",n[n.ColumnsAllCells=n.Columns|Li]="ColumnsAllCells",n[n.RowsAllCells=n.Rows|Li]="RowsAllCells",n[n.BothAllCells=n.Both|Li]="BothAllCells"})(wn||(wn={}));var Nn;(function(n){n[n.None=0]="None",n[n.Headers=1]="Headers",n[n.Cells=2]="Cells",n[n.Both=3]="Both"})(Nn||(Nn={}));var An;(function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both"})(An||(An={}));var cg=function(){function n(t){var e=this,r=t.hostElement,i=t.addEventListener.bind(t),o=t.removeEventListener.bind(t);this._g=t,this._dvMarker=_e('<div class="wj-marker">&nbsp;</div>'),i(r,"mousedown",function(a){if(t._rcBounds=null,!a.defaultPrevented&&a.button==0){var u=a.target;if(!t.containsFocus()){var c=u instanceof HTMLElement&&u.tabIndex>-1?u:t._eFocus;t._setFocusNoScroll(c)}setTimeout(function(){a.defaultPrevented||t.focus()});var h=Ft(u,ha);if(h&&h!=t.hostElement||!t.activeEditor&&t._isInputElement(u)&&!e._hasRadioMap(a)&&!t._isNativeCheckbox(u)){var d=t.hitTest(a),f=U;switch(d.cellType){case f.Cell:t.select(d.range,!1),u instanceof HTMLElement&&u.getAttribute("wj-part")!="root"&&u.focus();break;case f.ColumnHeader:case f.ColumnFooter:t.scrollIntoView(-1,d.col);break;case f.RowHeader:t.scrollIntoView(d.row,-1)}ge()&&d.cellType!=f.Cell&&t._isInputElement(u)&&u.focus();return}var p=document;o(p,"mousemove"),o(p,"mouseup"),i(p,"mousemove",s),i(p,"mouseup",l),e._isDown=!0,e._mousedown(a)}});var s=function(a){e._mousemove(a)},l=function(a){e._isDown=!1,o(document,"mousemove"),o(document,"mouseup"),e._mouseup(a)};i(r,"mouseenter",function(a){t._rcBounds=null}),i(r,"mousemove",this._hover.bind(this)),i(r,"dblclick",this._dblclick.bind(this)),i(r,"click",this._click.bind(this)),i(r,"selectstart",function(a){t._isInputElement(a.target)||a.preventDefault()}),i(r,"wheel",function(a){if(!a.defaultPrevented&&a.deltaY&&!a.ctrlKey&&!a.metaKey){var u=t._root,c=a.deltaY;if((a.shiftKey?u.scrollWidth>u.clientWidth:u.scrollHeight>u.clientHeight)&&Ft(a.target,ha)==t.hostElement){switch(a.deltaMode){case 1:c=t.rows.defaultSize*(c<0?-1:1);break;case 2:c=(a.shiftKey?u.clientWidth:u.clientHeight)*(c<0?-1:1);break;case 0:default:wr()&&(c=ce(c,-150,150))}t._isScrollingByWheel=!0;var h=t.finishEditing(!1);t._isScrollingByWheel=!1,h&&(a.shiftKey?u.scrollLeft+=c:u.scrollTop+=c),a.preventDefault(),a.stopImmediatePropagation()}}}),i(r,"dragstart",this._dragstart.bind(this)),i(r,"dragover",this._dragover.bind(this)),i(r,"dragleave",this._dragleave.bind(this)),i(r,"drop",this._drop.bind(this)),i(r,"dragend",this._dragend.bind(this))}return n.prototype.resetMouseState=function(){var t=this._g,e=t.hostElement;this._updating&&(this._updating=!1,t.endUpdate()),this._dragSrc&&Rt(this._dragSrc,ld),this._showDragMarker(null),e&&(e.style.cursor=""),wr()&&this._szRowCol&&t.invalidate(),t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._lbSelStateRows={},this._lbSel=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null},n.prototype._mousedown=function(t){var e=this._g,r=t.target,i=e.hitTest(t),o=i.cellType,s=U,l=t.ctrlKey||t.metaKey;if(this._selDown=e.selection,this._ignoreClick=!1,i.panel==e.cells){if(Ft(r,Se._WJC_DROPDOWN)){var a=e.hitTest(r);e._edtHdl._toggleListBox(t,a.range),t.preventDefault(),this._ignoreClick=!0;return}var u=e.editRange;if(u&&u.contains(i.range))return}var c=Z();if(r!=c||!e._isInputElement(r))if(o!=s.None)if(this._htDown=i,this._eMouse=t,this._szRowCol==null){var h=e.allowResizing,d=wn;if((o==s.RowHeader||o==s.TopLeft)&&i.edgeBottom&&h&d.Rows&&this._getResizeRowHt(i))this._ignoreClick=!0;else if((o==s.ColumnHeader||o==s.TopLeft)&&i.edgeRight&&h&d.Columns&&this._getResizeColHt(i))this._ignoreClick=!0;else{var f=e.allowDragging,p=An;switch(o){case s.Cell:case s.RowHeader:l&&e.selectionMode==se.ListBox&&(this._lbSelState=e.rows[i.row].isSelected,K(r,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(t,t.shiftKey),o==s.RowHeader&&!(f&p.Rows)&&(t.preventDefault(),e.focus());break;case s.ColumnHeader:e.allowSorting||f&p.Columns||K(r,"button")||this._mouseSelect(t,t.shiftKey)}}}else{var g=e._eFocus;c!=g&&(g.tabIndex=0,g.focus()),this._ignoreClick=!0,this._handleResizing(t)}else e.finishEditing(),r!=e._root&&r!=e._fCt&&e._edtHdl._commitRowEdits()},n.prototype._mousemove=function(t){if(this._htDown&&!t.defaultPrevented){if(t.buttons==0&&this._eMouse&&t.timeStamp-this._eMouse.timeStamp>600){this.resetMouseState();return}if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else{var e=this._g,r=e.allowDragging,i=An,o=U;switch(this._htDown.cellType){case o.Cell:this._mouseSelect(t,!0);break;case o.RowHeader:r&i.Rows||this._mouseSelect(t,!0);break;case o.ColumnHeader:r&i.Columns||e.allowSorting||this._mouseSelect(t,!0)}}}},n.prototype._mouseup=function(t){var e=this._g;if(!e.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var r=e.hitTest(t),i=this._htDown;if(i&&!t.defaultPrevented&&(this._szArgs&&this._finishResizing(t),!this._szArgs&&r.panel==i.panel&&r.row==i.row&&r.col==i.col)){var o=r.getColumn();if(o&&!(o._getFlag($.HasTemplate)&&!o.cellTemplate)){var s=r.target;if(s!=i.target&&s instanceof HTMLElement){if(i.target instanceof HTMLInputElement){var l=r.point,a=i.point;Math.abs(l.x-a.x)+Math.abs(l.y-a.y)<10&&(s=s.querySelector("input")||s)}var u=document.createEvent("Event");u.initEvent("click",!0,!0);for(var c in t)/Key$|X$|Y$|^button|^(x|y|which)$/.test(c)&&(u[c]=t[c]);s.dispatchEvent(u)}}}this.resetMouseState()}},n.prototype._click=function(t){if(this._ignoreClick&&(this._ignoreClick=!1,t.preventDefault()),!t.defaultPrevented){var e=this._g,r=t.target,i=e.hitTest(r),o=Wt(r,HTMLInputElement),s="input."+Se._WJC_CHECKBOX;if(!o){var l=K(r,"label");l&&(o=l.querySelector(s))}if(!o&&e.bigCheckboxes&&(o=r.querySelector(s)),o!=e.activeEditor&&e._isNativeCheckbox(o)){if(i.panel==e.cells){var a=e.getCellData(i.row,i.col,!1);e.startEditing(!1,i.row,i.col,!1,t)?(e.activeEditor.checked=!a,e.finishEditing(),e.focus()):o.checked=a}return}if(this._hasRadioMap(t)){this._handleClick(t);return}var u=t.ctrlKey||t.metaKey;if(e.rows.maxGroupLevel>-1&&Ft(r,Se._WJC_COLLAPSE)){var c=e.rows[i.row];if(i.panel==e.cells&&c instanceof Pe){u?e.collapseGroupsToLevel(c.isCollapsed?c.level+1:c.level):c.isCollapsed=!c.isCollapsed;return}}if(!u&&!t.shiftKey&&!e.activeEditor&&i.panel==e.cells){var h=e._selHdl.selection;if(h.equals(this._selDown)&&i.range.contains(h)){e.startEditing(!0,null,null,!0,t);return}}this._handleClick(t)}},n.prototype._handleClick=function(t){var e=this._g,r=t.target,i=e.hitTest(r),o=t.ctrlKey||t.metaKey,s=i.panel;if(!t.defaultPrevented&&i.grid==e){if(s==e.cells&&this._hasRadioMap(t)){var l=K(r,"label"),a=l&&l.querySelector("input");a&&!a.disabled&&e.startEditing(!1,i.row,i.col,!1,t)&&e.finishEditing()&&(e._edtHdl._edtCanceled?t.preventDefault():e.setCellData(i.row,i.col,l.textContent,!0,e.refreshOnEdit));return}if(!e._isInputElement(r)){if(s==e.topLeftCells){var u=se;switch(e.selectionMode){case u.None:case u.Cell:break;default:e.selectAll()}return}if(s==e.columnHeaders){if(e.allowPinning&&Ft(r,Se._WJC_PIN))this._clickPin(t,i);else if(!e._isTransposed()&&Ft(t.target,Se._WJC_COLLAPSE)){if(p=e._getColumnGroup(i.row,i.col))if(o)for(var c=p.isCollapsed,h=p.level,d=[],f=0;f<e.columns.length;f++)(p=e._getColumnGroup(i.row,f))&&p.collapseTo&&p.level==h&&d.indexOf(p)<0&&(d.push(p),p.isCollapsed=!c);else p.isCollapsed=!p.isCollapsed}else r instanceof HTMLSpanElement&&r.parentElement instanceof HTMLLabelElement&&(r=r.parentElement.querySelector("input")),r instanceof HTMLInputElement||this._clickSort(t,i),e.focus();return}if(s==e.rowHeaders){if(e._isTransposed()&&Ft(t.target,Se._WJC_COLLAPSE)){var p;if(p=e._getColumnGroup(i.row,i.col))if(o){c=p.isCollapsed,h=p.level,d=[];for(var g=0;g<e.rows.length;g++)(p=e._getColumnGroup(g,i.col))&&p.collapseTo&&p.level==h&&d.indexOf(p)<0&&(d.push(p),p.isCollapsed=!c)}else p.isCollapsed=!p.isCollapsed}return}if(s==e.cells){if(i.row<0){this._clickSort(t,i);return}if(Ft(r,Se._WJC_COLLAPSE)){var w=e.rows[i.row];w instanceof Pe&&(o?e.collapseGroupsToLevel(w.isCollapsed?w.level+1:w.level):w.isCollapsed=!w.isCollapsed);return}Ft(r,Se._WJC_DROPDOWN)&&e._edtHdl._toggleListBox(t,i.range)}}}},n.prototype._hasRadioMap=function(t){var e=t.target;if(K(e,"label")){var r=Ft(e,Se._WJC_RADIOMAP);return Ft(r,ha)==this._g.hostElement}return!1},n.prototype._clickSort=function(t,e){var r=this._g,i=r.allowSorting,o=r.collectionView,s=o?o.sortDescriptions:null,l=t.ctrlKey||t.metaKey,a=t.shiftKey;if(o&&o.canSort&&i!=Wn.None){var u=e.panel.columns[e.col],c=r._getBindingColumn(e.panel,e.row,u),h=c?c._getBindingSort():null;if(c.allowSorting&&h){if(u==c){var d=r.getMergedRange(e.panel,e.row,e.col,!1);if(d&&d.columnSpan>1)return}var f=new de(e.panel,e.range,t);if(r.onSortingColumn(f)){r._edtHdl._commitRowEdits();for(var p=-1,g=null,w=0;w<s.length;w++)if(s[w].property==h){p=w,g=s[w];break}s.deferUpdate(function(){if(l&&a)s.clear();else if(g){var m=l;!m&&r.isTouching&&(m=g.ascending==0),m?s.removeAt(p):s[p]=new ji(h,!g.ascending)}else{i!=Wn.MultiColumn&&s.clear();var _=new ji(h,!0);s.push(_)}}),r.onSortedColumn(f)}}}},n.prototype._clickPin=function(t,e){var r=this._g,i=r.columns,o=i.frozen,s=r.allowPinning;s==tn.Both&&(s=t.shiftKey?tn.ColumnRange:tn.SingleColumn);var l=new de(r.cells,e.range);r.onPinningColumn(l)&&(s==tn.SingleColumn&&(e.col>=o?(i.moveElement(e.col,o,!1),i.frozen++):(i.moveElement(e.col,o-1,!1),i.frozen--)),s==tn.ColumnRange&&(e.col+1!=o?i.frozen=e.col+1:i.frozen=0),r.onPinnedColumn(l))},n.prototype._dblclick=function(t){if(!t.defaultPrevented){var e,r=this._g,i=r.hitTest(t),o=t.ctrlKey||t.metaKey,s=i.range,l=i.cellType,a=U,u=r.selection,c=r.allowResizing,h=wn;if(i.edgeRight&&c&h.Columns){if(l==a.TopLeft)i.panel.columns[i.col].allowResizing&&(e=new de(i.panel,new z(-1,i.col)),r.onAutoSizingColumn(e)&&r.onResizingColumn(e)&&(this._ignoreClick=!0,r.autoSizeColumn(i.col,!0),r.onAutoSizedColumn(e),r.onResizedColumn(e),t.preventDefault()));else if(l==a.ColumnHeader||c&Li){l==a.ColumnHeader&&o&&u.containsColumn(i.col)&&(s=u);for(var d=l==a.RowHeader||l==a.BottomLeft,f=s.leftCol;f<=s.rightCol;f++)i.panel.columns[f].allowResizing&&(e=new de(i.panel,new z(-1,f)),r.onAutoSizingColumn(e)&&r.onResizingColumn(e)&&(this._ignoreClick=!0,r.autoSizeColumn(f,d),r.onResizedColumn(e),r.onAutoSizedColumn(e),t.preventDefault()))}this.resetMouseState()}else if(i.edgeBottom&&c&h.Rows){if(l==a.TopLeft||l==a.BottomLeft)i.getRow().allowResizing&&(d=l==a.TopLeft||null,e=new de(i.panel,new z(i.row,-1)),r.onAutoSizingRow(e)&&r.onResizingRow(e)&&(this._ignoreClick=!0,r.autoSizeRow(i.row,d),r.onResizedRow(e),r.onAutoSizedRow(e),t.preventDefault()));else if(l==a.RowHeader||c&Li){var p=i.panel;d=p==r.columnHeaders||p==r.columnFooters&&null,o&&u.containsRow(i.row)&&p==r.cells&&(s=u);for(var g=s.topRow;g<=s.bottomRow;g++)p.rows[g].allowResizing&&(e=new de(p,new z(g,-1)),r.onAutoSizingRow(e)&&r.onResizingRow(e)&&(this._ignoreClick=!0,r.autoSizeRow(g,d),r.onResizedRow(e),r.onAutoSizedRow(e),t.preventDefault()))}this.resetMouseState()}}},n.prototype._hover=function(t){if(!this._isDown){var e=this._g,r=e.hitTest(t),i="";return this._szRowCol=this._getResizeColHt(r)||this._getResizeRowHt(r),this._szRowCol instanceof et?i="col-resize":this._szRowCol instanceof En&&(i="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=i,r}return null},n.prototype._getResizeColHt=function(t){var e,r=this._g.allowResizing,i=t.cellType,o=U;return r&wn.Columns&&(i==o.ColumnHeader||i==o.TopLeft||r&Li)&&(t.edgeRight&&(e=t.getColumn()),t.edgeFarRight&&(e=this._getResizeCol(t.panel,t.col)||t.getColumn()),t.edgeLeft&&(e=this._getResizeCol(t.panel,t.col,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeRowHt=function(t){var e,r=this._g.allowResizing,i=wn,o=t.cellType,s=U;return r&i.Rows&&(o==s.RowHeader||o==s.TopLeft||r&Li)&&(t.edgeBottom&&(e=t.getRow()),t.edgeFarBottom&&(e=this._getResizeRow(t.panel,t.row)||t.getRow()),t.edgeTop&&(e=this._getResizeRow(t.panel,t.row,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeCol=function(t,e,r){r===void 0&&(r=!1);var i=this._g,o=t.columns;if(r){for(var s=e-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l);if(o==i.columns&&i.headersVisibility&ze.Row){for(s=(o=i.rowHeaders.columns).length-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l)}return null}for(s=e+1;s<o.length;s++)if((l=o[s]).isVisible)return this._asResizable(l);if(e==o.length-1&&o==i.rowHeaders.columns)for(o=i.columns,s=0;s<o.length;s++){var l;if((l=o[s]).isVisible)return this._asResizable(l)}return null},n.prototype._getResizeRow=function(t,e,r){r===void 0&&(r=!1);var i=this._g,o=t.rows;if(r){for(var s=e-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l);if(o==i.rows&&i.headersVisibility&ze.Column){for(s=(o=i.columnHeaders.rows).length-1;s>=0;s--)if((l=o[s]).isVisible)return this._asResizable(l)}return null}for(s=e+1;s<o.length;s++)if((l=o[s]).isVisible)return this._asResizable(l);if(e==o.length-1&&o==i.columnHeaders.rows)for(o=i.rows,s=0;s<o.length;s++){var l;if((l=o[s]).isVisible)return this._asResizable(l)}return null},n.prototype._asResizable=function(t){return t.renderSize==0&&t.allowResizing?t:null},n.prototype._mouseSelect=function(t,e){var r=this,i=this._g;if(t&&this._htDown&&this._htDown.panel&&i.selectionMode!=se.None){var o=new Oo(this._htDown.panel,t);this._handleSelection(o,e),!Jn()&&t.button>=0&&t.target!=i._root&&((o=new Oo(i,t)).panel||setTimeout(function(){r._isDown&&r._eMouse&&r._mouseSelect(r._eMouse,e)},100))}},n.prototype._handleResizing=function(t){t.type=="mousedown"&&(wr()?A(t.target,"draggable",null):t.preventDefault());var e=this._szRowCol;if(e instanceof et){var r=this._g,i=dr(t).x,o=Math.round(Math.max(n._SZ_MIN,this._szStart+(i-this._htDown.point.x)*(r.rightToLeft?-1:1)));if(e.renderSize!=o){if(this._szArgs==null){var s=r.rowHeaders.columns.indexOf(e)>-1?r.rowHeaders:r.cells;this._szArgs=new de(s,new z(-1,e.index))}this._szArgs.cancel=!1,r.onResizingColumn(this._szArgs)&&(r.deferResizing?this._showResizeMarker(o):e.width=o)}}var l=this._szRowCol;if(l instanceof En){r=this._g;var a=dr(t).y;o=Math.round(Math.max(n._SZ_MIN,this._szStart+(a-this._htDown.point.y))),l.renderSize!=o&&(this._szArgs==null&&(s=r.columnHeaders.rows.indexOf(l)>-1?r.columnHeaders:r.columnFooters.rows.indexOf(l)>-1?r.columnFooters:r.cells,this._szArgs=new de(s,new z(l.index,-1))),this._szArgs.cancel=!1,r.onResizingRow(this._szArgs)&&(r.deferResizing?this._showResizeMarker(o):l.height=o))}this._szArgs&&t.preventDefault()},n.prototype._dragstart=function(t){var e=this._g,r=this._htDown,i=An,o=U;if(r){if(this._dragSrc=null,this._htDrag=null,this._chldColGrpMarker=!1,!this._szRowCol){var s=new de(r.panel,r.range),l=e.allowDragging,a=r.cellType,u=r.panel.rows,c=r.getColumn(!0);if(c&&c.allowDragging&&(a==o.ColumnHeader||a==o.TopLeft)&&l&i.Columns&&(e.onDraggingColumn(s)?this._dragSrc=t.target:t.preventDefault()),!this._dragSrc&&r.row>-1&&u[r.row].allowDragging){var h=u[r.row];h instanceof Pe||h instanceof Ie||a==o.RowHeader&&l&i.Rows&&(e.onDraggingRow(s)?this._dragSrc=t.target:t.preventDefault())}}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=r,Tp(t.dataTransfer,"move"),t.stopPropagation(),ie(this._dragSrc,ld),e.beginUpdate(),this._updating=!0)}},n.prototype._dragend=function(t){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},n.prototype._dragover=function(t){var e=this._g,r=this._hitTest(t),i=this._dragSrc?this._htDrag:null,o=U,s=!1;if(i&&r.cellType==i.cellType){var l=new de(r.panel,r.range,i);r.cellType==o.ColumnHeader&&e._hasColumnGroups()?(l.cancel=!e._canMoveColumnGroup(i.row,i.col,r.row,r.col),s=e.onDraggingColumnOver(l)):r.cellType==o.ColumnHeader?(l.cancel=!e.columns.canMoveElement(i.col,r.col),s=e.onDraggingColumnOver(l)):r.cellType==o.RowHeader?(l.cancel=!e.rows.canMoveElement(i.row,r.row),s=e.onDraggingRowOver(l)):r.cellType==o.TopLeft&&(l.cancel=!e.topLeftCells.columns.canMoveElement(i.col,r.col),s=e.onDraggingColumnOver(l))}if(s?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(r)):this._showDragMarker(null),i&&e.autoScroll){var a=e.controlRect,u=e.scrollPosition,c=O._DRAG_SCROLL_EDGE,h=O._DRAG_SCROLL_STEP;i.panel==e.columnHeaders?(t.pageX-a.left<c&&(u.x+=h),a.right-t.pageX<c&&(u.x-=h)):i.panel==e.rowHeaders&&(t.pageY-a.top<c&&(u.y+=h),a.bottom-t.pageY<c&&(u.y-=h)),u.equals(e._ptScrl)||(e.scrollPosition=u,e._rcBounds=null)}},n.prototype._dragleave=function(t){this._showDragMarker(null)},n.prototype._drop=function(t){var e=this._g,r=this._hitTest(t),i=this._dragSrc?this._htDrag:null,o=U;if(i&&r.cellType==i.cellType){var s=e.selection,l=new de(r.panel,r.range,i);r.cellType==o.ColumnHeader&&e._hasColumnGroups()?(e._moveColumnGroup(i.row,i.col,r.row,r.col,this._chldColGrpMarker),e.select(s.row,r.col),e.onDraggedColumn(l)):r.cellType==o.ColumnHeader?(e.columns.moveElement(i.col,r.col),e.select(s.row,r.col),e.onDraggedColumn(l)):r.cellType==o.RowHeader?(e.rows.moveElement(i.row,r.row),e.select(r.row,s.col),e.onDraggedRow(l)):r.cellType==o.TopLeft&&(e.topLeftCells.columns.moveElement(i.col,r.col),e.onDraggedColumn(l))}this.resetMouseState()},n.prototype._hitTest=function(t){var e=this._g;return e._rcBounds=null,e.hitTest(t)},n.prototype._showResizeMarker=function(t){var e,r=this._g,i=r._ptScrl,o=this._szArgs.panel.cellType,s=U,l=this._dvMarker,a=r.cells.hostElement;l.parentElement!=a&&a.appendChild(l),this._szRowCol instanceof et?(e={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},o!=s.TopLeft&&o!=s.RowHeader||(e.left-=r._eTL.offsetWidth+i.x),o==s.Cell&&this._szRowCol.index<r.frozenColumns&&(e.left-=i.x),r.rightToLeft&&(e.left=a.clientWidth-e.left-e.width)):(e={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},o!=s.TopLeft&&o!=s.ColumnHeader||(e.top-=r._eTL.offsetHeight+i.y),o==s.Cell&&this._szRowCol.index<r.frozenRows&&(e.top-=i.y)),H(l,e)},n.prototype._showDragMarker=function(t){var e=this._dvMarker;if(t&&t.panel){if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var r=t.panel.hostElement;e.parentElement!=r&&r.appendChild(e);var i=this._g,o=i._ptScrl,s=U,l={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case s.ColumnHeader:var a=i._getColumnGroup(t.row,t.col);if(a){var u=a._rng,c=t.panel.rows,h=t.panel.columns;if(a.isEmpty&&a.binding===null){var d=c[u.bottomRow],f=h[u.leftCol],p=i.rightToLeft,g=p?e.parentElement.clientWidth-t.point.x:t.point.x,w=Math.max(f.renderWidth/5,n._SZ_MAX_COLGRP_EDGE),m=f.pos+w,_=f.pos+f.renderWidth-w,v=this._htDown&&t.col>this._htDown.col;if(!v&&g>m||v&&g<_){l.top=d.pos-l.height/2+d.renderHeight,l.left=p?e.parentElement.clientWidth-f.pos-f.renderWidth:f.pos,l.width=f.renderWidth,this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1,l.top=0,l.height=0;for(var y=0;y<u.topRow;y++)l.top+=c[y].renderHeight;for(y=u.topRow;y<=u.bottomRow;y++)l.height+=c[y].renderHeight;if(l.left=0,this._htDown&&t.col>this._htDown.col){var b=h[u.rightCol];l.left=b.pos-l.width/2+b.renderWidth}else{var x=h[u.leftCol];l.left=x.pos-l.width/2}i.rightToLeft&&(l.left=e.parentElement.clientWidth-l.left-l.width);break}case s.TopLeft:case s.ColumnHeader:var C=t.panel.columns[t.col];l.left=C.pos-l.width/2,l.height=t.panel.height,this._htDown&&t.col>this._htDown.col&&(l.left+=C.renderWidth),t.cellType==s.ColumnHeader&&t.col<i.frozenColumns&&(l.left-=o.x),i.rightToLeft&&(l.left=e.parentElement.clientWidth-l.left-l.width);break;case s.RowHeader:var S=t.getRow();l.top=S.pos-l.height/2,l.width=t.panel.width,t.row>this._htDown.row&&(l.top+=S.renderHeight),t.row<i.frozenRows&&(l.top-=o.y)}H(e,l)}}else De(e),this._rngTarget=null},n.prototype._finishResizing=function(t){var e=this._g,r=e.selection,i=this._szArgs,o=this._eMouse,s=o&&(o.ctrlKey||o.metaKey),l=U;if(i&&!i.cancel){if(i.col>-1){var a=i.col,u=dr(t).x,c=Math.round(Math.max(n._SZ_MIN,this._szStart+(u-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(i.panel.columns[a].width=Math.round(c),e.onResizedColumn(i),s&&this._htDown.cellType==l.ColumnHeader&&r.containsColumn(a))for(var h=r.leftCol;h<=r.rightCol;h++)e.columns[h].allowResizing&&h!=a&&(i=new de(e.cells,new z(-1,h)),e.onResizingColumn(i)&&(e.columns[h].size=e.columns[a].size,e.onResizedColumn(i)));t.preventDefault()}if(i.row>-1){var d=i.row,f=dr(t).y;if(c=Math.round(Math.max(n._SZ_MIN,this._szStart+(f-this._htDown.point.y))),i.getRow().height=Math.round(c),e.onResizedRow(i),s&&this._htDown.cellType==l.RowHeader&&r.containsRow(d))for(var p=r.topRow;p<=r.bottomRow;p++)e.rows[p].allowResizing&&p!=d&&(i=new de(e.cells,new z(p,-1)),e.onResizingRow(i)&&(e.rows[p].size=e.rows[d].size,e.onResizedRow(i)));t.preventDefault()}}},n.prototype._handleSelection=function(t,e){var r=this._g,i=r._selHdl.selection,o=new z(t.row,t.col),s=U,l=se;if(o.isValid)if(this._lbSelState==null){switch(t.cellType){case s.RowHeader:o.col=0,o.col2=r.columns.length-1;break;case s.ColumnHeader:switch(r.selectionMode){case l.Row:case l.Cell:o.row=o.row2=i.row,e=!1;break;default:o.row=0,o.row2=r.rows.length-1}}if(e&&(r.anchorCursor?(o.row=i.row,o.col=i.col):(o.row2=i.row2,o.col2=i.col2),!o.isValid)){var a=this._htDown;a&&(o=new z(a.row,a.col))}if(r.selectionMode==se.MultiRange){var u=r._mouseHdl._eMouse,c=u&&(u.ctrlKey||u.metaKey),h=r._selHdl,d=h.selection,f=h.extendedSelection,p=t.panel!=r.cells;K(u.target,".wj-elem-collapse")&&(c=!1),c?!e&&h._deselectRange(o)?h.selection.isValid&&(o=null):d.isValid&&(p||!d.intersects(o))&&(p?this._splitRange(d):[d.clone()]).forEach(function(b){for(var x=!1,C=0;C<f.length&&!x;C++)f[C].equals(b)&&(x=!0);x||f.push(b)}):f.clear()}if(o)switch(r.select(o,!1),t.cellType){case s.RowHeader:r.scrollIntoView(t.row,-1);break;case s.ColumnHeader:r.scrollIntoView(-1,t.col);break;default:r.scrollIntoView(t.row,t.col)}else{var g=new de(r.cells,new z(t.row,t.col));r.onSelectionChanging(g),r.onSelectionChanged(g),r.invalidate()}}else{var w=this._htDown.row,m=t.row,_=this._lbSel;w>m&&(m=w,w=t.row);var v=this._lbSelStateRows||{};if(this._lbSel)for(var y=_.row;y<=_.row2;y++)(y<w||y>m)&&(r.rows[y].isSelected=v[y]);for(y=w;y<=m;y++)v.hasOwnProperty(y)||(v[y]=r.rows[y].isSelected),r.rows[y].isSelected=!this._lbSelState;this._lbSel=new z(w,0,m,0),r.scrollIntoView(t.row,t.col)}},n.prototype._splitRange=function(t){var e=this._g,r=e.columns.length,i=e.rows.length,o=[];if(t.columnSpan==r)for(var s=t.topRow;s<=t.bottomRow;s++)o.push(new z(s,0,s,r-1));else if(t.rowSpan==i)for(var l=t.leftCol;l<=t.rightCol;l++)o.push(new z(0,l,i-1,l));else o.push(t.clone());return o},n._SZ_MIN=0,n._SZ_MAX_COLGRP_EDGE=50,n}();Bo("wijmo.grid",ud);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var dy=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function mu(){return Pl("wijmo.input")}function ks(){return Pl("wijmo.grid.detail")}var hg=ud&&Se;hg||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var dg=function(n){dy(t,n);function t(e){var r=n.call(this)||this;if(r._lastApplyTimeStamp=0,r._noApplyLag=!1,r._startingEditing=!1,r._cellStampCounter=0,r._composing=!1,r._isCheckingHeght=!1,r._backupHeight=-1,r._cacheRow=null,r.grid=e,!t._templateTypes){t._templateTypes=[];for(var i in pe)isNaN(i)&&t._templateTypes.push(i)}var o=r;return r._baseCf=e.cellFactory,e.cellFactory=r,r._evtInput=document.createEvent("HTMLEvents"),r._evtInput.initEvent("input",!0,!1),r._evtBlur=document.createEvent("HTMLEvents"),r._evtBlur.initEvent("blur",!1,!1),e.prepareCellForEdit.addHandler(function(s,l){o._noApplyLag=!0}),e.cellEditEnded.addHandler(function(s,l){var a=l.range,u=a.col;(u<0||u<e.columns.length&&!e._getBindingColumn(e.cells,a.row,e.columns[u])[t.getTemplContextProp(pe.CellEdit)])&&(o._editChar=null),setTimeout(function(){o._noApplyLag=!1},300)}),e.beginningEdit.addHandler(function(s,l){o._startingEditing=!0}),e.hostElement.addEventListener("keydown",function(s){o._startingEditing=!1},!0),e.hostElement.addEventListener("keypress",function(s){var l=s.charCode>32?String.fromCharCode(s.charCode):null;l&&K(s.target,".wj-flexgrid")===e.hostElement&&(!e.activeEditor||o._startingEditing?(o._editChar=l,setTimeout(function(){e.activeEditor||(o._editChar=null)},0)):o._editChar&&(o._editChar+=l))},!0),e.hostElement.addEventListener("compositionstart",function(s){o._composing=!0},!0),e.hostElement.addEventListener("compositionend",function(s){o._composing=!1},!0),r}return t.prototype.updateCell=function(e,r,i,o,s){var l=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var a=o[t._cellStampProp]=this._cellStampCounter;o.style.overflow&&(o.style.overflow="");var u=r,c=i;s&&!s.isSingleCell&&(r=s.row,i=s.col);var h,d=this,f=e.grid,p=f.editRange,g=e.rows[r],w=g.dataItem,m=!1,_=!1,v=!1,y=!1;switch(e.cellType){case U.Cell:if(p&&p.row===r&&p.col===i)h=pe.CellEdit,_=v=!0;else if(g instanceof Pe){var b=!((y=w instanceof yn)||g.hasChildren);i==e.columns.firstVisibleIndex?h=b?pe.Cell:pe.GroupHeader:(h=b?pe.Cell:pe.Group,_=!0)}else g instanceof Ie?h=pe.NewCellTemplate:ks()&&ks().DetailRow&&g instanceof ks().DetailRow||(h=pe.Cell);break;case U.ColumnHeader:h=pe.ColumnHeader;break;case U.RowHeader:h=f.collectionView&&f.collectionView.currentEditItem===w?pe.RowHeaderEdit:pe.RowHeader,m=!0;break;case U.TopLeft:h=pe.TopLeft,m=!0;break;case U.ColumnFooter:h=pe.ColumnFooter,_=!0;break;case U.BottomLeft:h=pe.BottomLeft,m=!0}var x=!1;if(h!=null){var C=null;if(y&&h==pe.GroupHeader?C=f.getColumn(w.groupDescription.propertyName):i>=0&&i<e.columns.length&&(C=e.cellType===U.ColumnHeader&&f._hasColumnGroups()?f._getColumnGroup(r,i):f._getBindingColumn(e,r,e.columns[i])),C){var S=t.getTemplContextProp,M=S(h),I=(m?f:C)[M];if(I||(h===pe.RowHeaderEdit?(M=S(h=pe.RowHeader),I=f[M]):(h===pe.Group||h===pe.GroupHeader)&&!y&&(M=S(h=pe.Cell),I=C[M])),I){var N;_&&(N=e.getCellData(r,i,!1)),x=!0;var R=o.getAttribute(un._WJS_MEASURE),V=R&&R.toLowerCase()==="true";v&&(this.clearCell(o),this._baseCf.updateCell(e,u,c,o,s,!0));var X,tt=v&&f.imeEnabled,Fe=tt&&this._composing,Ye=o[M],D={cell:o,column:C,row:g,panel:e,rng:s,isEdit:v,isImeInput:tt,isTrueImeInput:Fe,templateContext:I,templateCache:Ye,templateContextProperty:M,cellStamp:a,cellValue:N};if(this.shouldInstantiate(D)){if(v){var G=o.firstElementChild;G&&(tt||o.focus(),G.style.display="none")}else this.clearCell(o);this._doDisposeCell(o),this.renderTemplate(D,!0),D.templateCache=Ye=o[M],X=D.cellBindingsData}else this.renderTemplate(D,!1),X=D.cellBindingsData;if(I.cellOverflow&&(o.style.overflow=I.cellOverflow),V?this.applyImmediately(D):I.autoSizeRows&&!tt?this.checkHeight(D):v&&setTimeout(function(){tt?l._initImeEditInput(D.cell,I):l._initEditInput(D.cell,I,null)},0),v){d._cellEditorVars=X.localVars;var Y=function(ae,nt){if(f.cellEditEnding.removeHandler(Y),!nt.stayInEditMode){var Xe=Z();Xe&&Xe.dispatchEvent(d._evtBlur),q(o,Z())&&o.focus()}if(d._triggerEditorEvents(o),!nt.cancel&&!nt.stayInEditMode)for(var Pt=X.localVars,at=0,ut=Object.getOwnPropertyNames(X.bindings);at<ut.length;at++){var Rn=ut[at];X.bindings[Rn].setValue(Pt,X.localVars.values[Rn])}var Ht=o.querySelectorAll(".wj-dropdown");[].forEach.call(Ht,function(cn){var hn=O.getControl(cn);hn&&mu()&&hn instanceof mu().DropDown&&(hn.isDroppedDown=!1)})},le=function(ae,nt){f.cellEditEnded.removeHandler(le),d._cellEditorVars=null};f.cellEditEnding.addHandler(Y),f.cellEditEnded.addHandler(le)}else this._baseCf.updateCell(e,u,c,o,s,!1)}}}x||(this._doDisposeCell(o),this._baseCf.updateCell(e,u,c,o,s))},t.prototype.getEditorValue=function(e){if(this._cellEditorVars){var r=e.editRange;return r&&r.isValid&&this._triggerEditorEvents(e.cells.getCellElement(r.row,r.col)),this._cellEditorVars.value}return n.prototype.getEditorValue.call(this,e)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,r,i){r&&(r.rootElement=null,r.column=null,e[r.templateContextProperty]=null,r.templateContextProperty=null)},t.prototype.setBindingsData=function(e,r,i,o,s,l){e.row=r,e.col=i,e.item=o;var a={},u=e.cell||{},c={},h={localVars:u,bindings:c};if(u.row=r,u.col=i,u.item=o,u.value=s,u.values=a,l)for(var d=0,f=Object.getOwnPropertyNames(l);d<f.length;d++){var p=f[d],g=new lt(l[p]);c[p]=g,a[p]=g.getValue(u)}return e.cell!==u&&(e.cell=u),h},t.prototype.checkHeight=function(e){var r=this;setTimeout(function(){var i=e.cell;if(e.cellStamp===i[t._cellStampProp]){var o=i.scrollHeight,s=e.panel.rows,l=e.row.index,a=e.rng,u=a&&a.rowSpan||1,c=e.isEdit;if(s.maxSize!=null&&(o=Math.min(o,s.maxSize)),l<s.length&&s[l].renderHeight*u<o-1){var h=s.defaultSize=o/u;if(c){var d=r._isFullEdit(),f=r.grid;r._backupHeight=e.row.height,e.row.height=h,r._cacheRow=e.row,r._isCheckingHeght=!0,f.refresh(),f.startEditing(d),r._isCheckingHeght=!1;return}}else c&&(e.isImeInput?r._initImeEditInput(e.cell,e.templateContext):r._initEditInput(e.cell,e.templateContext,null))}},0)},t.prototype._restoreRowHeight=function(){!this._isCheckingHeght&&this._backupHeight>0&&(this._cacheRow.height=this._backupHeight,this._backupHeight=-1,this._cacheRow=null)},t.prototype.doDisposeCell=function(e){for(var r=t._templateTypes,i=0;i<r.length;i++){var o=t.getTemplContextProp(pe[r[i]]),s=e[o];if(s){var l=(s.column||this.grid)[o];this.disposeTemplate(e,s,l),r[i]==pe[pe.CellEdit]&&this._restoreRowHeight()}}},t.getTemplContextProp=function(e){return"$__cellTempl"+pe[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,r,i){var o=this;this.setEditorFocusFlag(!0);var s=this.getEditorFocusFlag()!==!1;this.setEditorFocusFlag(null),this._setFullEdit(r),s&&setTimeout(function(){var l=o._findInitialInput(e);if(l){var a=function(){l.removeEventListener("focus",a),setTimeout(function(){setTimeout(function(){var u=i??o._editChar;u&&(l.value=u,o._editChar=null,t._setSelectionRange(l,u.length,u.length),l.dispatchEvent(o._evtInput))},0)},t._FOCUS_INTERVAL)};l.addEventListener("focus",a),l.focus()}},100)},t.prototype._initImeEditInput=function(e,r){var i=this,o=Z();if(o&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement)&&fe(o,"wj-grid-ime")){var s=this._findInitialInput(e),l=s&&s.style.color,a=this._composing,u=function(){o.removeEventListener("compositionend",u),H(o,Rl._cssHidden),i.setEditorFocusFlag(!0),s&&(s.style.color=l),i._initEditInput(e,r,a?o.value:null)};if(a){if(o.addEventListener("compositionend",u),s){var c=s.getBoundingClientRect(),h=o.getBoundingClientRect(),d=window.getComputedStyle(o),f=parseFloat(d.left),p=parseFloat(d.top);H(o,{left:f+c.left-h.left+"px",top:p+c.top-h.top+"px",width:c.width+"px",height:c.height+"px"}),s.style.color="transparent"}}else setTimeout(function(){return u()},t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var r=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea")||e&&e.querySelectorAll("input,textarea");if(r)for(var i=0;i<r.length;i++){var o=r[i],s=window.getComputedStyle(o);if(s.display!=="none"&&s.visibility==="visible")return o}return null},t._setSelectionRange=function(e,r,i){if(i===void 0&&(i=r),q(document.body,e)&&!e.disabled&&e.style.display!="none")try{e.setSelectionRange(j(r),j(i),ge()?null:"backward"),e.focus()}catch{}},t.prototype._triggerEditorEvents=function(e){if(e)for(var r=e.querySelectorAll(".wj-control"),i=0;i<r.length;i++){var o=r[i],s=O.getControl(o);s&&this.flushPendingEvents(s)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var r=this.grid;e.forceFullEdit&&r.activeEditor&&(r._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=O._FOCUS_INTERVAL+20,t}(Se);hg||(window.wijmo.grid=null);var pe;(function(n){n[n.Cell=0]="Cell",n[n.CellEdit=1]="CellEdit",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.RowHeaderEdit=4]="RowHeaderEdit",n[n.TopLeft=5]="TopLeft",n[n.GroupHeader=6]="GroupHeader",n[n.Group=7]="Group",n[n.NewCellTemplate=8]="NewCellTemplate",n[n.ColumnFooter=9]="ColumnFooter",n[n.BottomLeft=10]="BottomLeft"})(pe||(pe={}));Bo("wijmo.interop.grid",wg);/*!
    *
    * Wijmo Library 5.20222.877
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */var Uo=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fs=pe,fy=function(n){Uo(t,n);function t(e){return n.call(this,e,un,{objectProps:["childItemsPath","mergeManager","itemsSource","virtualizationThreshold","columnGroups"]})||this}return t.prototype._createControl=function(){var e=n.prototype._createControl.call(this);return new vu(this,e),e},t}(gi);(function(n){Uo(t,n);function t(e){var r=n.call(this,e,et,{objectProps:["dataMap","cellTemplate","editor"]})||this;return r._parentProp="columns",r}return t.prototype._initParent=function(){var e=this.parent.control;e.autoGenerateColumns&&(e.autoGenerateColumns=!1,e.columns.clear()),n.prototype._initParent.call(this)},t})(gi);(function(n){Uo(t,n);function t(e){var r=n.call(this,e,Fi,{objectProps:["dataMap","cellTemplate","editor"]})||this;return r._parentProp="columnGroups",r}return t})(gi);var vu=function(n){Uo(t,n);function t(e,r){var i=n.call(this,r)||this;return i._renderedCells=[],i._isViewUpdated=!1,r.updatedView.addHandler(i._gridViewUpdated,i),e._beforeDidUpdate.addHandler(i._gridCmpBeforeDidUpdate,i),e._afterDidUpdate.addHandler(i._gridCmpAfterDidUpdate,i),i}return t.prototype.shouldInstantiate=function(e){var r=e.templateCache;return r==null||r.column!==e.column||r.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=r.rootElement},t.prototype.renderTemplate=function(e,r){var i=e.row,o=e.templateContext,s=e.cell;if(e.cellBindingsData=this.setBindingsData({},i,e.column,i.dataItem,e.cellValue,o.valuePaths),this._renderCell(s,e),r){this._addRenderedCell(s);var l=e.templateCache={column:e.column,rootElement:s.firstElementChild,templateContextProperty:e.templateContextProperty};s[e.templateContextProperty]=l}},t.prototype.disposeTemplate=function(e,r,i){r&&(gi.sensitiveDomUnmount(e,!1),this._removeRenderedCell(e),n.prototype.disposeTemplate.call(this,e,r,i))},t.prototype.clearCell=function(e){gi.sensitiveDomUnmount(e,!1)},t.prototype.applyImmediately=function(e){},t.prototype.flushPendingEvents=function(e){},t.prototype.getEditorFocusFlag=function(){return!0},t.prototype.setEditorFocusFlag=function(e){},t.prototype._renderCell=function(e,r){var i=r||e.__wjCellLastRenderedProp;if(i){var o=i&&i.templateContext.template,s=i.cellBindingsData.localVars;gi.sensitiveDomRender(ht.createElement("div",{},o&&o(s)),e),e.__wjCellLastRenderedProp=i}},t.prototype._addRenderedCell=function(e){var r=this._renderedCells;r.indexOf(e)<0&&r.push(e)},t.prototype._removeRenderedCell=function(e){var r=this._renderedCells,i=r.indexOf(e);i>-1&&r.splice(i,1)},t.prototype._reRenderCells=function(){var e=this;this._renderedCells.forEach(function(r){return e._renderCell(r)})},t.prototype._gridCmpBeforeDidUpdate=function(){this._isViewUpdated=!1},t.prototype._gridCmpAfterDidUpdate=function(){this._gridCmpRendered()},t.prototype._gridCmpRendered=function(){var e=this;setTimeout(function(){e._isViewUpdated?e._isViewUpdated=!1:e._reRenderCells()},O._REFRESH_INTERVAL)},t.prototype._gridViewUpdated=function(){this._isViewUpdated=!0},t}(dg);(function(n){Uo(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"cellOverflow",{get:function(){return this.props.cellOverflow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeRows",{get:function(){var e=this.props.autoSizeRows;return e==null||e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceFullEdit",{get:function(){var e=this.props.forceFullEdit;return e==null||e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valuePaths",{get:function(){return this.props.valuePaths},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.props[t._CellRenderFuncProp]},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this,r=this.props[gi._propsParent];r&&r._mountedCB(function(){var i=e.ownerControl=r.control;if(i instanceof un)e.grid=i;else if(i instanceof et){e.column=i;var o=r,s=void 0;do s=(o=o.props[gi._propsParent])&&o.control;while(s&&!(s instanceof un));e.grid=s}e.template&&e._attachToControl()})},t.prototype.componentWillUnmount=function(){this._detachFromControl()},t.prototype.componentDidUpdate=function(e){var r=e[t._CellRenderFuncProp],i=this.template;r!=i&&(r==null?this._attachToControl():i==null&&this._detachFromControl())},t.prototype.render=function(){return null},t.prototype._attachToControl=function(){var e=this.cellType=ye(this.props.cellType,fs),r=this.ownerControl;r[vu.getTemplContextProp(e)]=this,r instanceof et&&(e===fs.Cell||e===fs.ColumnHeader||e===fs.ColumnFooter)&&r._setFlag($.HasTemplate,!0),this.grid.invalidate()},t.prototype._detachFromControl=function(){this.cellType!=null&&(this.ownerControl[vu.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},t._CellRenderFuncProp="template",t})(ht.Component);const ps=[[{checker:!1,num1:1,num2:2},{checker:!1,num1:3,num2:4}],[{checker:!1,num1:11,num2:12},{checker:!1,num1:13,num2:14}]],ad=[{header:"チェック",binding:"checker",align:"right"},{binding:"num1",header:"数値1"},{binding:"num2",header:"数値2(グリッドのスクロールが発生する程度に長くしています)",width:1e3},{binding:"sum",header:"合計",isReadOnly:!0}],py=()=>{const[n,t]=ht.useState([[{...ps[0][0]},{...ps[0][1]}],[{...ps[1][0]},{...ps[1][1]}]]),[e,r]=ht.useState(null),[i,o]=ht.useState(0),[s,l]=ht.useState([[!0,!1],[!1,!1]]),a=ht.useRef(null);ht.useEffect(()=>{r(e?g=>(g&&(g.sourceCollection=n[i]),g):new on(n[i],{calculatedFields:{sum:g=>g.num1+g.num2}}))},[n,i,s]),ht.useEffect(()=>{console.log(e==null?void 0:e.sourceCollection)},[e]);const u=g=>{a.current=g;for(let w=0;w<ad.length;w++)g.columns.push(new et(ad[w]));g.formatItem.addHandler((w,m)=>{c(m.panel,m.row,m.col,m.cell),h(m.panel,m.row,m.col,m.cell)}),g.hostElement.addEventListener("click",f),g.hostElement.addEventListener("touchstart",f),g.hostElement.addEventListener("click",d),g.hostElement.addEventListener("touchstart",d)},c=(g,w,m,_)=>{var v;if(g.columns[m].binding==="checker"&&_.classList.contains("wj-header")){const y=(v=a.current)==null?void 0:v.itemsSource.items.every(b=>b.checker);_.innerHTML=`<input type="checkbox" id="checker-${w}" ${y&&"checked"}>`}},h=(g,w,m,_)=>{if(g.columns[m].binding==="checker"&&!_.classList.contains("wj-header")){const y=g.rows[w].dataItem.checker,b=`${i}-${w}`+(y&&s[i][w]?"hoge":"fuga");_.innerHTML=`
        <label>
        <input type="checkbox" id="checker-${w}" ${y&&"checked"}>
        ${b}
        </label>`}},d=g=>{var m,_,v,y,b;const w=(m=a.current)==null?void 0:m.hitTest(g);if(w){const x=w.getRow(),C=w.getColumn();if(C&&C.binding==="checker"&&x.dataIndex===-1){g.preventDefault();const S=(_=a.current)==null?void 0:_.itemsSource.items.every(M=>M.checker);if(a.current)for(let M=0;M<((v=a.current)==null?void 0:v.itemsSource.items.length);M++)a.current.itemsSource.items[M].checker=!S;(y=a.current)==null||y.refreshCells(!0),(b=a.current)==null||b.onCellEditEnded(new de(a.current.cells,new z(w.row,w.col,a.current.itemsSource.items.length-1)))}}},f=g=>{var m,_,v,y;const w=(m=a.current)==null?void 0:m.hitTest(g);if(w){const b=w.getRow(),x=w.getColumn();if(x&&x.binding==="checker"&&b.dataIndex>-1){g.preventDefault();const C=w.getRow().dataItem;C.checker=!C.checker,(_=a.current)==null||_.refreshCells(!0),(v=a.current)==null||v.select(w.range),(y=a.current)==null||y.onCellEditEnded(new de(a.current.cells,w.range))}}},p=(g,w)=>{l(m=>m.map((v,y)=>v.map((b,x)=>y===g&&x===w?!b:b)))};return it.jsxs(it.Fragment,{children:[it.jsxs("label",{children:[it.jsx("input",{type:"checkbox",checked:s[0][0],onChange:()=>{p(0,0)}}),"0-0"]}),it.jsxs("label",{children:[it.jsx("input",{type:"checkbox",checked:s[0][1],onChange:()=>{p(0,1)}}),"0-1"]}),it.jsxs("label",{children:[it.jsx("input",{type:"checkbox",checked:s[1][0],onChange:()=>{p(1,0)}}),"1-0"]}),it.jsxs("label",{children:[it.jsx("input",{type:"checkbox",checked:s[1][1],onChange:()=>{p(1,1)}}),"1-1"]}),it.jsxs("button",{onClick:()=>{o(g=>g===0?1:0)},children:["選択されたデータ：",i]}),it.jsx("button",{onClick:()=>{t(g=>g)},children:"データ更新"}),it.jsx(fy,{allowSorting:"None",allowDragging:"None",autoGenerateColumns:!1,initialized:u,itemsSource:e,frozenColumns:1,refreshOnEdit:!1,headersVisibility:ze.Column})]})};function gy(){return it.jsx(it.Fragment,{children:it.jsx(py,{})})}da.createRoot(document.getElementById("root")).render(it.jsx(Ag.StrictMode,{children:it.jsx(gy,{})}));
